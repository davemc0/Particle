<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./ParticleHelp_files/filelist.xml">
<title>To do:</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>davemc</o:Author>
  <o:LastAuthor>David K. McAllister</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>1054</o:TotalTime>
  <o:Created>2000-02-18T18:32:00Z</o:Created>
  <o:LastSaved>2000-02-18T18:32:00Z</o:LastSaved>
  <o:Pages>64</o:Pages>
  <o:Words>8724</o:Words>
  <o:Characters>49728</o:Characters>
  <o:Company>UNC-CH</o:Company>
  <o:Lines>414</o:Lines>
  <o:Paragraphs>99</o:Paragraphs>
  <o:CharactersWithSpaces>61069</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
  <o:TargetScreenSize>720x512</o:TargetScreenSize>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Print</w:View>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:Compatibility>
   <w:FootnoteLayoutLikeWW8/>
   <w:ShapeLayoutLikeWW8/>
   <w:AlignTablesRowByRow/>
   <w:ForgetLastTabAlignment/>
   <w:LayoutRawTableWidth/>
   <w:LayoutTableRowsApart/>
  </w:Compatibility>
  <w:DoNotOptimizeForBrowser/>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-update:auto;
	mso-style-parent:"";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-before:always;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:14.0pt;
	mso-bidi-font-weight:normal;}
h2
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-font-weight:normal;
	font-style:italic;
	mso-bidi-font-style:normal;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	font-weight:normal;}
p.MsoList, li.MsoList, div.MsoList
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.25in;
	text-indent:-.25in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoNoteHeading, li.MsoNoteHeading, div.MsoNoteHeading
	{mso-style-update:auto;
	mso-style-next:Note;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	text-transform:uppercase;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
p.MsoBodyText2, li.MsoBodyText2, div.MsoBodyText2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	text-align:center;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-style:italic;
	mso-bidi-font-style:normal;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.FuncProto, li.FuncProto, div.FuncProto
	{mso-style-name:FuncProto;
	mso-style-update:auto;
	mso-style-parent:"Plain Text";
	mso-style-next:Description;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-before:always;
	mso-pagination:widow-orphan;
	mso-outline-level:1;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Description, li.Description, div.Description
	{mso-style-name:Description;
	mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;
	mso-bidi-font-weight:normal;}
p.Note, li.Note, div.Note
	{mso-style-name:Note;
	mso-style-update:auto;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.25in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:401030927;
	mso-list-type:simple;
	mso-list-template-ids:67698689;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.25in;
	mso-level-number-position:left;
	margin-left:.25in;
	text-indent:-.25in;
	font-family:Symbol;}
@list l1
	{mso-list-id:1336617755;
	mso-list-type:simple;
	mso-list-template-ids:67698689;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.25in;
	mso-level-number-position:left;
	margin-left:.25in;
	text-indent:-.25in;
	font-family:Symbol;}
@list l2
	{mso-list-id:1416853101;
	mso-list-type:simple;
	mso-list-template-ids:67698689;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.25in;
	mso-level-number-position:left;
	margin-left:.25in;
	text-indent:-.25in;
	font-family:Symbol;}
@list l3
	{mso-list-id:1647591341;
	mso-list-type:simple;
	mso-list-template-ids:67698689;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.25in;
	mso-level-number-position:left;
	margin-left:.25in;
	text-indent:-.25in;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<h1 align=center style='text-align:center'>Documentation for the Particle
System API</h1>

<p class=MsoNormal align=center style='text-align:center'>By David K.
McAllister</p>

<p class=MsoNormal align=center style='text-align:center'><a
href="mailto:davemc@cs.unc.edu">davemc@cs.un<span style='mso-bookmark:_Hlt423319854'>c</span>.edu</a><![if !supportNestedAnchors]><a
name="_Hlt423319854"></a><![endif]></p>

<p class=MsoNormal align=center style='text-align:center'>Version 1.20</p>

<p class=MsoNormal align=center style='text-align:center'>November 12, 1999</p>

<p class=MsoNormal align=center style='text-align:center'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'>The home page of the Particle System API is <a
href="http://www.cs.unc.edu/~davemc/Particle"><span style='font-weight:normal'>http://www.cs.unc.edu/~davemc/Particle</span></a><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'>Check back occasionally for new versions and other new developments.<o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></b></p>

<p class=MsoBodyText2>The Particle System API may be freely distributed in its
original distribution form and used for non-commercial purposes. For commercial
licensing, please contact <a href="mailto:davemc@cs.unc.edu">davemc@cs.unc.edu</a>
.</p>

<h1>Introduction</h1>

<p class=MsoNormal>The Particle System Application Programmer Interface (API)
is a set of functions that allow C++ programs to simulate the dynamics of
particles. The Particle System API is intended for special effects in
interactive and non-interactive graphics applications, not for scientific
simulation, although principles of Newtonian physics have been used to
implement the particle dynamics where applicable. The style of the API is
intended to be similar to that of OpenGL (from Silicon Graphics, Inc. and the
OpenGL Architecture Review Board). OpenGL is currently the standard 3D graphics
API because of its cleanness, clarity, and ability to represent a variety of
graphics hardware while completely abstracting the hardware away from the
application programmer.</p>

<p class=MsoNormal>This API consists of four sets of functions. These are calls
that set the current state of the library, calls that act on groups of
particles (these functions are called Actions), calls that operate on and
manage particle groups, and calls that create and operate on action lists. The
documentation is divided into four sections for the four kinds of functions.</p>

<h3>Particles</h3>

<p class=MsoNormal>For the purposes of the Particle System API, a particle is
not just a very tiny speck. Particles can be drawn as anything - water
droplets, birds, tumbleweeds, even people. The Particle System API is generally
useful for operating on many similar objects that all move and change according
to the same basic rules, no matter what the objects and rules are.</p>

<p class=MsoNormal>A particle in the abstract sense used by the API is merely
an entity with a small set of attributes such as position and color that
ultimately dictate the particle's behavior and appearance. Here are the particle
attributes: The position, represented as three floats, tells where the particle
is. The color is represented as three floats. The velocity consists of three
floats telling the direction and speed (velocity vector) of the particle's
movement. The size is three floats representing how large the particle is for
purposes of drawing. At present, the size attribute does not affect the
particle's behavior (under gravity, for example), and should not be interpreted
as mass in particle physics equations. The size also does not indicate how
close the particle is to other particles or surfaces. It is only a drawing
attribute. The age attribute is one float representing the amount of time since
the particle's creation. The secondary position, or <i style='mso-bidi-font-style:
normal'>positionB</i> attribute, specifies another position in space for this
particle. It usually represents the particle's initial position, or the
particle's destination. See <b style='mso-bidi-font-weight:normal'>pRestore</b>
for a use of <i style='mso-bidi-font-style:normal'>positionB</i>. </p>

<h3>Particle Groups</h3>

<p class=MsoNormal>A particle group is a system of particles that are all acted
on together. </p>

<p class=MsoNormal>It can be considered a dynamic geometric object. </p>

<p class=MsoNormal>The dynamics are provided by the particle actions. From the
point of view of the graphics system, a particle group is just another model to
be drawn. The Particle Groups section of the documentation explains the
functions that create and deal with particle groups.</p>

<h3>State</h3>

<p class=MsoNormal>As in OpenGL, some calls actually do something and some
calls modify the current settings (the current state) that describe the
behavior of the calls that do something. Each of the following calls modifies
the current state of the Particle System API. Most elements of the current
state are used to specify attributes of particles to be created. </p>

<h3>Actions</h3>

<p class=MsoNormal>Actions are the core of the Particle System API. They are
the functions in the API that directly manipulate particles in particle groups.
They perform effects such as gravity, explosions, bouncing, etc. to all
particles in the current particle group. A program typically creates and
initializes one or more particle groups, then at run time it calls particle
actions to animate the particles and finally calls a <b style='mso-bidi-font-weight:
normal'>pDrawGroup</b> function to draw the group of particles onto the screen.</p>

<p class=MsoNormal>The Particle System API uses a discrete time approximation
to all actions. See <b style='mso-bidi-font-weight:normal'>pTimeStep</b> for
information on improving simulation quality by varying the time step, <i
style='mso-bidi-font-style:normal'>dt</i>.</p>

<h3>Action Lists</h3>

<p class=MsoNormal>Action lists are blocks of actions that are applied together
to a particle group. They are conceptually similar to scripts or procedures.
They can also be thought of as similar to display lists in OpenGL. An action
list abstracts the specifics of a particular effect and allows complex effects
to be treated as primitives like actions (except that an action list cannot be
an action within another action list). Action lists also allow effects to be
simulated much more efficiently on certain parallel machines, such as
PixelFlow. Also, action lists can be optimized by a particular implementation
of the Particle System API. For example, common sequences of actions can be
detected and replaced by efficient code that handles all those actions in one
pass.</p>

<h3>Domains</h3>

<p class=MsoNormal>A Domain is a representation of a region of space. For
example, the <b style='mso-bidi-font-weight:normal'>pSource</b> action uses a
domain to describe the volume in which a particle's random initial position
will be. The <b style='mso-bidi-font-weight:normal'>pSink</b> and <b
style='mso-bidi-font-weight:normal'>pBounce</b> actions use domains to describe
a volume in space for particles to die when they enter, or to bounce off,
respectively. Domains are used as parameters to many functions within the API.
See the <u>Domains</u> section of this document for more.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>Many functions in the Particle System API take arguments with
default values. This is a feature of C++ that may be new to many people. For
example, in <b style='mso-bidi-font-weight:normal'>pColor</b>(float <i
style='mso-bidi-font-style:normal'>r</i>, float <i style='mso-bidi-font-style:
normal'>g</i>, float <i style='mso-bidi-font-style:normal'>b</i>, float <i
style='mso-bidi-font-style:normal'>alpha</i> = 1.0f), the parameter <i
style='mso-bidi-font-style:normal'>alpha </i>has a default value of 1.0. This means
that <b style='mso-bidi-font-weight:normal'>pColor</b> can be called with
either three parameters or four. When called with four, the parameters are the
values for <i style='mso-bidi-font-style:normal'>r, g, b</i> and <i
style='mso-bidi-font-style:normal'>alpha</i>. When called with three
parameters, they are the values of <i style='mso-bidi-font-style:normal'>r, g, </i>and<i
style='mso-bidi-font-style:normal'> b</i>. The value of <i style='mso-bidi-font-style:
normal'>alpha </i>in such a function call is the default value, 1.0. Only
parameters starting with the right-hand end of the parameter list can have
default values specified. Likewise, when calling functions that have default
values for parameters at the end of the list, all values specified will be
applied to parameters starting with the left. This means that there is no way
to specify a value for a parameter at the end of the list without specifying
values for all parameters to its left.</p>

<h1>State Setting Calls</h1>

<p class=MsoNormal>This is a description of all calls that set the current
state of the Particle System API. With the exception of <b style='mso-bidi-font-weight:
normal'>pTimeStep </b>these state values dictate the properties of particles to
be created by <b style='mso-bidi-font-weight:normal'>pSource</b> or <b
style='mso-bidi-font-weight:normal'>pVertex</b>.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>When particles are created within a <b style='mso-bidi-font-weight:
normal'>pNewActionList</b> / <b style='mso-bidi-font-weight:normal'>pEndActionList</b>
block, they will receive attributes from the state that was current when the
action list was created. When in immediate mode (not creating or calling an
action list), particles are created with attributes from the current state.</p>

<p class=Note>The initial color domain, modifiable by <b style='mso-bidi-font-weight:
normal'>pColor</b>, is: <b style='mso-bidi-font-weight:normal'>PDPoint</b>,
1.0, 1.0, 1.0, that is, white. The initial alpha value is 1.0.</p>

<p class=Note>The initial velocity domain, modifiable by <b style='mso-bidi-font-weight:
normal'>pVelocity</b>, is: <b style='mso-bidi-font-weight:normal'>PDPoint</b>,
0.0, 0.0, 0.0, or no velocity.</p>

<p class=Note>The initial positionB domain, modifiable by <b style='mso-bidi-font-weight:
normal'>pVertexB</b>, is: <b style='mso-bidi-font-weight:normal'>PDPoint</b>,
0.0, 0.0, 0.0.</p>

<p class=Note>However positionB is initially set to track particle position.</p>

<p class=Note>The initial size domain, modifiable by <b style='mso-bidi-font-weight:
normal'>pSize</b>, is: <b style='mso-bidi-font-weight:normal'>PDPoint</b>, 1.0,
1.0, 1.0, or a unit cube.</p>

<p class=Note>The initial starting age, modifiable by <b style='mso-bidi-font-weight:
normal'>pStartingAge</b>, is 0.0 with standard deviation 0.0.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pColor</b>(float
<i style='mso-bidi-font-style:normal'>red</i>, float <i style='mso-bidi-font-style:
normal'>green</i>, float <i style='mso-bidi-font-style:normal'>blue</i>, float <i
style='mso-bidi-font-style:normal'>alpha</i> = 1.0f)</p>

<p class=Description>Specify the color of new particles.</p>

<p class=MsoNormal>All new particles will have the color <i style='mso-bidi-font-style:
normal'>red, green, blue, alpha</i>. This is a special case of <b
style='mso-bidi-font-weight:normal'>pColorD</b>.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>See the documentation of Domains for a discussion of color spaces
in the Particle System API.</p>

<p class=Note>If rendering is to be done by a method other than the <b
style='mso-bidi-font-weight:normal'>pDrawGroup</b> calls, the particle color
does not necessarily need to be used to represent color. It can be interpreted
as an arbitrary three-vector.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pColorD</b>(float
<i style='mso-bidi-font-style:normal'>alpha</i>, <b style='mso-bidi-font-weight:
normal'>PDomainEnum</b> <i style='mso-bidi-font-style:normal'>dtype</i>, float <i
style='mso-bidi-font-style:normal'>a0</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a1</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a2</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a3</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a4</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a5</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a6</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a7</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a8</i> = 0.0f)</p>

<p class=Description>Specify the color domain of new particles.</p>

<p class=MsoNormal>All new particles will have a color chosen randomly from
within the specified domain and will have an alpha value (usually used for
transparency) of <i style='mso-bidi-font-style:normal'>alpha</i>.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pSize</b>(float <i
style='mso-bidi-font-style:normal'>size_x</i>, float <i style='mso-bidi-font-style:
normal'>size_y</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>size_z</i>
= 0.0f)</p>

<p class=Description>Specify the size of new particles.</p>

<p class=MsoNormal>All new particles will have a size of <i style='mso-bidi-font-style:
normal'>size</i>. The size values may be negative. This is a special case of <b
style='mso-bidi-font-weight:normal'>pSizeD</b>.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>The size does not affect any particle dynamics, including
acceleration and bouncing. It is merely a triple of rendering attributes, like
color, and can be interpreted at the whim of the application programmer (that’s
you). In particular, the three components do not need to be used together as
three dimensions of the particle’s size. For example, one could be interpreted
as radius, another as length, and another as density.</p>

<p class=Note>The definition of this call has changed because it is now a
special case of <b style='mso-bidi-font-weight:normal'>pSizeD</b>.</p>

<p class=FuncProto style='margin-left:0in;text-indent:0in'>void <b
style='mso-bidi-font-weight:normal'>pSizeD</b>(<b style='mso-bidi-font-weight:
normal'>PDomainEnum</b> <i style='mso-bidi-font-style:normal'>dtype</i>, float <i
style='mso-bidi-font-style:normal'>a0</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a1</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a2</i> = 0.0f,
float <i style='mso-bidi-font-style:normal'>a3</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a4</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a5</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a6</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a7</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a8</i> = 0.0f)</p>

<p class=Description>Specify the size domain of new particles.</p>

<p class=MsoNormal>All new particles will have a size chosen randomly from
within the specified domain. The size values may be negative.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>The size does not affect any particle dynamics, including
acceleration and bouncing. It is merely a triple of rendering attributes, like
color, and can be interpreted at the whim of the application programmer (that’s
you). In particular, the three components do not need to be used together as
three dimensions of the particle’s size. For example, one could be interpreted
as radius, another as length, and another as density.</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pStartingAge</b>(float
<i style='mso-bidi-font-style:normal'>age</i>, float <i style='mso-bidi-font-style:
normal'>stdev</i> = 0.0f)</p>

<p class=Description>Specify the initial age of new particles.</p>

<p class=MsoNormal>The value <i style='mso-bidi-font-style:normal'>age</i> can
be positive, zero, or negative. Giving particles different starting ages allows
<b style='mso-bidi-font-weight:normal'>pKillOld</b> to distinguish between
which to kill in interesting ways. Setting <i style='mso-bidi-font-style:normal'>stdev</i>
to a non-zero value will give the particles an initial age with a normal
distribution with mean <i style='mso-bidi-font-style:normal'>age</i> and
standard deviation <i style='mso-bidi-font-style:normal'>stdev</i>. When many
particles are created at once this allows a few particles to die at each time
step, yielding a more natural effect.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pTimeStep</b>(float
<i style='mso-bidi-font-style:normal'>newDT</i>)</p>

<p class=Description>Specify the time step length.</p>

<p class=MsoNormal>The Particle System API uses a discrete time approximation
to all actions. This means that actions are applied to the particles at a
particular instant in time as if the action's effect accumulated over a small
time interval, <i style='mso-bidi-font-style:normal'>dt</i>, with the world
being constant over the interval. The clock is then &quot;ticked&quot; by the
length of the interval and the actions can then be reapplied with the particles
having their updated values. This is the standard method of doing almost all
time-varying simulations in computer science.</p>

<p class=MsoNormal>How does the time step, <i style='mso-bidi-font-style:normal'>dt</i>,
relate to the application's frame rate? The easiest method is to apply the
actions once per frame. If the application prefers to keep time in terms of
seconds, <i style='mso-bidi-font-style:normal'>dt</i> can be set to (1 /
frames_per_second). But more often, it is easier for a time unit to be one
frame instead of one second. In this case, <i style='mso-bidi-font-style:normal'>dt</i>
should be 1.0, which is the default.</p>

<p class=MsoNormal>For higher quality, the application can apply particle actions
more than once per frame. This provides smoother, more realistic results in
many subtle ways. Suppose the application wanted to compute three animation
steps for each rendered frame. Set <i style='mso-bidi-font-style:normal'>dt</i>
to 1/3 its previous value using <b style='mso-bidi-font-weight:normal'>pTimeStep</b>,
then loop three times over all the action code that gets executed per frame,
including the calls to <b style='mso-bidi-font-weight:normal'>pMove</b>. If
using action lists, this can be simply a loop over the <b style='mso-bidi-font-weight:
normal'>pCallActionList</b> call. The run-time results should be about the
same, but with fewer discrete approximation artifacts. Surprisingly enough, the
actions themselves usually take a small percentage of the CPU time, so using a
finer step size usually does not impact frame rate very much.</p>

<p class=MsoNormal>In terms of numerical integration, particle actions can be
thought of as the first derivative of unknown functions dictating the particle
attributes (such as position) over time. In order to compute the particle
attributes these derivative functions must be integrated. Since closed form
integration doesn't make sense for most actions, Euler's method is used
instead. Euler's method is simply the method just described – the evaluation of
the derivative functions at a particular time and then incrementing the current
particle values by these derivative results times <i style='mso-bidi-font-style:
normal'>dt</i>. In Euler's method, the smaller the <i style='mso-bidi-font-style:
normal'>dt</i>, the more accurate the results.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>Unlike with other state setting calls, action lists execute using
the current <i style='mso-bidi-font-style:normal'>dt</i> value set by <b
style='mso-bidi-font-weight:normal'>pTimeStep</b>, rather than the time step
value that was current when the action list was created. Making action lists
independent of time step size allows the time step to be changed without
recompiling the action list.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pVelocity</b>(float
<i style='mso-bidi-font-style:normal'>x</i>, float <i style='mso-bidi-font-style:
normal'>y</i>, float <i style='mso-bidi-font-style:normal'>z</i>)</p>

<p class=Description>Specify the initial velocity of new particles.</p>

<p class=MsoNormal>This is shorthand for <b style='mso-bidi-font-weight:normal'>pVelocityD</b>(<b
style='mso-bidi-font-weight:normal'>PDPoint, </b><i style='mso-bidi-font-style:
normal'>x</i>, <i style='mso-bidi-font-style:normal'>y</i>, <i
style='mso-bidi-font-style:normal'>z</i>).</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pVelocityD</b>(<b
style='mso-bidi-font-weight:normal'>PDomainEnum</b> <i style='mso-bidi-font-style:
normal'>dtype</i>, float <i style='mso-bidi-font-style:normal'>a0</i> = 0.0f,
float <i style='mso-bidi-font-style:normal'>a1</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a2</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a3</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a4</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a5</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a6</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a7</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a8</i> =
0.0f)</p>

<p class=Description>Specify the initial velocity domain of new particles.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pVertexB</b>(float
<i style='mso-bidi-font-style:normal'>x</i>, float <i style='mso-bidi-font-style:
normal'>y</i>, float <i style='mso-bidi-font-style:normal'>z</i>)</p>

<p class=Description>Specify the secondary position of new particles.</p>

<p class=MsoNormal>This is shorthand for <b style='mso-bidi-font-weight:normal'>pVertexBD</b>(<b
style='mso-bidi-font-weight:normal'>PDPoint</b>, <i style='mso-bidi-font-style:
normal'>x</i>, <i style='mso-bidi-font-style:normal'>y</i>, <i
style='mso-bidi-font-style:normal'>z</i>).</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pVertexBD</b>(<b
style='mso-bidi-font-weight:normal'>PDomainEnum</b> <i style='mso-bidi-font-style:
normal'>dtype</i>, float <i style='mso-bidi-font-style:normal'>a0</i> = 0.0f,
float <i style='mso-bidi-font-style:normal'>a1</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a2</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a3</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a4</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a5</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a6</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a7</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a8</i> =
0.0f)</p>

<p class=Description>Specify the secondary position domain of new particles.</p>

<p class=MsoNormal>Set the domain from which the <i style='mso-bidi-font-style:
normal'>positionB</i> of each particle will be randomly chosen when it is
created. But if <b style='mso-bidi-font-weight:normal'>pVertexBTracks</b> is
set to true (the default), then the <i style='mso-bidi-font-style:normal'>positionB</i>
will instead be the same as the initial particle position.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pVertexBTracks</b>(bool
<i style='mso-bidi-font-style:normal'>doCopy</i>)</p>

<p class=Description>Specify how the secondary position of each new particle is
chosen.</p>

<p class=MsoNormal>Specify how the <i style='mso-bidi-font-style:normal'>positionB</i>
of each new particle emitted will be chosen. The positionB is the destination
position or initial position of particles. See <b style='mso-bidi-font-weight:
normal'>pRestore</b> for a use of positionB.</p>

<p class=MsoNormal>If <i style='mso-bidi-font-style:normal'>doCopy</i> is true
then when a particle is created its <i style='mso-bidi-font-style:normal'>positionB</i>
will be the same as its initial particle position (the default).</p>

<p class=MsoNormal>If <i style='mso-bidi-font-style:normal'>doCopy</i> is false
then when a particle is created its <i style='mso-bidi-font-style:normal'>positionB</i>
will be chosen from the <i style='mso-bidi-font-style:normal'>VertexB</i>
domain.</p>

<h1>Actions</h1>

<p class=MsoPlainText><span style='font-family:"Times New Roman"'>Actions
modify the position, color, velocity, size, age, and secondary position and
velocity of particles. All actions apply to the current particle group, as set
by <b style='mso-bidi-font-weight:normal'>pCurrentGroup</b>.<o:p></o:p></span></p>

<p class=MsoPlainText><span style='font-family:"Times New Roman"'>Remember that
the amount of effect of an action call depends on the time step size, <i
style='mso-bidi-font-style:normal'>dt</i>, as set by <b style='mso-bidi-font-weight:
normal'>pTimeStep</b>. See <b style='mso-bidi-font-weight:normal'>pTimeStep</b>
for an explanation of time steps.<o:p></o:p></span></p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>Some functions have parameters with a default value of P_EPS.
P_EPS is a very small floating point constant that is most often used as the
default value of the <i style='mso-bidi-font-style:normal'>epsilon</i>
parameter to actions whose influence on a particle is relative to the inverse
square of its distance from something. If that distance is very small, the
amount of influence approaches infinity. Since all actions are computed using
Euler's method, this can cause unsatisfying results in which particles are
accelerated way too much. So this <i style='mso-bidi-font-style:normal'>epsilon</i>
parameter is added to the distance before taking its inverse square, thus
keeping the acceleration within reasonable limits. By varying <i
style='mso-bidi-font-style:normal'>epsilon</i>, you specify what is reasonable.
Larger <i style='mso-bidi-font-style:normal'>epsilon</i> make particles
accelerate less.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pAvoid</b>(float
<i style='mso-bidi-font-style:normal'>magnitude</i>, float <i style='mso-bidi-font-style:
normal'>epsilon</i>, float <i style='mso-bidi-font-style:normal'>look_ahead</i>,
<b style='mso-bidi-font-weight:normal'>PDomainEnum</b> <i style='mso-bidi-font-style:
normal'>dtype</i>, float <i style='mso-bidi-font-style:normal'>a0</i> = 0.0f,
float <i style='mso-bidi-font-style:normal'>a1</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a2</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a3</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a4</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a5</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a6</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a7</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a8</i> =
0.0f)</p>

<p class=Description>Steer particles away from a domain of space.</p>

<p class=MsoNormal>Particles are tested to see whether they will pass from
being outside the specified domain to being inside it within <i
style='mso-bidi-font-style:normal'>look_ahead</i> time units from now if the
next <b style='mso-bidi-font-weight:normal'>pMove</b> action were to occur now.
<i style='mso-bidi-font-style:normal'>magnitude</i> tells how drastically the
particle velocities are modified to avoid the obstacle at each time step. As
with most acceleration actions, the amount of acceleration falls off inversely
with <i style='mso-bidi-font-style:normal'>r<sup>2</sup></i>. But when <i
style='mso-bidi-font-style:normal'>r</i> is small, the acceleration would be
infinite, so <i style='mso-bidi-font-style:normal'>epsilon</i> is always added
to <i style='mso-bidi-font-style:normal'>r</i>.</p>

<p class=MsoNormal>The specific direction and amount of turn is dependent on
the kind of domain being avoided.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>At present the only domains for which <b style='mso-bidi-font-weight:
normal'>pAvoid</b> is implemented are <b style='mso-bidi-font-weight:normal'>PDSphere</b>,<b
style='mso-bidi-font-weight:normal'> PDRectangle, PDTriangle, PDDisc</b> and <b
style='mso-bidi-font-weight:normal'>PDPlane</b>.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pBounce</b>(float
<i style='mso-bidi-font-style:normal'>friction</i>, float <i style='mso-bidi-font-style:
normal'>resilience</i>, float <i style='mso-bidi-font-style:normal'>cutoff</i>,
<b style='mso-bidi-font-weight:normal'>PDomainEnum</b> <i style='mso-bidi-font-style:
normal'>dtype</i>, float <i style='mso-bidi-font-style:normal'>a0</i> = 0.0f,
float <i style='mso-bidi-font-style:normal'>a1</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a2</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a3</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a4</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a5</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a6</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a7</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a8</i> =
0.0f)</p>

<p class=Description>Bounce particles off a domain of space.</p>

<p class=MsoNormal>Particles are tested to see whether they will pass from
being outside the specified domain to being inside it if the next <b
style='mso-bidi-font-weight:normal'>pMove</b> action were to occur now. If they
would pass through the surface of the domain, they are instead bounced off it.
That is, their velocity vector is decomposed into components normal to the
surface and tangent to the surface. The direction of the normal component is
reversed, and the components are recomposed into a new velocity heading away
from the surface.</p>

<p class=MsoNormal>The normal component is multiplied by the <i
style='mso-bidi-font-style:normal'>resilience</i> parameter and the tangential
component, if its magnitude is greater than <i style='mso-bidi-font-style:normal'>cutoff</i>,
is multiplied by (1 - the <i style='mso-bidi-font-style:normal'>friction</i>
parameter) when being composed into the new velocity vector.</p>

<p class=MsoNormal>The <i style='mso-bidi-font-style:normal'>cutoff</i> parameter
can allow particles to glide smoothly along a surface without sticking.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>Since particles are tested to see whether they would pass through
the domain if <b style='mso-bidi-font-weight:normal'>pMove</b> were called now,
it is best to have <b style='mso-bidi-font-weight:normal'>pBounce</b> be the
last action that modifies a particle's velocity before calling <b
style='mso-bidi-font-weight:normal'>pMove</b>. Also, actions such as <b
style='mso-bidi-font-weight:normal'>pRandomDisplace</b> and <b
style='mso-bidi-font-weight:normal'>pVortex</b> that modify a particle's
position directly, rather than modifying its velocity vector, may yield
unsatisfying results when used with <b style='mso-bidi-font-weight:normal'>pBounce</b>.</p>

<p class=Note>At present the only domains for which <b style='mso-bidi-font-weight:
normal'>pBounce</b> is implemented are <b style='mso-bidi-font-weight:normal'>PDSphere</b>,<b
style='mso-bidi-font-weight:normal'> PDRectangle, DTriangle, PDDisc</b> and <b
style='mso-bidi-font-weight:normal'>PDPlane</b>. For spheres, the particle is
always forced out of the sphere. For planes, triangles and discs, the particles
bounce off either side of the surface. For rectangles, particles bounce off
either side of the diamond-shaped patch whose corners are <i style='mso-bidi-font-style:
normal'>o</i>, <i style='mso-bidi-font-style:normal'>o</i>+<i style='mso-bidi-font-style:
normal'>u</i>, <i style='mso-bidi-font-style:normal'>o</i>+<i style='mso-bidi-font-style:
normal'>u</i>+<i style='mso-bidi-font-style:normal'>v</i>, and <i
style='mso-bidi-font-style:normal'>o</i>+<i style='mso-bidi-font-style:normal'>v</i>.
See the documentation on domains for an explanation.</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=Note><b style='mso-bidi-font-weight:normal'>pBounce</b> doesn't work
correctly with small time step sizes for particle sliding along a surface. The <i
style='mso-bidi-font-style:normal'>friction</i> and <i style='mso-bidi-font-style:
normal'>resilience</i> parameters should not be scaled by <i style='mso-bidi-font-style:
normal'>dt</i>, since a bounce happens instantaneously. On the other hand, they
should be scaled by <i style='mso-bidi-font-style:normal'>dt</i> because
particles sliding along a surface will hit more often if <i style='mso-bidi-font-style:
normal'>dt</i> is smaller. If you have any suggestions, let me know.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pCopyVertexB</b>(bool
<i style='mso-bidi-font-style:normal'>copy_pos</i> = true, bool <i
style='mso-bidi-font-style:normal'>copy_vel</i> = false)</p>

<p class=Description>Set the secondary position from current position.</p>

<p class=MsoNormal>If <i style='mso-bidi-font-style:normal'>copy_pos</i> is
true, sets the <i style='mso-bidi-font-style:normal'>positionB</i> of each particle
in the current particle group to be equal to the current position of that
particle. This makes each particle &quot;remember&quot; this position so it can
later return to it using <b style='mso-bidi-font-weight:normal'>pRestore</b>.
If <i style='mso-bidi-font-style:normal'>copy_vel</i> is true, sets the <i
style='mso-bidi-font-style:normal'>velocityB</i> of each particle in the current
particle group to be equal to the current velocity of that particle. This is
useful for computing the orientation of the particle when rendering it using <b
style='mso-bidi-font-weight:normal'>pDrawGroupl</b>.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pDamping</b>(float
<i style='mso-bidi-font-style:normal'>damping_x</i>, float <i style='mso-bidi-font-style:
normal'>damping_y</i>, float <i style='mso-bidi-font-style:normal'>damping_z</i>,
float <i style='mso-bidi-font-style:normal'>vlow</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>vhigh</i> = P_MAXFLOAT)</p>

<p class=Description>Simulate air by slowing down particle velocities.</p>

<p class=MsoNormal>If a particle's velocity magnitude is within <i
style='mso-bidi-font-style:normal'>vlow</i> and <i style='mso-bidi-font-style:
normal'>vhigh</i>, then multiply each component of the velocity by the
respective damping constant. Typically, the three components of <i
style='mso-bidi-font-style:normal'>damping</i> will have the same value.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>There are no bounds on the damping constants. Thus, by giving
values greater than 1.0 they may be used to speed up particles in stead of slow
them down.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pExplosion</b>(float
<i style='mso-bidi-font-style:normal'>center_x</i>, float <i style='mso-bidi-font-style:
normal'>center_y</i>, float <i style='mso-bidi-font-style:normal'>center_z</i>,
float <i style='mso-bidi-font-style:normal'>velocity</i>, float <i
style='mso-bidi-font-style:normal'>magnitude</i>, float <i style='mso-bidi-font-style:
normal'>stdev</i>, float <i style='mso-bidi-font-style:normal'>epsilon</i> =
P_EPS, float <i style='mso-bidi-font-style:normal'>age</i> = 0.0f)</p>

<p class=Description>An Explosion.</p>

<p class=MsoNormal>Causes an explosion by accelerating all particles away from
the <i style='mso-bidi-font-style:normal'>center</i>. Particles are accelerated
away from the <i style='mso-bidi-font-style:normal'>center</i> by an amount
proportional to <i style='mso-bidi-font-style:normal'>magnitude</i>. As with
most acceleration actions, the amount of acceleration falls off inversely with <i
style='mso-bidi-font-style:normal'>r</i><sup>2</sup>. But when <i
style='mso-bidi-font-style:normal'>r</i> is small, the acceleration would be
infinite, so <i style='mso-bidi-font-style:normal'>epsilon</i> is always added
to <i style='mso-bidi-font-style:normal'>r</i>.</p>

<p class=MsoNormal>The shock wave of the explosion has a gaussian magnitude.
The center of the gaussian travels outward from the <i style='mso-bidi-font-style:
normal'>center</i> at the specified <i style='mso-bidi-font-style:normal'>velocity</i>.
So at a given time step, particles at a distance <i style='mso-bidi-font-style:
normal'>(velocity * age)</i> from <i style='mso-bidi-font-style:normal'>center</i>
will receive the most acceleration, and particles not at the peak of the shock
wave will receive a lesser acceleration.</p>

<p class=MsoNormal><span style="mso-spacerun: yes"> </span>The shock wave has a
standard deviation of <i style='mso-bidi-font-style:normal'>stdev</i>, which is
the sharpness or broadness of the strength of the wave.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>age</i> is used to
calculate the radius of the shock wave. For <b style='mso-bidi-font-weight:
normal'>pExplosion</b> calls in action lists, <i style='mso-bidi-font-style:
normal'>age</i> is the initial age of the explosion. It is incremented by <i
style='mso-bidi-font-style:normal'>dt</i> after each call. For immediate mode, <i
style='mso-bidi-font-style:normal'>age</i> is the current age of the explosion,
and it is up to the application to increment the <i style='mso-bidi-font-style:
normal'>age</i> parameter for each call to <b style='mso-bidi-font-weight:normal'>pExlosion.<o:p></o:p></b></p>

<p class=MsoNoteHeading>NOTE</p>

<p class=Note>Since the current radius of the shock wave is given by <i
style='mso-bidi-font-style:normal'>(velocity * age)</i> you can set up a
standing wave by setting <i style='mso-bidi-font-style:normal'>velocity</i> to
the desired radius of the wave and <i style='mso-bidi-font-style:normal'>age</i>
to 1.0. This only works in immediate mode.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pFollow</b>(float
<i style='mso-bidi-font-style:normal'>magnitude</i> = 1.0f, float <i
style='mso-bidi-font-style:normal'>epsilon</i> = P_EPS, float <i
style='mso-bidi-font-style:normal'>max_radius</i> = P_MAXFLOAT)</p>

<p class=Description>Accelerate toward the next particle in the group.</p>

<p class=MsoNormal>This allows snaky effects where the particles follow each
other. Each particle is accelerated toward the next particle in the group by an
amount proportional to <i style='mso-bidi-font-style:normal'>magnitude</i>. As
with most acceleration actions, the amount of acceleration falls off inversely
with <i style='mso-bidi-font-style:normal'>r</i><sup>2</sup>. But when <i
style='mso-bidi-font-style:normal'>r</i> is small, the acceleration would be
infinite, so <i style='mso-bidi-font-style:normal'>epsilon</i> is always added
to <i style='mso-bidi-font-style:normal'>r</i>.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>max_radius</i> defines
the sphere of influence of this action. No particle further than <i
style='mso-bidi-font-style:normal'>max_radius</i> from its predecessor is affected.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>The <b style='mso-bidi-font-weight:normal'>pFollow</b> action
does not affect the last particle in the group. This allows controlled effects
where the last particle in the group is killed after each time step and
replaced by a new particle at a slightly different position. See <b
style='mso-bidi-font-weight:normal'>pKillOld</b> to learn how to kill the last
particle in the group after each step.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pGravitate</b>(float
<i style='mso-bidi-font-style:normal'>magnitude</i> = 1.0f, float <i
style='mso-bidi-font-style:normal'>epsilon</i> = P_EPS, float <i
style='mso-bidi-font-style:normal'>max_radius</i> = P_MAXFLOAT)</p>

<p class=Description>Accelerate each particle toward each other particle.</p>

<p class=MsoNormal>Each particle is accelerated toward each other particle in
the group by an amount proportional to <i style='mso-bidi-font-style:normal'>magnitude</i>.
As with most acceleration actions, the amount of acceleration falls off
inversely with <i style='mso-bidi-font-style:normal'>r</i><sup>2</sup>. But
when r is small, the acceleration would be infinite, so <i style='mso-bidi-font-style:
normal'>epsilon</i> is always added to <i style='mso-bidi-font-style:normal'>r</i>.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>max_radius</i> defines
the sphere of influence of this action. No particle further than <i
style='mso-bidi-font-style:normal'>max_radius</i> from another particle is
affected.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>This action is more computationally intensive than the others are
because each particle is affected by each other particle.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pGravity</b>(float
<i style='mso-bidi-font-style:normal'>dir_x</i>, float <i style='mso-bidi-font-style:
normal'>dir_y</i>, float <i style='mso-bidi-font-style:normal'>dir_z</i>)</p>

<p class=Description>Accelerate particles in the given direction.</p>

<p class=MsoNormal>The gravity acceleration vector is simply added to the
velocity vector of each particle at each time step. The magnitude of the
gravity vector is the acceleration due to gravity. For example, <b
style='mso-bidi-font-weight:normal'>pGravity</b>(0, 0, -9.8) specifies gravity
in the negative Z direction.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pJet</b>(float <i
style='mso-bidi-font-style:normal'>center_x</i>, float <i style='mso-bidi-font-style:
normal'>center_y</i>, float <i style='mso-bidi-font-style:normal'>center_z</i>,
float <i style='mso-bidi-font-style:normal'>magnitude</i> = 1.0f, float <i
style='mso-bidi-font-style:normal'>epsilon</i> = P_EPS, float <i
style='mso-bidi-font-style:normal'>max_radius</i> = P_MAXFLOAT)</p>

<p class=Description>Accelerate particles that are near the center of the jet.</p>

<p class=MsoNormal>For each particle, chooses an acceleration vector from the
domain and applies it to the particle's velocity. The amount of acceleration
applied is directly proportional to <i style='mso-bidi-font-style:normal'>magnitude</i>.
As with most acceleration actions, the amount of acceleration falls off
inversely with <i style='mso-bidi-font-style:normal'>r<sup>2</sup></i>. But
when <i style='mso-bidi-font-style:normal'>r</i> is small, the acceleration
would be infinite, so <i style='mso-bidi-font-style:normal'>epsilon</i> is
always added to <i style='mso-bidi-font-style:normal'>r</i>.</p>

<p class=MsoNormal>The domain from which acceleration vectors are chosen is the
current velocity domain.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>max_radius</i> defines
the sphere of influence of this action. No particle further than <i
style='mso-bidi-font-style:normal'>max_radius</i> from the center is affected.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pKillOld</b>(float
<i style='mso-bidi-font-style:normal'>age_limit</i>, bool <i style='mso-bidi-font-style:
normal'>kill_less_than</i> = false)</p>

<p class=Description>Remove old particles.</p>

<p class=MsoNormal>Removes all particles older than <i style='mso-bidi-font-style:
normal'>age_limit</i>. But if <i style='mso-bidi-font-style:normal'>kill_less_than</i>
is true, it instead removes all particles newer than <i style='mso-bidi-font-style:
normal'>age_limit</i>. <i style='mso-bidi-font-style:normal'>age_limit</i> is
not clamped, so negative values are ok. This can be used in conjunction with <b
style='mso-bidi-font-weight:normal'>pStartingAge</b>(-n) to create and then
kill a particular set of particles.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>In order to kill a particular particle, set <b style='mso-bidi-font-weight:
normal'>pStartingAge</b> to a number that will never be a typical age for any
other particle in the group, for example -10.0. Then emit the particle using <b
style='mso-bidi-font-weight:normal'>pSource</b> or <b style='mso-bidi-font-weight:
normal'>pVertex</b>. Then do the rest of the particle actions and finally call <b
style='mso-bidi-font-weight:normal'>pKillOld</b>(-8.0, true) to kill the
special particle because it is the only one with an age less than -8.0.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pMatchVelocity</b>(float
<i style='mso-bidi-font-style:normal'>magnitude</i> = 1.0f, float <i
style='mso-bidi-font-style:normal'>epsilon</i> = P_EPS, float <i
style='mso-bidi-font-style:normal'>max_radius</i> = P_MAXFLOAT)</p>

<p class=Description>Modify each particle’s velocity to be similar to that of
its neighbors.</p>

<p class=MsoNormal>Each particle is accelerated toward the weighted mean of the
velocities of other particles in the group by an amount proportional to <i
style='mso-bidi-font-style:normal'>magnitude</i>. As with most acceleration
actions, the amount of acceleration falls off inversely with <i
style='mso-bidi-font-style:normal'>r</i><sup>2</sup> to the other particles.
But when <i style='mso-bidi-font-style:normal'>r</i> is small, the acceleration
would be infinite, so <i style='mso-bidi-font-style:normal'>epsilon</i> is
always added to <i style='mso-bidi-font-style:normal'>r</i>. Using an epsilon
similar in magnitude to <i style='mso-bidi-font-style:normal'>magnitude</i> can
increase the range of influence of nearby particles on this particle.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=MsoNormal>This action is more computationally intensive than the
others are because each particle is affected by each other particle.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pMove</b>()</p>

<p class=Description>Move particle positions based on velocities.</p>

<p class=MsoNormal>This action actually updates the particle positions by
adding the current velocity to the current position. This is typically the last
particle action performed in an iteration of a particle simulation, and
typically only occurs once per action list.</p>

<p class=MsoNormal>The velocity is multiplied by the time step length, <i
style='mso-bidi-font-style:normal'>dt</i>, before being added to the position.
This implements Euler's method of numerical integration with a constant, but
specifiable step size. See <b style='mso-bidi-font-weight:normal'>pTimeStep</b>
for more on varying the step size.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pOrbitLine</b>(float
<i style='mso-bidi-font-style:normal'>p_x</i>, float <i style='mso-bidi-font-style:
normal'>p_y</i>, float <i style='mso-bidi-font-style:normal'>p_z</i>, float <i
style='mso-bidi-font-style:normal'>axis_x</i>, float <i style='mso-bidi-font-style:
normal'>axis_y</i>, float <i style='mso-bidi-font-style:normal'>axis_z</i>,
float <i style='mso-bidi-font-style:normal'>magnitude</i> = 1.0f, float <i
style='mso-bidi-font-style:normal'>epsilon</i> = P_EPS, float <i
style='mso-bidi-font-style:normal'>max_radius</i> = P_MAXFLOAT)</p>

<p class=Description>Accelerate toward the closest point on the given line.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>p</i> and <i
style='mso-bidi-font-style:normal'>axis</i> define an infinite line, where <i
style='mso-bidi-font-style:normal'>p</i> can be any point on the line and <i
style='mso-bidi-font-style:normal'>axis</i> is any vector parallel to the line.
For each particle, this action computes the vector to the closest point on the
line, and accelerates the particle in the vector direction. The amount of
acceleration applied is directly proportional to <i style='mso-bidi-font-style:
normal'>magnitude</i>. As with most acceleration actions, the amount of
acceleration falls off inversely with <i style='mso-bidi-font-style:normal'>r</i><sup>2</sup>.
But when <i style='mso-bidi-font-style:normal'>r</i> is small, the acceleration
would be infinite, so <i style='mso-bidi-font-style:normal'>epsilon</i> is
always added to <i style='mso-bidi-font-style:normal'>r</i>.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>max_radius</i> defines
the infinite cylinder of influence of this action. No particle further than <i
style='mso-bidi-font-style:normal'>max_radius</i> from the line is affected.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pOrbitPoint</b>(float
<i style='mso-bidi-font-style:normal'>center_x</i>, float <i style='mso-bidi-font-style:
normal'>center_y</i>, float <i style='mso-bidi-font-style:normal'>center_z</i>,
float <i style='mso-bidi-font-style:normal'>magnitude</i> = 1.0f, float <i
style='mso-bidi-font-style:normal'>epsilon</i> = P_EPS, float <i
style='mso-bidi-font-style:normal'>max_radius</i> = P_MAXFLOAT)</p>

<p class=Description>Accelerate toward the given center point.</p>

<p class=MsoNormal>For each particle, this action computes the vector to the
center point, and accelerates the particle in the vector direction. The amount
of acceleration applied is directly proportional to <i style='mso-bidi-font-style:
normal'>magnitude</i>. As with most acceleration actions, the amount of
acceleration falls off inversely with <i style='mso-bidi-font-style:normal'>r</i><sup>2</sup>.
But when <i style='mso-bidi-font-style:normal'>r</i> is small, the acceleration
would be infinite, so <i style='mso-bidi-font-style:normal'>epsilon</i> is
always added to <i style='mso-bidi-font-style:normal'>r</i>.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>max_radius</i> defines
the sphere of influence of this action. No particle further than <i
style='mso-bidi-font-style:normal'>max_radius</i> from the <i style='mso-bidi-font-style:
normal'>center</i> is affected.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pRandomAccel</b>(<b
style='mso-bidi-font-weight:normal'>PDomainEnum</b> <i style='mso-bidi-font-style:
normal'>dtype</i>, float <i style='mso-bidi-font-style:normal'>a0</i> = 0.0f,
float <i style='mso-bidi-font-style:normal'>a1</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a2</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a3</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a4</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a5</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a6</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a7</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a8</i> =
0.0f)</p>

<p class=Description>Accelerate particles in random directions.</p>

<p class=MsoNormal>For each particle, chooses an acceleration vector from the
specified domain and adds it to the particle's velocity.</p>

<p class=MsoNormal>Reducing the time step, <i style='mso-bidi-font-style:normal'>dt</i>,
will make a higher probability of being near the original velocity after unit
time. Smaller <i style='mso-bidi-font-style:normal'>dt</i> approach a normal
distribution of velocity vectors instead of a square wave distribution.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pRandomDisplace</b>(<b
style='mso-bidi-font-weight:normal'>PDomainEnum</b> <i style='mso-bidi-font-style:
normal'>dtype</i>, float <i style='mso-bidi-font-style:normal'>a0</i> = 0.0f,
float <i style='mso-bidi-font-style:normal'>a1</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a2</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a3</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a4</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a5</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a6</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a7</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a8</i> =
0.0f)</p>

<p class=Description>Immediately replace position with a position from the
domain.</p>

<p class=MsoNormal>For each particle, chooses a displacement vector from the
specified domain and adds it to the particle's position.</p>

<p class=MsoNormal>Reducing the time step, <i style='mso-bidi-font-style:normal'>dt</i>,
will make a higher probability of being near the original position after unit
time. Smaller <i style='mso-bidi-font-style:normal'>dt</i> approach a normal
distribution of particle positions instead of a square wave distribution.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>Since this action moves particle positions, unsatisfying results
may occur when used with the <b style='mso-bidi-font-weight:normal'>pAvoid </b>or
<b style='mso-bidi-font-weight:normal'>pBounce</b> actions. In particular,
particles may be displaced to the opposite side of the surface without bouncing
off it.</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pRandomVelocity</b>(<b
style='mso-bidi-font-weight:normal'>PDomainEnum</b> <i style='mso-bidi-font-style:
normal'>dtype</i>, float <i style='mso-bidi-font-style:normal'>a0</i> = 0.0f,
float <i style='mso-bidi-font-style:normal'>a1</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a2</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a3</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a4</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a5</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a6</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a7</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a8</i> =
0.0f)</p>

<p class=Description>Immediately replace velocity with a velocity from the
domain.</p>

<p class=MsoNormal>For each particle, sets the particle's velocity vector to a
random vector in the specified domain.</p>

<p class=MsoNormal>This function is not affected by <i style='mso-bidi-font-style:
normal'>dt</i>. If you can think of an appropriate way for this to vary with <i
style='mso-bidi-font-style:normal'>dt</i>, let me know.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pRestore</b>(float
<i style='mso-bidi-font-style:normal'>time_left</i>)</p>

<p class=Description>Over time, restore particles to their secondary positions.</p>

<p class=MsoNormal>Computes a new velocity for each particle that will make the
particle arrive at its <i style='mso-bidi-font-style:normal'>positionB</i> at
the specified amount of time in the future. The curved path that the particles
take is a parametric quadratic. Once the specified amount of time has passed,
the particles are clamped to their <i style='mso-bidi-font-style:normal'>positionB</i>
and their velocities are set to 0 to freeze them in place.</p>

<p class=MsoNormal>If <b style='mso-bidi-font-weight:normal'>pRestore</b> is
called in immediate mode, it is the application's responsibility to decrease <i
style='mso-bidi-font-style:normal'>time_left</i> by <i style='mso-bidi-font-style:
normal'>dt</i> on each call. When in an action list, <i style='mso-bidi-font-style:
normal'>time_left</i> gets decremented automatically.</p>

<p class=MsoNormal>The <i style='mso-bidi-font-style:normal'>positionB</i>
attribute of each particle is typically the particle's position when it was
created, or it can be specified within a domain. This is controlled by <b
style='mso-bidi-font-weight:normal'>pVertexBTracks</b>, <b style='mso-bidi-font-weight:
normal'>pVertexB</b>, and <b style='mso-bidi-font-weight:normal'>pVertexBD</b>.
The <i style='mso-bidi-font-style:normal'>positionB</i> can be set at any time
to the particle's current position using the <b style='mso-bidi-font-weight:
normal'>pCopyVertexB</b> action.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note><b style='mso-bidi-font-weight:normal'>pRestore</b>(0) is the
opposite of <b style='mso-bidi-font-weight:normal'>pCopyVertexB</b> – it sets
each particle's position to be equal to its positionB. However, this has the
side effect of setting each particle's velocity to 0.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pSink</b>(bool <i
style='mso-bidi-font-style:normal'>kill_inside</i>, <b style='mso-bidi-font-weight:
normal'>PDomainEnum</b> <i style='mso-bidi-font-style:normal'>dtype</i>, float <i
style='mso-bidi-font-style:normal'>a0</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a1</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a2</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a3</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a4</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a5</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a6</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a7</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a8</i> = 0.0f)</p>

<p class=Description>Kill particles with positions on wrong side of the
specified domain.</p>

<p class=MsoNormal>If <i style='mso-bidi-font-style:normal'>kill_inside</i> is
true, deletes all particles inside the given domain. If <i style='mso-bidi-font-style:
normal'>kill_inside</i> is false, deletes all particles outside the given
domain.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pSinkVelocity</b>(bool
<i style='mso-bidi-font-style:normal'>kill_inside</i>, <b style='mso-bidi-font-weight:
normal'>PDomainEnum</b> <i style='mso-bidi-font-style:normal'>dtype</i>, float <i
style='mso-bidi-font-style:normal'>a0</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a1</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a2</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a3</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a4</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a5</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a6</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a7</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a8</i> = 0.0f)</p>

<p class=Description>Kill particles with velocities on wrong side of the
specified domain.</p>

<p class=MsoNormal>If <i style='mso-bidi-font-style:normal'>kill_inside</i> is
true, deletes all particles whose velocity vectors are inside the given domain.
If <i style='mso-bidi-font-style:normal'>kill_inside</i> is false, deletes all
particles whose velocity vectors are outside the given domain. This allows
particles to die when they turn around, get too fast or too slow, etc.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>This action replaces the deprecated <b style='mso-bidi-font-weight:
normal'>pKillSlow</b> by using a sphere domain centered at the origin and a
radius equal to the cutoff velocity.</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pSource</b>(float
<i style='mso-bidi-font-style:normal'>particle_rate</i>, <b style='mso-bidi-font-weight:
normal'>PDomainEnum</b> <i style='mso-bidi-font-style:normal'>dtype</i>, float <i
style='mso-bidi-font-style:normal'>a0</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a1</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a2</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a3</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a4</i> = 0.0f, float <i style='mso-bidi-font-style:
normal'>a5</i> = 0.0f, float <i style='mso-bidi-font-style:normal'>a6</i> =
0.0f, float <i style='mso-bidi-font-style:normal'>a7</i> = 0.0f, float <i
style='mso-bidi-font-style:normal'>a8</i> = 0.0f)</p>

<p class=Description>Add particles in the specified domain.</p>

<p class=MsoNormal>Adds new particles to the current particle group. The
particle positions are chosen from the given domain. The particle colors,
sizes, initial ages, velocities, and secondary positions are chosen according
to their current domains. See <b style='mso-bidi-font-weight:normal'>pColor</b>,
<b style='mso-bidi-font-weight:normal'>pColorD</b>, <b style='mso-bidi-font-weight:
normal'>pSize</b>, <b style='mso-bidi-font-weight:normal'>pStartingAge,
pVelocity</b>, <b style='mso-bidi-font-weight:normal'>pVelocityD</b>, <b
style='mso-bidi-font-weight:normal'>pVertexB</b>, <b style='mso-bidi-font-weight:
normal'>pVertexBD</b>, and <b style='mso-bidi-font-weight:normal'>pVertexBTracks</b>.</p>

<p class=MsoNormal>When <b style='mso-bidi-font-weight:normal'>pSource</b> is
called within an action list, the particle attribute domains used are those
that were current when the <b style='mso-bidi-font-weight:normal'>pSource</b>
command was called within the <b style='mso-bidi-font-weight:normal'>pNewActionList</b>
/ <b style='mso-bidi-font-weight:normal'>pEndActionList</b> block instead of
when <b style='mso-bidi-font-weight:normal'>pCallActionList</b> is called. Note
that this is unlike OpenGL.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>particle_rate</i> is
the number of particles to add per unit time. If <i style='mso-bidi-font-style:
normal'>particle_rate</i> / <i style='mso-bidi-font-style:normal'>dt</i> is a
fraction then <b style='mso-bidi-font-weight:normal'>pSource</b> adjusts the
number of particles to add during this time step so that the average number
added per unit time is <i style='mso-bidi-font-style:normal'>particle_rate</i>.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>If too few particles seem to be added each frame, it is probably
because the particle group is already full. If this is bad, you can grow the
group using <b style='mso-bidi-font-weight:normal'>pSetMaxParticles</b>.</p>

<p class=Note>See the documentation of Domains for an explanation of the other
arguments.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pSpeedLimit</b>(float
<i style='mso-bidi-font-style:normal'>min_speed, </i>float<i style='mso-bidi-font-style:
normal'> max_speed = </i>P_MAXFLOAT)</p>

<p class=Description>Clamp each particle’s speed to the given min and max.</p>

<p class=MsoNormal>Computes each particle’s speed (the magnitude of its
velocity vector) and if it is less than <i style='mso-bidi-font-style:normal'>min_speed</i>
or greater than <i style='mso-bidi-font-style:normal'>max_speed</i> it is
clamped to those bounds, while preserving the velocity vector’s direction.<i
style='mso-bidi-font-style:normal'><o:p></o:p></i></p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>The vector [0,0,0] is an exception because it has no direction.
Such vectors are not modified by <b style='mso-bidi-font-weight:normal'>pSpeedLimit</b>.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pTargetColor</b>(float
<i style='mso-bidi-font-style:normal'>color_x</i>, float <i style='mso-bidi-font-style:
normal'>color_y</i>, float <i style='mso-bidi-font-style:normal'>color_z</i>,
float <i style='mso-bidi-font-style:normal'>alpha</i>, float <i
style='mso-bidi-font-style:normal'>scale</i>)</p>

<p class=Description>Change color of all particles toward the specified color.</p>

<p class=MsoNormal>Modifies the color and alpha of each particle to be <i
style='mso-bidi-font-style:normal'>scale</i> percent of the way closer to the
specified <i style='mso-bidi-font-style:normal'>color</i> and <i
style='mso-bidi-font-style:normal'>alpha</i>.<i style='mso-bidi-font-style:
normal'> scale</i> is multiplied by <i style='mso-bidi-font-style:normal'>dt</i>
before scaling the sizes. Thus, using smaller <i style='mso-bidi-font-style:
normal'>dt</i> causes a slightly faster approach to the target color.<i
style='mso-bidi-font-style:normal'><o:p></o:p></i></p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>This action makes all colors tend toward the specified, uniform
color. Future versions will have more actions that modify color. Please send me
suggestions (perhaps with sample implementations).</p>

<p class=Note>The value of <i style='mso-bidi-font-style:normal'>scale</i> will
usually be very small (less than 0.01) to yield a gradual transition.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pTargetSize</b>(float
<i style='mso-bidi-font-style:normal'>size_x</i>, float <i style='mso-bidi-font-style:
normal'>size_y</i>, float <i style='mso-bidi-font-style:normal'>size_z</i>,
float <i style='mso-bidi-font-style:normal'>scale_x</i> = 0.0, float <i
style='mso-bidi-font-style:normal'>scale_y</i> = 0.0, float <i
style='mso-bidi-font-style:normal'>scale_z</i> = 0.0)</p>

<p class=Description>Change sizes of all particles toward the specified size.</p>

<p class=MsoNormal>Modifies the size of each particle to be <i
style='mso-bidi-font-style:normal'>scale</i> percent of the way closer to the
specified <i style='mso-bidi-font-style:normal'>size</i> triple. This makes
sizes grow asymptotically closer to the given size. <i style='mso-bidi-font-style:
normal'>scale</i> is multiplied by <i style='mso-bidi-font-style:normal'>dt</i>
before scaling the sizes. Thus, using smaller <i style='mso-bidi-font-style:
normal'>dt</i> causes a slightly faster approach to the target size. The
separate scales for each component allow only selected components to be scaled.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>This action makes all sizes tend toward the specified, uniform
size. Future versions will have more actions that modify size. Please send me
suggestions (perhaps with sample implementations).</p>

<p class=Note>The value of <i style='mso-bidi-font-style:normal'>scale</i> will
usually be very small (less than 0.01) to yield a gradual transition.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pTargetVelocity</b>(float
<i style='mso-bidi-font-style:normal'>vel_x</i>, float <i style='mso-bidi-font-style:
normal'>vel_y</i>, float <i style='mso-bidi-font-style:normal'>vel_z</i>, float
<i style='mso-bidi-font-style:normal'>scale</i>)</p>

<p class=Description>Change velocity of all particles toward the specified
velocity.</p>

<p class=MsoNormal>Modifies the velocity of each particle to be <i
style='mso-bidi-font-style:normal'>scale</i> percent of the way closer to the
specified <i style='mso-bidi-font-style:normal'>velocity</i> triple. This makes
velocities grow asymptotically closer to the given velocity. <i
style='mso-bidi-font-style:normal'>scale</i> is multiplied by <i
style='mso-bidi-font-style:normal'>dt</i> before scaling the velocities. Thus,
using smaller <i style='mso-bidi-font-style:normal'>dt</i> causes a slightly
faster approach to the target velocity.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>This action makes all velocities tend toward the specified,
uniform velocity.</p>

<p class=Note>The value of <i style='mso-bidi-font-style:normal'>scale</i> will
usually be very small (less than 0.01) to yield a gradual transition.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pVertex</b>(float
<i style='mso-bidi-font-style:normal'>x</i>, float <i style='mso-bidi-font-style:
normal'>y</i>, float <i style='mso-bidi-font-style:normal'>z</i>)</p>

<p class=Description>Add a single particle at the specified location.</p>

<p class=MsoNormal>When called within a <b style='mso-bidi-font-weight:normal'>pNewActionList</b>
/ <b style='mso-bidi-font-weight:normal'>pEndActionList</b> block, this action
is a shorthand for:</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>pSource</b>(1, <b
style='mso-bidi-font-weight:normal'>PDPoint</b>, <i style='mso-bidi-font-style:
normal'>x</i>, <i style='mso-bidi-font-style:normal'>y</i>, <i
style='mso-bidi-font-style:normal'>z</i>).</p>

<p class=MsoNormal>However, when called in immediate mode, this action uses a
slightly faster method to add a single particle to the current particle group.
Also, when in immediate mode, exactly one particle will be added per call,
instead of an average of 1 / <i style='mso-bidi-font-style:normal'>dt</i>
particles being added. Particle attributes are chosen according to their
current domains, as with <b style='mso-bidi-font-weight:normal'>pSource</b>.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>This call is patterned after the <b style='mso-bidi-font-weight:
normal'>glVertex</b> calls. It is useful for creating a particle group with
exactly specified initial positions. For example, you can specify a geometrical
model using <b style='mso-bidi-font-weight:normal'>pVertex</b> calls, and then
explode or deform it.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pVortex</b>(float
<i style='mso-bidi-font-style:normal'>center_x</i>, float <i style='mso-bidi-font-style:
normal'>center_y</i>, float <i style='mso-bidi-font-style:normal'>center_z</i>,
float <i style='mso-bidi-font-style:normal'>axis_x</i>, float <i
style='mso-bidi-font-style:normal'>axis_y</i>, float <i style='mso-bidi-font-style:
normal'>axis_z</i>, float <i style='mso-bidi-font-style:normal'>magnitude</i> =
1.0f, float <i style='mso-bidi-font-style:normal'>epsilion = </i>P_EPS, float <i
style='mso-bidi-font-style:normal'>max_radius</i> = P_MAXFLOAT)</p>

<p class=Description>Swirl particles around a vortex.</p>

<p class=MsoNormal><i style='mso-bidi-font-style:normal'>center</i> and <i
style='mso-bidi-font-style:normal'>axis</i> define an infinite line, where <i
style='mso-bidi-font-style:normal'>center</i> represents the tip of the vortex
and <i style='mso-bidi-font-style:normal'>axis</i> is a vector along the line,
the length of which is irrelevant. As with most acceleration actions, the
amount of acceleration falls off inversely with <i style='mso-bidi-font-style:
normal'>r</i><sup>2</sup> to the <i style='mso-bidi-font-style:normal'>center</i>.
But when <i style='mso-bidi-font-style:normal'>r</i> is small, the acceleration
would be infinite, so <i style='mso-bidi-font-style:normal'>epsilon</i> is
always added to <i style='mso-bidi-font-style:normal'>r</i>. Using an epsilon
similar in magnitude to <i style='mso-bidi-font-style:normal'>magnitude</i> can
increase the range of influence of the vortex. <i style='mso-bidi-font-style:
normal'>max_radius</i> defines the sphere of influence of this action. No
particle further than <i style='mso-bidi-font-style:normal'>max_radius</i> from
the vortex center is affected.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note><span style="mso-spacerun: yes"> </span><b style='mso-bidi-font-weight:
normal'>pVortex</b> immediately displaces particle positions, unlike most
actions which affect particle velocities, so unsatisfying results may occur
when used with the <b style='mso-bidi-font-weight:normal'>pAvoid </b>or <b
style='mso-bidi-font-weight:normal'>pBounce</b> actions. In particular,
particles may be displaced to the opposite side of the surface without bouncing
off it.</p>

<p class=Note><b style='mso-bidi-font-weight:normal'>pVortex</b> currently does
not pull the particles up or down along the axis like a tornado. This will be
saved for a future release. If you can suggest an implementation, feel free to
send it to me.</p>

<p class=Note>Particles can be attracted toward the axis of the vortex using <b
style='mso-bidi-font-weight:normal'>pOrbitLine</b>.</p>

<h1>Particle Group Calls</h1>

<p class=MsoNormal>A particle group is first created using <b style='mso-bidi-font-weight:
normal'>pGenParticleGroups</b>, which will return the identifying number of the
generated particle group. Unless otherwise specified, all other commands
operate on the current particle group. You specify which group is current using
<b style='mso-bidi-font-weight:normal'>pCurrentGroup</b>. The maximum number of
particles in the group is specified using <b style='mso-bidi-font-weight:normal'>pSetMaxParticles</b>.
The particle group is then acted upon using the functions listed in the <b
style='mso-bidi-font-weight:normal'>Actions</b>. Some actions will add particles
to the particle group, and others will modify the particles in other ways.
Typically, a series of actions will be applied to each particle group once (or
more) per rendered frame. The particles are then actually drawn. This is
similar to the process of rendering a display list in OpenGL, and should be
done at the same stage of the application's execution as drawing geometry. To
draw a particle group in OpenGL, the application calls one of the <b
style='mso-bidi-font-weight:normal'>pDrawGroup</b> functions. Alternatively,
the application can get a copy of the particle data using <b style='mso-bidi-font-weight:
normal'>pGetParticles</b> and use it for other rendering or processing methods.
When a particle group is no longer needed, it is deleted using <b
style='mso-bidi-font-weight:normal'>pDeleteParticleGroups</b>.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pCopyGroup</b>(int
<i style='mso-bidi-font-style:normal'>p_group_num</i>, int <i style='mso-bidi-font-style:
normal'>index</i> = 0, int <i style='mso-bidi-font-style:normal'>copy_count</i>
= P_MAXINT)</p>

<p class=Description>Copy particles from the specified group into the current
group.</p>

<p class=MsoNormal>Copy particles from the specified particle group, <i
style='mso-bidi-font-style:normal'>p_group_num</i>, to the current particle
group. Only <i style='mso-bidi-font-style:normal'>copy_count</i> particles,
starting with number <i style='mso-bidi-font-style:normal'>index</i> are
copied. Of course, the number of particles actually copied is bounded by the
available space in the current particle group, and the number of particles
actually in the source particle group. The particles are added in order to the
end of the current group. <i style='mso-bidi-font-style:normal'>index</i> is
the index of the first particle in the source particle group to be copied.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pCurrentGroup</b>(int
<i style='mso-bidi-font-style:normal'>p_group_num</i>)</p>

<p class=Description>Change which group is current.</p>

<p class=MsoNormal>Makes <i style='mso-bidi-font-style:normal'>p_group_num</i>
be the current particle group to which all actions and commands apply.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pDeleteParticleGroups</b>(int
<i style='mso-bidi-font-style:normal'>p_group_num</i>, int <i style='mso-bidi-font-style:
normal'>p_group_count</i>)</p>

<p class=Description>Delete one or more consecutive particle groups.</p>

<p class=MsoNormal>Deletes <i style='mso-bidi-font-style:normal'>p_group_count</i>
particle groups, with <i style='mso-bidi-font-style:normal'>p_group_num</i>
being the particle group number of the first one. The groups must be numbered
sequentially, and must all exist. This removes the specified particle groups
from existence. It does not merely change the number of existing particles or
the maximum size of the group.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pDrawGroupl</b>(int
<i style='mso-bidi-font-style:normal'>dlist</i>, bool <i style='mso-bidi-font-style:
normal'>const_size</i> = false, bool <i style='mso-bidi-font-style:normal'>const_color</i>
= false, bool <i style='mso-bidi-font-style:normal'>const_rotation</i> = false)</p>

<p class=Description>Draw each particle as a model using OpenGL display lists.</p>

<p class=MsoNormal>Calls the given OpenGL display list, <i style='mso-bidi-font-style:
normal'>dlist</i>, once for each particle in the particle group. The display
list typically contains only geometry (<b style='mso-bidi-font-weight:normal'>glBegin</b>
/ <b style='mso-bidi-font-weight:normal'>glEnd</b> blocks). Before the display
list is drawn for each particle, the OpenGL state is changed. First, the
display list is translated to the particle's position. Next, if <i
style='mso-bidi-font-style:normal'>const_size</i> is false, the matrix stack is
modified to scale the display list by the particle's size. Then, if <i
style='mso-bidi-font-style:normal'>const_rotation</i> is false, the matrix is rotated
so that the display list's positive X axis points in the direction of the
particle's velocity vector. Finally, if <i style='mso-bidi-font-style:normal'>const_color</i>
is false, the OpenGL current color is set to the particle's color. If <i
style='mso-bidi-font-style:normal'>const_color</i> is true, then the OpenGL
current color is set only once before drawing any particles. If <i
style='mso-bidi-font-style:normal'>const_size</i> is true, then no scaling is
ever done. If <i style='mso-bidi-font-style:normal'>const_rotation</i> is true
then no rotation is ever done. This is useful for symmetrical models such as
spheres.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>The OpenGL current color is left in an undefined state following
a call to <b style='mso-bidi-font-weight:normal'>pDrawGroupl</b>.</p>

<p class=Note>This command operates on the OpenGL matrix stack, but does not
change the matrix mode. It is the application's responsibility to ensure that
the matrix mode is correct, usually by calling <b style='mso-bidi-font-weight:
normal'>glMatrixMode</b>(GL_MODELVIEW) first.</p>

<p class=Note>Models containing multiple colors can be drawn by constructing a
display list that first draws the geometry that will be in the particle color,
then changes the color (by calling <b style='mso-bidi-font-weight:normal'>glColor</b>),
then draws geometry in the new color. For example, this could be used to draw
balloons of many different colors that each have a white string.</p>

<p class=Note>Another way to draw particles that allows greater flexibility
than <b style='mso-bidi-font-weight:normal'>pDrawGroupl</b> is for the
application to get the particle data using <b style='mso-bidi-font-weight:normal'>pGetParticles</b>,
and then draw it using any desired method.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pDrawGroupp</b>(int
<i style='mso-bidi-font-style:normal'>primitive</i>, bool <i style='mso-bidi-font-style:
normal'>const_size</i> = false, bool <i style='mso-bidi-font-style:normal'>const_color</i>
= false)</p>

<p class=Description>Draw a particle group using OpenGL primitives.</p>

<p class=MsoNormal>This is the fastest OpenGL-based method of drawing
particles. The exact results depend on the OpenGL <i style='mso-bidi-font-style:
normal'>primitive</i> type specified. When <i style='mso-bidi-font-style:normal'>primitive</i>
equals GL_POINTS or any value other than GL_LINES, each particle becomes a
single vertex in an OpenGL <b style='mso-bidi-font-weight:normal'>glBegin</b> /
<b style='mso-bidi-font-weight:normal'>glEnd</b> block. For GL_LINES, each
particle becomes a line specified by two vertices - the particle's position and
the particle's position minus velocity, yielding a line in the direction that
the particle is travelling.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>The OpenGL current color is left in an undefined state following
a call to <b style='mso-bidi-font-weight:normal'>pDrawGroupp</b>.</p>

<p class=Note>At present, GL_LINES is the only primitive handled as a special
case. If you have suggestions for sensible, general ways to handle other OpenGL
primitives, please tell me.</p>

<p class=Note>See also <b style='mso-bidi-font-weight:normal'>pDrawGroupl</b>.</p>

<p class=FuncProto>int <b style='mso-bidi-font-weight:normal'>pGenParticleGroups</b>(int
<i style='mso-bidi-font-style:normal'>p_group_count</i> = 1, int <i
style='mso-bidi-font-style:normal'>max_particles</i> = 0)</p>

<p class=Description>Create particle groups, each with max_particles allocated.</p>

<p class=MsoNormal>Generates <i style='mso-bidi-font-style:normal'>p_group_count</i>
new particle groups and returns the particle group number of the first one. The
groups are numbered sequentially, beginning with the number returned. Each
particle group is set to have at most <i style='mso-bidi-font-style:normal'>max_particles</i>
particles. Call <b style='mso-bidi-font-weight:normal'>pSetMaxParticles</b> to
change this.</p>

<p class=MsoNormal>Particle group numbers of groups that have been deleted
(using <b style='mso-bidi-font-weight:normal'>pDeleteParticleGroups</b>) may be
reused by <b style='mso-bidi-font-weight:normal'>pGenParticleGroups</b>.</p>

<p class=FuncProto>int <b style='mso-bidi-font-weight:normal'>pGetGroupCount</b>()</p>

<p class=Description>Returns the number of particles existing in the current
group.</p>

<p class=MsoNormal>What the summary says.</p>

<p class=FuncProto>int <b style='mso-bidi-font-weight:normal'>pGetParticles</b>(int
<i style='mso-bidi-font-style:normal'>index</i>, int <i style='mso-bidi-font-style:
normal'>count</i>, float *<i style='mso-bidi-font-style:normal'>position</i> =
NULL, float *<i style='mso-bidi-font-style:normal'>color</i> = NULL, float *<i
style='mso-bidi-font-style:normal'>vel</i> = NULL, float *<i style='mso-bidi-font-style:
normal'>size</i> = NULL, float *<i style='mso-bidi-font-style:normal'>age</i> =
NULL)</p>

<p class=Description>Copy particles from the current group to application
memory.</p>

<p class=MsoNormal>Copies at most <i style='mso-bidi-font-style:normal'>count</i>
particles beginning with the <i style='mso-bidi-font-style:normal'>index</i>-th
particle in the current particle group into memory already allocated by the
application. Three floats are returned for the position of each particle,
representing its x,y,z location. Four floats are returned for the color of each
particle, representing its R,G,B,A color. Three floats are returned for the
velocity of each particle, representing its dx,dy,dz direction vector. Three
floats are returned for the size of each particle, representing whatever the
application wants them to. One float is returned for the age of each particle.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>pGetParticles</b>
returns the number of particles copied to application memory. Of course, the
number of particles actually returned is bounded by <i style='mso-bidi-font-style:
normal'>count</i> and by the number of particles actually in the particle group
minus <i style='mso-bidi-font-style:normal'>index</i>. </p>

<p class=MsoNormal>If <i style='mso-bidi-font-style:normal'>verts, color</i>, <i
style='mso-bidi-font-style:normal'>vel</i>, <i style='mso-bidi-font-style:normal'>size</i>
or <i style='mso-bidi-font-style:normal'>age</i> is NULL then no position,
color, velocity, size or age data, respectively, will be returned. <i
style='mso-bidi-font-style:normal'>index</i> and <i style='mso-bidi-font-style:
normal'>count</i> must be at least 0 and less than the number of particles. <i
style='mso-bidi-font-style:normal'>index</i> + <i style='mso-bidi-font-style:
normal'>count</i> must be less than the number of particles.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>The following code gets the position of all particles:</p>

<p class=Note style='text-indent:.25in'>float *ppos = new
float[pGetGroupCount() * 3];</p>

<p class=Note style='text-indent:.25in'>int num_ret = pGetParticles(0, MAXINT,
ppos);</p>

<p class=Note>As with all arrays in C, the index of the first particle is zero.</p>

<p class=FuncProto>int <b style='mso-bidi-font-weight:normal'>pSetMaxParticles</b>(int
<i style='mso-bidi-font-style:normal'>max_count</i>)</p>

<p class=Description>Change the maximum number of particles in the current
group.</p>

<p class=MsoNormal>If necessary, this will delete particles from the end of the
particle group, but no other particles will be deleted.</p>

<h1>Action List Calls</h1>

<p class=MsoNormal>These calls create and operate on action lists, which are
scripts of many actions to be applied together as a block to the current
particle group. An action list is first created using <b style='mso-bidi-font-weight:
normal'>pGenActionLists</b>, and is then defined by calling particle action
functions between a call to <b style='mso-bidi-font-weight:normal'>pNewActionList</b>
and a call to <b style='mso-bidi-font-weight:normal'>pEndActionList</b>. Once
the action list is created, it is run via <b style='mso-bidi-font-weight:normal'>pCallActionList</b>.
Thus, an action list is sort of a higher-level action. Complex behaviors can be
stored in an action list and then called later, even as part of another action
list. Action lists cannot be edited. They can only be created or destroyed. To
destroy an action list, call <b style='mso-bidi-font-weight:normal'>pDeleteActionLists</b>.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>When particles are created within a <b style='mso-bidi-font-weight:
normal'>pNewActionList</b> / <b style='mso-bidi-font-weight:normal'>pEndActionList</b>
block, they will receive attributes from the state that was current when the
action list was created. When in immediate mode (not creating or calling an
action list), particles are created with attributes from the current state.</p>

<p class=Note>The time step length, <i style='mso-bidi-font-style:normal'>dt</i>,
uses the value that is current when <b style='mso-bidi-font-weight:normal'>pCallActionList</b>
is executed, not the value of <i style='mso-bidi-font-style:normal'>dt</i> when
the action list was created. This allows <i style='mso-bidi-font-style:normal'>dt</i>
to be modified without recompiling action lists. Maybe this isn't a good idea.
If it should be the other way in the future, let me know.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pCallActionList</b>(int
<i style='mso-bidi-font-style:normal'>action_list_num</i>)</p>

<p class=Description>Apply the specified action list to the current particle
group.</p>

<p class=MsoNormal>Call the action functions as specified when this action list
was created with <b style='mso-bidi-font-weight:normal'>pNewActionList</b>. The
actions are executed with the state elements values in effect when the action
list was created, except the current global value of <i style='mso-bidi-font-style:
normal'>dt</i> is used, not the value of <i style='mso-bidi-font-style:normal'>dt</i>
when the list was created.</p>

<p class=Description>pCallActionList <span style='font-weight:normal'>is the
only function other than actions that can be stored in an action list. This
allows action lists to become atomic operations in more complex action lists.
When calling </span>pCallActionList<span style='font-weight:normal'> during the
creation of a new action list, <i style='mso-bidi-font-style:normal'>action_list_num</i>
does not need to indicate an existing action list.<o:p></o:p></span></p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>It is an error for <i style='mso-bidi-font-style:normal'>action_list_num</i>
to not indicate an existing (generated) action list.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pDeleteActionLists</b>(int
<i style='mso-bidi-font-style:normal'>action_list_num</i>, int <i
style='mso-bidi-font-style:normal'>action_list_count</i> = 1)</p>

<p class=Description>Delete one or more consecutive action lists.</p>

<p class=MsoNormal>Deletes <i style='mso-bidi-font-style:normal'>action_list_count</i>
action lists, with <i style='mso-bidi-font-style:normal'>action_list_num</i>
being the list number of the first one. The lists must be numbered
sequentially, and must all exist. This removes the specified action lists from
existence.</p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pEndActionList</b>()</p>

<p class=Description>End the creation of a new action list.</p>

<p class=FuncProto>int <b style='mso-bidi-font-weight:normal'>pGenActionLists</b>(int
<i style='mso-bidi-font-style:normal'>action_list_count</i> = 1)</p>

<p class=Description>Generate a block of empty action lists.</p>

<p class=MsoNormal>All list numbers are in sequential order starting with the
first list. Returns the action list number of the first allocated list. Valid
action list numbers are non-negative.</p>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=FuncProto>void <b style='mso-bidi-font-weight:normal'>pNewActionList</b>(int
<i style='mso-bidi-font-style:normal'>action_list_num</i>)</p>

<p class=Description>Begin the creation of the specified action list.</p>

<p class=MsoNormal>The <i style='mso-bidi-font-style:normal'>action_list_num</i>
must have already been generated using <b style='mso-bidi-font-weight:normal'>pGenActionLists</b>.
Most calls other than actions cannot be made between a call to <b
style='mso-bidi-font-weight:normal'>pNewActionList</b> and the corresponding
call to <b style='mso-bidi-font-weight:normal'>pEndActionList</b>.</p>

<p class=MsoNoteHeading>NOTES</p>

<p class=Note>If called on an action list that has previously been defined, the
previous contents of the action list are destroyed and the action list will be
created anew. This is as with <b style='mso-bidi-font-weight:normal'>glNewList</b>
in OpenGL.</p>

<h1>Domains</h1>

<p class=MsoNormal>A Domain is a representation of a region of space. For
example, the <b style='mso-bidi-font-weight:normal'>pSource</b> action uses a
domain to describe the volume in which a particle will be created. A random
point within the domain is chosen as the initial position of the particle. The <b
style='mso-bidi-font-weight:normal'>pAvoid</b>,<b style='mso-bidi-font-weight:
normal'> pSink</b> and <b style='mso-bidi-font-weight:normal'>pBounce</b>
actions use domains to describe a volume in space for particles to steer
around, die when they enter, or bounce off, respectively.</p>

<p class=MsoNormal>Domains are also used to describe velocities. Picture the
velocity vector as having its tail at the origin and its tip being in the
domain.</p>

<p class=MsoNormal>Finally, domains can be used to describe colors. For drawing
with OpenGL, the full color space is 0.0 -&gt; 1.0 in the red, green, and blue
axes. For example, the domain <b style='mso-bidi-font-weight:normal'>PDLine</b>,
1, 0, 0, 1, 1, 0 will choose points on a line between red and yellow. Points
outside the 0.0 -&gt; 1.0 range will not be clamped, but eventually will be
clamped deep within the OpenGL pipeline.</p>

<p class=MsoNormal>Since data from particle systems can be used by more than
just the OpenGL renderer, the floating point triple used for color can mean
different things to different consumers of the data. For example, if a software
renderer used colors on the range 0 -&gt; 255, the domain used to choose the
colors can be on that range. The color space does not even need to be thought
of as RGB, but will be for use in OpenGL.</p>

<p class=MsoNormal>Several types of domains can be specified. The two basic
abstract operations on a domain are <b style='mso-bidi-font-weight:normal'>Generate</b>,
which returns a random point in the domain, and <b style='mso-bidi-font-weight:
normal'>Within</b>, which tells whether a given point is within the domain.
Functions such as <b style='mso-bidi-font-weight:normal'>pSource</b> that take
a domain as an argument take it in the form of a <b style='mso-bidi-font-weight:
normal'>PDomainEnum</b>, followed by nine floats. The <b style='mso-bidi-font-weight:
normal'>PDomainEnum</b> is one of the symbolic constants listed below, such as <b
style='mso-bidi-font-weight:normal'>PDPoint</b>. The nine floats mean different
things for each type of domain, as described below. Not all domains require all
nine floats. You only need to specify the first few values that are relevant to
that domain type. The rest default to 0.0 and will be ignored.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDPoint<span
style='mso-tab-count:1'> </span></b><i style='mso-bidi-font-style:normal'>x, y,
z<o:p></o:p></i></p>

<p class=MsoNormal>This domain is a single point.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> always
returns this point. <b style='mso-bidi-font-weight:normal'>Within</b> always
returns false.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDLine<span
style='mso-tab-count:1'>  </span></b><i style='mso-bidi-font-style:normal'>x1,
y1, z1, x2, y2, z2<o:p></o:p></i></p>

<p class=MsoNormal>These are the endpoints of a line segment.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a random point on this segment. <b style='mso-bidi-font-weight:normal'>Within</b>
always returns false.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDTriangle<span
style='mso-tab-count:1'>                </span></b><i style='mso-bidi-font-style:
normal'>x0, y0, z0, x1, y1, z1, x2, y2, z2<o:p></o:p></i></p>

<p class=MsoNormal>These are the vertices of a triangle. The triangle can be
used to define an arbitrary geometrical model for particles to bounce off, or
generate particles on its surface (and explode them), etc.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a random point in the triangle. <b style='mso-bidi-font-weight:normal'>Within </b>always
returns false. [This must eventually change so we can sink particles that
enter/exit a model. Suggestions?]</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDPlane<span
style='mso-tab-count:1'>                </span></b><i style='mso-bidi-font-style:
normal'>ox, oy, oz, nx, ny, nz<o:p></o:p></i></p>

<p class=MsoNormal>The point <i style='mso-bidi-font-style:normal'>o</i> is a
point on the plane. <i style='mso-bidi-font-style:normal'>n</i> is the normal
vector of the plane. It need not be unit length. If you have a plane in <i
style='mso-bidi-font-style:normal'>a,b,c,d</i> form remember that <i
style='mso-bidi-font-style:normal'>n = [a,b,c] </i>and you can compute a
suitable point <i style='mso-bidi-font-style:normal'>o</i> as <i
style='mso-bidi-font-style:normal'>o = -n*d.</i> The normal will get
normalized, so it need not already be normalized.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
the point <i style='mso-bidi-font-style:normal'>o.<o:p></o:p></i></p>

<p class=MsoNormal><span style="mso-spacerun: yes"> </span><b style='mso-bidi-font-weight:
normal'>Within</b> returns true if the point is in the positive half-space of
the plane (in the plane or on the side that <i style='mso-bidi-font-style:normal'>n</i>
points to).</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDRectangle<span
style='mso-tab-count:1'>                </span></b><i style='mso-bidi-font-style:
normal'>ox, oy, oz, ux, uy, uz, vx, vy, vz<o:p></o:p></i></p>

<p class=MsoNormal>The point <i style='mso-bidi-font-style:normal'>o</i> is a
point on the plane. <i style='mso-bidi-font-style:normal'>u</i> and <i
style='mso-bidi-font-style:normal'>v</i> are (non-parallel) basis vectors in
the plane. They don't need to be normal or orthogonal.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a random point in the diamond-shaped patch whose corners are <i
style='mso-bidi-font-style:normal'>o</i>, <i style='mso-bidi-font-style:normal'>o</i>+<i
style='mso-bidi-font-style:normal'>u</i>, <i style='mso-bidi-font-style:normal'>o</i>+<i
style='mso-bidi-font-style:normal'>u</i>+<i style='mso-bidi-font-style:normal'>v</i>,
and <i style='mso-bidi-font-style:normal'>o</i>+<i style='mso-bidi-font-style:
normal'>v.</i> <b style='mso-bidi-font-weight:normal'>Within</b> returns true
if the point is in the positive half-space of the plane (in the plane or on the
side that the normal (<i style='mso-bidi-font-style:normal'>u</i> cross <i
style='mso-bidi-font-style:normal'>v</i>) points to).</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDBox<span
style='mso-tab-count:1'>   </span></b><i style='mso-bidi-font-style:normal'>x1,
y1, z1, x2, y2, z2<o:p></o:p></i></p>

<p class=MsoNormal>These are the minima and maxima of an axis-aligned box. It
doesn't matter which of each coordinate is min and which is max.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a random point in this box. <b style='mso-bidi-font-weight:normal'>Within</b>
returns true if the point is in the box.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDSphere<span
style='mso-tab-count:1'>                </span></b><i style='mso-bidi-font-style:
normal'>ox, oy, oz, radius1, radius2</i> = 0.0</p>

<p class=MsoNormal>The point <i style='mso-bidi-font-style:normal'>o</i> is the
center of the sphere. <i style='mso-bidi-font-style:normal'>radius1</i> is the
outer radius of the shell and <i style='mso-bidi-font-style:normal'>radius2</i>
is the inner radius.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a random point in the thick shell at a distance between <i style='mso-bidi-font-style:
normal'>radius1</i> to <i style='mso-bidi-font-style:normal'>radius2</i> from
point <i style='mso-bidi-font-style:normal'>o</i>. If <i style='mso-bidi-font-style:
normal'>radius2</i> is 0, then it is the whole sphere. <b style='mso-bidi-font-weight:
normal'>Within</b> returns true if the point lies within the thick shell at a
distance between <i style='mso-bidi-font-style:normal'>radius1</i> to <i
style='mso-bidi-font-style:normal'>radius2</i> from point <i style='mso-bidi-font-style:
normal'>o</i>.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDCylinder<span
style='mso-tab-count:1'>                </span></b><i style='mso-bidi-font-style:
normal'>x1, y1, z1, x2, y2, z2, radius1, radius2</i> = 0.0</p>

<p class=MsoNormal>The two points are the endpoints of the axis of the
cylinder. <i style='mso-bidi-font-style:normal'>radius1</i> is the outer
radius, and <i style='mso-bidi-font-style:normal'>radius2</i> is the inner
radius for a cylindrical shell. <i style='mso-bidi-font-style:normal'>radius2</i>
= 0 for a solid cylinder with no empty space in the middle.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a random point in the cylindrical shell. <b style='mso-bidi-font-weight:normal'>Within</b>
returns true if the point is within the cylindrical shell.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDCone<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>                </span></b><i
style='mso-bidi-font-style:normal'>x1, y1, z1, x2, y2, z2, radius1, radius2</i>
= 0.0</p>

<p class=MsoNormal>The first point is the apex of the cone and the second is
the other endpoint of the axis of the cone. <i style='mso-bidi-font-style:normal'>radius1</i>
is the radius of the base of the cone. <i style='mso-bidi-font-style:normal'>radius2</i>
is the radius of the base of a cone to subtract from the first cone to create a
conical shell. This is similar to the cylindrical shell, which can be thought
of as a large cylinder with a smaller cylinder subtracted from the middle. Both
cones share the same apex and axis, which implies that the thickness of the
conical shell tapers to 0 at the apex.<i style='mso-bidi-font-style:normal'>
radius2</i> = 0 for a solid cone with no empty space in the middle.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a random point in the conical shell. <b style='mso-bidi-font-weight:normal'>Within</b>
returns true if the point is within the conical shell.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDBlob<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>                </span></b><i
style='mso-bidi-font-style:normal'>x, y, z, stdev<o:p></o:p></i></p>

<p class=MsoNormal>The point<i style='mso-bidi-font-style:normal'> x, y, z</i>
is the center of a normal probability density of standard deviation <i
style='mso-bidi-font-style:normal'>stdev</i>. The density is radially
symmetrical. The blob domain allows for some very natural-looking effects
because there is no sharp, artificial-looking boundary at the edge of the
domain.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a point with normal probability density. <b style='mso-bidi-font-weight:normal'>Within</b>
has a probability of returning true equal to the probability density at the
specified point.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>PDDisc<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>                </span></b><i
style='mso-bidi-font-style:normal'>x, y, z, nx, ny, nz, radius1, radius2</i> =
0.0<i style='mso-bidi-font-style:normal'><o:p></o:p></i></p>

<p class=MsoNormal>The point<i style='mso-bidi-font-style:normal'> x, y, z</i>
is the center of a disc in the plane with normal <i style='mso-bidi-font-style:
normal'>nx, ny, nz</i>. The disc has outer radius <i style='mso-bidi-font-style:
normal'>radius1</i> and inner radius <i style='mso-bidi-font-style:normal'>radius2</i>.
The normal will get normalized, so it need not already be normalized.</p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'>Generate</b> returns
a point inside the disc. <b style='mso-bidi-font-weight:normal'>Within</b>
returns false.</p>

<h1>Appendix</h1>

<h2>Acknowledgements</h2>

<p class=MsoNormal>Code for some of the particle actions and several concepts
regarding the structure of the API are thanks to Jonathan P. Leech, <a
href="mailto:ljp@sgi.com">ljp@sgi.com</a>. See also:</p>

<p class=MsoNormal>Jonathan Leech and Russell M. Taylor II, &quot;Interactive
Modeling Using Particle Systems&quot;, Proceedings of the 2nd Conference on
Discrete Element Methods, MIT, spring 1993, pp. 105-116.</p>

<p class=MsoNormal>Thanks to Mark B. Allen of NASA Ames Research Center for
finding bugs, making suggestions and implementing the particle length
attribute.</p>

<p class=MsoNormal>Thanks to Jason Pratt of CMU Stage 3 research group (makers
of ALICE) for adding the PDTriangle domain. This is a powerful feature that
should have been there the whole time.</p>

<h2>Recent Changes</h2>

<h3>New in version 1.20.</h3>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Added a gaussian splat drawing mode to pspray. You can
draw either as a triangle or a quad with a gaussian alpha texture.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Added a <b style='mso-bidi-font-weight:normal'>PDDisc</b>
domain for generating and bouncing.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Split the <b style='mso-bidi-font-weight:normal'>PDPlane</b>
domain into <b style='mso-bidi-font-weight:normal'>PDPlane</b>, for infinite
planes and half-spaces; and <b style='mso-bidi-font-weight:normal'>PDRectangle</b>,
for rhombus-shaped planar patches.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Added <b style='mso-bidi-font-weight:normal'>pTargetVelocity</b>
to make all particles tend toward a given velocity. This is a component of Boids.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Added <b style='mso-bidi-font-weight:normal'>pMatchVelocity</b>
to match velocity to near neighbors.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Added <b style='mso-bidi-font-weight:normal'>pAvoid</b>
to steer to avoid the given domain.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Added <b style='mso-bidi-font-weight:normal'>pSpeedLimit</b>.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Removed <b style='mso-bidi-font-weight:normal'>pKillSlow</b>.
Instead use <b style='mso-bidi-font-weight:normal'>pSinkVelocity</b>.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Fixed a bug in the Within logic for <b
style='mso-bidi-font-weight:normal'>PDBlob</b> so now it’s right.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Demonstrated flocking behavior using a Boids demo.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Changed <b style='mso-bidi-font-weight:normal'>pGetParticles</b>
so that <i style='mso-bidi-font-style:normal'>verts</i> can be NULL. It now
returns the number of particles it’s copying. This way you can just tell it the
size of your array instead of having to call <b style='mso-bidi-font-weight:
normal'>pGetGroupCount</b>.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Changed the particle size scalar to be a domain. This
will allow greater expression of particle shape. Orientation becomes more
important. Added <b style='mso-bidi-font-weight:normal'>pSizeD</b> to specify
it. Changed <b style='mso-bidi-font-weight:normal'>pGetParticles</b> so that it
returns three floats per particle for size.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>For Windows, made it a DLL instead of a static library.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>For Windows, ships with a DLL compiled with the Intel
Vtune compiler (a bit faster).</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Made pspray choose a demo randomly on startup.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Made <b style='mso-bidi-font-weight:normal'>pStartingAge</b>
take an optional parameter for the standard deviation of random starting ages,
centered at <i style='mso-bidi-font-style:normal'>age</i>.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Replaced the <i style='mso-bidi-font-style:normal'>lifetime</i>
parameter of explosions with <i style='mso-bidi-font-style:normal'>stdev</i>
and made the shock wave be gaussian instead of square. This will fix the ugly
stratification effects in explosions of very dense particle clouds.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Updated the documentation.</p>

<p class=MsoList style='mso-list:l3 level1 lfo3;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Changed <b style='mso-bidi-font-weight:normal'>pCallActionList</b>
to be storable in action lists, as the docs said.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Added a trivial app. for learning the API.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Made a rocket demo. It has the rockets in one particle
group and their sparks in another, generated at the rocket positions.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>When re-using an action list that was already
generated, it now properly deletes the previous actions.</p>

<h2>To Do</h2>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Add a TOC listing all functions.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Change <b style='mso-bidi-font-weight:normal'>pDraw*</b>
const_ to apply_, reverse the sense of it, and make it so if false, color isn’t
touched.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Compound domains (so you can define a whole model as a
single domain instead of a zillion triangle domains). This may be the answer
for obstacle avoidance.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Const_size isn’t used in pDrawGroupp.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>For the pspray demo, have it randomly change modes
occasionally.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Have a secondary color for each particle.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>How can you add user-defined particle attributes? For
now, <b style='mso-bidi-font-weight:normal'>pSize</b> is the best we can do.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Make a screensaver.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Make color and size be generic attributes with generic
attribute operators.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b style='mso-bidi-font-weight:normal'>pDensityColor</b>
- color is f (density)</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b style='mso-bidi-font-weight:normal'>pPositionColor</b>
- color is f (position)</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b style='mso-bidi-font-weight:normal'>pRandomColor</b>
- random domain is added to color</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b style='mso-bidi-font-weight:normal'>pVelocityColor</b>
- color is f( velocity)</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]><b style='mso-bidi-font-weight:normal'>pVelocitySize</b>
- size is f(velocity)</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Test multiple particle groups better.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Think about changing <i style='mso-bidi-font-style:
normal'>dt</i> to not be a global value. I don’t think I’ll do it.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Think about removing <b style='mso-bidi-font-weight:
normal'>pDraw*</b> from the API since they are OpenGL dependent.</p>

<p class=MsoList style='mso-list:l0 level1 lfo4;tab-stops:list .25in'><![if !supportLists]><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><![endif]>Change <b style='mso-bidi-font-weight:normal'>pVortex</b>
to accelerate the particles instead of displacing them. Tried it. Hard.</p>

</div>

</body>

</html>
