<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParticleAPI: PContextParticleGroup_t Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ParticleAPI<span id="projectnumber">&#160;3.0.0</span>
   </div>
   <div id="projectbrief">Performant particle system API in C++ for interactive graphics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_p_a_p_i.html">PAPI</a></li><li class="navelem"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html">PContextParticleGroup_t</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_p_a_p_i_1_1_p_context_particle_group__t-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PContextParticleGroup_t Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class contains the API calls that operate on particle groups.  
 <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="p_a_p_i_context_8h_source.html">pAPIContext.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PContextParticleGroup_t:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_p_a_p_i_1_1_p_context_particle_group__t.png" usemap="#PContextParticleGroup_5Ft_map" alt=""/>
  <map id="PContextParticleGroup_5Ft_map" name="PContextParticleGroup_5Ft_map">
<area href="class_p_a_p_i_1_1_particle_context__t.html" title="The Particle System API Context - Your app should have one of these per host thread that will do part..." alt="ParticleContext_t" shape="rect" coords="0,56,150,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7c117f3b121b6709021ecf4036a3be53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a7c117f3b121b6709021ecf4036a3be53">CopyGroup</a> (const int p_src_group_num, const size_t index, const size_t copy_count)</td></tr>
<tr class="memdesc:a7c117f3b121b6709021ecf4036a3be53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy particles from the specified group into the current group.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a7c117f3b121b6709021ecf4036a3be53">More...</a><br /></td></tr>
<tr class="separator:a7c117f3b121b6709021ecf4036a3be53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1ddcf82756a87ded68e545cad3e8d90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af1ddcf82756a87ded68e545cad3e8d90">CurrentGroup</a> (const int p_group_num)</td></tr>
<tr class="memdesc:af1ddcf82756a87ded68e545cad3e8d90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change which group is current.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af1ddcf82756a87ded68e545cad3e8d90">More...</a><br /></td></tr>
<tr class="separator:af1ddcf82756a87ded68e545cad3e8d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49aab2a3887103f5bbeccebef529a31b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a49aab2a3887103f5bbeccebef529a31b">DeleteParticleGroups</a> (const int p_group_num, const int p_group_count=1)</td></tr>
<tr class="memdesc:a49aab2a3887103f5bbeccebef529a31b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete one or more consecutive particle groups.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a49aab2a3887103f5bbeccebef529a31b">More...</a><br /></td></tr>
<tr class="separator:a49aab2a3887103f5bbeccebef529a31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b48bdc6e998672ff0df1c4f581230b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ad6b48bdc6e998672ff0df1c4f581230b">GenParticleGroups</a> (const int p_group_count=1, const size_t max_particles=0)</td></tr>
<tr class="memdesc:ad6b48bdc6e998672ff0df1c4f581230b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create particle groups, each with a maximum of max_particles.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ad6b48bdc6e998672ff0df1c4f581230b">More...</a><br /></td></tr>
<tr class="separator:ad6b48bdc6e998672ff0df1c4f581230b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbcc2cd2340624560e3b2cf6e9d5cb0c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#abbcc2cd2340624560e3b2cf6e9d5cb0c">GetGroupCount</a> ()</td></tr>
<tr class="memdesc:abbcc2cd2340624560e3b2cf6e9d5cb0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of particles existing in the current group.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#abbcc2cd2340624560e3b2cf6e9d5cb0c">More...</a><br /></td></tr>
<tr class="separator:abbcc2cd2340624560e3b2cf6e9d5cb0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94327f011a4f3713cb0941abe0da63f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab94327f011a4f3713cb0941abe0da63f">GetMaxParticles</a> ()</td></tr>
<tr class="memdesc:ab94327f011a4f3713cb0941abe0da63f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the maximum number of particles allowed in the current group.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab94327f011a4f3713cb0941abe0da63f">More...</a><br /></td></tr>
<tr class="separator:ab94327f011a4f3713cb0941abe0da63f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af589e7bdf0c3280bce5442782563ae6b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af589e7bdf0c3280bce5442782563ae6b">GetParticles</a> (const size_t index, const size_t count, float *position, const bool getAlpha, float *color=NULL, float *vel=NULL, float *size=NULL, float *age=NULL)</td></tr>
<tr class="memdesc:af589e7bdf0c3280bce5442782563ae6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy particles from the current group to application memory.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af589e7bdf0c3280bce5442782563ae6b">More...</a><br /></td></tr>
<tr class="separator:af589e7bdf0c3280bce5442782563ae6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75cdf009111297f02b803ac08d0a4213"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a75cdf009111297f02b803ac08d0a4213">GetParticlePointer</a> (const float *&amp;ptr, size_t &amp;stride, size_t &amp;pos3Ofs, size_t &amp;posB3Ofs, size_t &amp;size3Ofs, size_t &amp;vel3Ofs, size_t &amp;velB3Ofs, size_t &amp;color3Ofs, size_t &amp;alpha1Ofs, size_t &amp;age1Ofs, size_t &amp;up3Ofs, size_t &amp;rvel3Ofs, size_t &amp;upB3Ofs, size_t &amp;mass1Ofs, size_t &amp;data1Ofs)</td></tr>
<tr class="memdesc:a75cdf009111297f02b803ac08d0a4213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to particle data stored in API memory.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a75cdf009111297f02b803ac08d0a4213">More...</a><br /></td></tr>
<tr class="separator:a75cdf009111297f02b803ac08d0a4213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89a60f3740531bba39533bf75d3e990"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ac89a60f3740531bba39533bf75d3e990">SetMaxParticles</a> (const size_t max_count)</td></tr>
<tr class="memdesc:ac89a60f3740531bba39533bf75d3e990"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the maximum number of particles in the current group.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ac89a60f3740531bba39533bf75d3e990">More...</a><br /></td></tr>
<tr class="separator:ac89a60f3740531bba39533bf75d3e990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2875a5464c1810fa11a88e057b56cd84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a2875a5464c1810fa11a88e057b56cd84">BirthCallback</a> (<a class="el" href="namespace_p_a_p_i.html#a03ae126b71755dcafb0ffae5425eab9b">P_PARTICLE_CALLBACK</a> callback, <a class="el" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a> group_data=0)</td></tr>
<tr class="memdesc:a2875a5464c1810fa11a88e057b56cd84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify a particle creation callback.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a2875a5464c1810fa11a88e057b56cd84">More...</a><br /></td></tr>
<tr class="separator:a2875a5464c1810fa11a88e057b56cd84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c0eaac8b9d6b1e5d2520173ee936522"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a0c0eaac8b9d6b1e5d2520173ee936522">DeathCallback</a> (<a class="el" href="namespace_p_a_p_i.html#a03ae126b71755dcafb0ffae5425eab9b">P_PARTICLE_CALLBACK</a> callback, <a class="el" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a> group_data=0)</td></tr>
<tr class="memdesc:a0c0eaac8b9d6b1e5d2520173ee936522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify a particle death callback.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a0c0eaac8b9d6b1e5d2520173ee936522">More...</a><br /></td></tr>
<tr class="separator:a0c0eaac8b9d6b1e5d2520173ee936522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1112f0655c7c1b62f870511b8afef9d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a1112f0655c7c1b62f870511b8afef9d7">SetWorkingSetSize</a> (const int set_size_bytes)</td></tr>
<tr class="memdesc:a1112f0655c7c1b62f870511b8afef9d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of particles that fit in the CPU's cache.  <a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a1112f0655c7c1b62f870511b8afef9d7">More...</a><br /></td></tr>
<tr class="separator:a1112f0655c7c1b62f870511b8afef9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aff0b6907e8741a16ef627f960272b342"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#aff0b6907e8741a16ef627f960272b342">InternalSetup</a> (std::shared_ptr&lt; PInternalState_t &gt; Sr)</td></tr>
<tr class="separator:aff0b6907e8741a16ef627f960272b342"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab4b17d4e783b9ff2d4f46781a3d7a5ca"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; PInternalState_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">PS</a></td></tr>
<tr class="separator:ab4b17d4e783b9ff2d4f46781a3d7a5ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class contains the API calls that operate on particle groups. </p>
<p >A particle group is first created using <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ad6b48bdc6e998672ff0df1c4f581230b" title="Create particle groups, each with a maximum of max_particles.">GenParticleGroups()</a>, which will create a sequentially-numbered set of particle groups and return the identifying number of the first generated particle group. You specify which group is current using <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af1ddcf82756a87ded68e545cad3e8d90" title="Change which group is current.">CurrentGroup()</a>. Unless otherwise stated, all other commands operate on the current particle group. The maximum number of particles in the group is specified using <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ac89a60f3740531bba39533bf75d3e990" title="Change the maximum number of particles in the current group.">SetMaxParticles()</a>. The particle group is then acted upon using the Actions.</p>
<p >After the actions have been applied, the particles are rendered. This is done at the same stage of the application's execution as drawing other geometry. To draw a particle group in OpenGL, the application calls <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af589e7bdf0c3280bce5442782563ae6b" title="Copy particles from the current group to application memory.">GetParticles()</a> or <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a75cdf009111297f02b803ac08d0a4213" title="Return a pointer to particle data stored in API memory.">GetParticlePointer()</a> functions to get the vertex data, then sends it to OpenGL. When a particle group is no longer needed, it is deleted using <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a49aab2a3887103f5bbeccebef529a31b" title="Delete one or more consecutive particle groups.">DeleteParticleGroups()</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2875a5464c1810fa11a88e057b56cd84" name="a2875a5464c1810fa11a88e057b56cd84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2875a5464c1810fa11a88e057b56cd84">&#9670;&nbsp;</a></span>BirthCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BirthCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_p_a_p_i.html#a03ae126b71755dcafb0ffae5425eab9b">P_PARTICLE_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a>&#160;</td>
          <td class="paramname"><em>group_data</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify a particle creation callback. </p>
<p >Specify a callback function within your code that should be called every time a particle is created. The callback is associated only with the particle group that is current at the time you make the <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a2875a5464c1810fa11a88e057b56cd84" title="Specify a particle creation callback.">BirthCallback()</a> call. You can optionally pass a 32-bit value that could be a handle to arbitrary data of your own, which is returned to your callback.</p>
<p >The API's internal <a class="el" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> struct is passed back to your callback function, so your application will have to include "Particle/Particle.h". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Pointer to function of yours to call </td></tr>
    <tr><td class="paramname">group_data</td><td>Arbitrary per-group data of yours to pass into your function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c117f3b121b6709021ecf4036a3be53" name="a7c117f3b121b6709021ecf4036a3be53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c117f3b121b6709021ecf4036a3be53">&#9670;&nbsp;</a></span>CopyGroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CopyGroup </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>p_src_group_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>copy_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy particles from the specified group into the current group. </p>
<p >Copy particles from the specified particle group, p_src_group_num, to the current particle group. Only copy_count particles, starting with number index, are copied. Of course, the number of particles actually copied is bounded by the available space in the current particle group, and the number of particles actually in the source particle group. The particles are added, in sequential order, to the end of the current group. The current group's <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a2875a5464c1810fa11a88e057b56cd84" title="Specify a particle creation callback.">BirthCallback()</a>, if any, is called for each particle added to the list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_src_group_num</td><td>group number of the source particle group </td></tr>
    <tr><td class="paramname">index</td><td>index of the first particle in the source list to copy </td></tr>
    <tr><td class="paramname">copy_count</td><td>copy at most this many particles </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af1ddcf82756a87ded68e545cad3e8d90" name="af1ddcf82756a87ded68e545cad3e8d90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1ddcf82756a87ded68e545cad3e8d90">&#9670;&nbsp;</a></span>CurrentGroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CurrentGroup </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>p_group_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change which group is current. </p>
<p >Makes p_group_num be the current particle group to which all actions and commands apply. </p>

</div>
</div>
<a id="a0c0eaac8b9d6b1e5d2520173ee936522" name="a0c0eaac8b9d6b1e5d2520173ee936522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c0eaac8b9d6b1e5d2520173ee936522">&#9670;&nbsp;</a></span>DeathCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeathCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_p_a_p_i.html#a03ae126b71755dcafb0ffae5425eab9b">P_PARTICLE_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a>&#160;</td>
          <td class="paramname"><em>group_data</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify a particle death callback. </p>
<p >Specify a callback function within your code that should be called every time a particle is killed. The callback is associated only with the particle group that is current at the time you make the <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a0c0eaac8b9d6b1e5d2520173ee936522" title="Specify a particle death callback.">DeathCallback()</a> call. You can optionally pass a pointer to arbitrary data of your own, which is returned to your callback.</p>
<p >The API's internal <a class="el" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> struct is passed back to your callback function, so your application will have to include "Particle/Particle.h". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Pointer to function of yours to call </td></tr>
    <tr><td class="paramname">group_data</td><td>Arbitrary per-group data of yours to pass into your function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a49aab2a3887103f5bbeccebef529a31b" name="a49aab2a3887103f5bbeccebef529a31b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49aab2a3887103f5bbeccebef529a31b">&#9670;&nbsp;</a></span>DeleteParticleGroups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeleteParticleGroups </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>p_group_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>p_group_count</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete one or more consecutive particle groups. </p>
<p >Deletes p_group_count particle groups, with p_group_num being the particle group number of the first one. The groups must be numbered sequentially, and must all exist. This removes the specified particle groups from existence (and all their particles). It does not merely change the number of existing particles or the maximum size of the group.</p>
<p >The DeathCallback is NOT called for the particles in the deleted groups. Should I change this? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_group_num</td><td>handle of the first particle group to delete </td></tr>
    <tr><td class="paramname">p_group_count</td><td>delete this many groups </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6b48bdc6e998672ff0df1c4f581230b" name="ad6b48bdc6e998672ff0df1c4f581230b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b48bdc6e998672ff0df1c4f581230b">&#9670;&nbsp;</a></span>GenParticleGroups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GenParticleGroups </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>p_group_count</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>max_particles</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create particle groups, each with a maximum of max_particles. </p>
<p >Generates p_group_count new particle groups and returns the particle group number of the first one. The groups are numbered sequentially, beginning with the number returned. Each particle group is set to have at most max_particles particles. Call <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ac89a60f3740531bba39533bf75d3e990" title="Change the maximum number of particles in the current group.">SetMaxParticles()</a> to change this. Particle group numbers of groups that have been deleted (using <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a49aab2a3887103f5bbeccebef529a31b" title="Delete one or more consecutive particle groups.">DeleteParticleGroups()</a>) might be reused by <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ad6b48bdc6e998672ff0df1c4f581230b" title="Create particle groups, each with a maximum of max_particles.">GenParticleGroups()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_group_count</td><td>generate this many groups </td></tr>
    <tr><td class="paramname">max_particles</td><td>each created group can have this many particles </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abbcc2cd2340624560e3b2cf6e9d5cb0c" name="abbcc2cd2340624560e3b2cf6e9d5cb0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbcc2cd2340624560e3b2cf6e9d5cb0c">&#9670;&nbsp;</a></span>GetGroupCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t GetGroupCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of particles existing in the current group. </p>
<p >The number returned is less than or equal to the group's max_particles. </p>

</div>
</div>
<a id="ab94327f011a4f3713cb0941abe0da63f" name="ab94327f011a4f3713cb0941abe0da63f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab94327f011a4f3713cb0941abe0da63f">&#9670;&nbsp;</a></span>GetMaxParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t GetMaxParticles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the maximum number of particles allowed in the current group. </p>
<p >This can be changed with <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ac89a60f3740531bba39533bf75d3e990" title="Change the maximum number of particles in the current group.">SetMaxParticles()</a>. </p>

</div>
</div>
<a id="a75cdf009111297f02b803ac08d0a4213" name="a75cdf009111297f02b803ac08d0a4213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75cdf009111297f02b803ac08d0a4213">&#9670;&nbsp;</a></span>GetParticlePointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t GetParticlePointer </td>
          <td>(</td>
          <td class="paramtype">const float *&amp;&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>pos3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>posB3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>size3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>vel3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>velB3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>color3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>alpha1Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>age1Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>up3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>rvel3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>upB3Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>mass1Ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>data1Ofs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a pointer to particle data stored in API memory. </p>
<p >This function exposes the internal storage of the particle data to the application. It provides a much higher performance way to render particles because it avoids copying. In fact, the returned pointers can typically be passed directly to OpenGL or D3D without the application ever owning a copy of the data.</p>
<p >Writing to the returned memory is obviously unsafe. There may be auxiliary data that depend on the current values of the particle data. You can try it if you want to, but your code may break against future API versions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the returned pointer to the particle data </td></tr>
    <tr><td class="paramname">stride</td><td>the number of floats from one particle's value to the next particle's value </td></tr>
    <tr><td class="paramname">pos3Ofs</td><td>the number of floats from returned ptr to the first particle's position parameter </td></tr>
    <tr><td class="paramname">posB3Ofs</td><td>the number of floats from returned ptr to the first particle's positionB parameter </td></tr>
    <tr><td class="paramname">size3Ofs</td><td>the number of floats from returned ptr to the first particle's size parameter </td></tr>
    <tr><td class="paramname">vel3Ofs</td><td>the number of floats from returned ptr to the first particle's velocity parameter </td></tr>
    <tr><td class="paramname">velB3Ofs</td><td>the number of floats from returned ptr to the first particle's velocityB parameter </td></tr>
    <tr><td class="paramname">color3Ofs</td><td>the number of floats from returned ptr to the first particle's color parameter </td></tr>
    <tr><td class="paramname">alpha1Ofs</td><td>the number of floats from returned ptr to the first particle's alpha parameter </td></tr>
    <tr><td class="paramname">age1Ofs</td><td>the number of floats from returned ptr to the first particle's age parameter </td></tr>
    <tr><td class="paramname">up3Ofs</td><td>the number of floats from returned ptr to the first particle's up parameter </td></tr>
    <tr><td class="paramname">rvel3Ofs</td><td>the number of floats from returned ptr to the first particle's rvel parameter </td></tr>
    <tr><td class="paramname">upB3Ofs</td><td>the number of floats from returned ptr to the first particle's upB parameter </td></tr>
    <tr><td class="paramname">mass1Ofs</td><td>the number of floats from returned ptr to the first particle's mass parameter </td></tr>
    <tr><td class="paramname">data1Ofs</td><td>the number of floats from returned ptr to the first particle's data parameter, which is a 32-bit integer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af589e7bdf0c3280bce5442782563ae6b" name="af589e7bdf0c3280bce5442782563ae6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af589e7bdf0c3280bce5442782563ae6b">&#9670;&nbsp;</a></span>GetParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t GetParticles </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>getAlpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>color</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>vel</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>size</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>age</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy particles from the current group to application memory. </p>
<p >Copies at most count particles beginning with the index-th particle in the current particle group into memory already allocated by the application. Three floats are returned for the position of each particle, representing its x,y,z location. Four floats are returned for the color of each particle, representing its R,G,B,A color. Three floats are returned for the velocity of each particle, representing its dx,dy,dz direction vector. Three floats are returned for the size of each particle, representing whatever the application wants them to. One float is returned for the age of each particle.</p>
<p ><a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af589e7bdf0c3280bce5442782563ae6b" title="Copy particles from the current group to application memory.">GetParticles()</a> returns the number of particles copied to application memory. Of course, the number of particles actually returned is bounded by count and by the number of particles actually in the particle group minus index. If verts, color, vel, size or age is NULL then the respective field will not be returned. index and count must be at least 0 and less than the number of particles. index + count must be less than the number of particles. As with all arrays in C, the index of the first particle is zero.</p>
<p >The following code gets the position of all particles:</p>
<p >int cnt = <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#abbcc2cd2340624560e3b2cf6e9d5cb0c" title="Returns the number of particles existing in the current group.">GetGroupCount()</a>; float *ppos = new float[cnt * 3]; int num_ret = GetParticles(0, cnt, ppos); </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>index of the first particle to return </td></tr>
    <tr><td class="paramname">count</td><td>max number of particles to return </td></tr>
    <tr><td class="paramname">position</td><td>location to store 3 floats per particle for position </td></tr>
    <tr><td class="paramname">getAlpha</td><td>true to get a float4 color with alpha; false to get a float3 color </td></tr>
    <tr><td class="paramname">color</td><td>location to store 3 or 4 floats per particle for color and optionally alpha </td></tr>
    <tr><td class="paramname">vel</td><td>location to store 3 floats per particle for velocity </td></tr>
    <tr><td class="paramname">size</td><td>location to store 3 floats per particle for size </td></tr>
    <tr><td class="paramname">age</td><td>location to store 1 float per particle for age </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff0b6907e8741a16ef627f960272b342" name="aff0b6907e8741a16ef627f960272b342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0b6907e8741a16ef627f960272b342">&#9670;&nbsp;</a></span>InternalSetup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InternalSetup </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; PInternalState_t &gt;&#160;</td>
          <td class="paramname"><em>Sr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac89a60f3740531bba39533bf75d3e990" name="ac89a60f3740531bba39533bf75d3e990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac89a60f3740531bba39533bf75d3e990">&#9670;&nbsp;</a></span>SetMaxParticles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetMaxParticles </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>max_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the maximum number of particles in the current group. </p>
<p >If necessary, this will delete particles from the end of the particle group, but no other particles will be deleted. The <a class="el" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a0c0eaac8b9d6b1e5d2520173ee936522" title="Specify a particle death callback.">DeathCallback()</a> of deleted particles WILL be called. Call SetMaxParticles(0) to empty the group. </p>

</div>
</div>
<a id="a1112f0655c7c1b62f870511b8afef9d7" name="a1112f0655c7c1b62f870511b8afef9d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1112f0655c7c1b62f870511b8afef9d7">&#9670;&nbsp;</a></span>SetWorkingSetSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetWorkingSetSize </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>set_size_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the number of particles that fit in the CPU's cache. </p>
<p >You probably don't need to call this function. It is the number of bytes in the working set. Most action lists apply several actions to the working set of particles, then load the next working set of particles and apply the same actions to them. This allows particles to stay resident in the CPU's cache for a longer period of time, potentially increasing performance dramatically.</p>
<p >You specify the working set size in bytes. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab4b17d4e783b9ff2d4f46781a3d7a5ca" name="ab4b17d4e783b9ff2d4f46781a3d7a5ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4b17d4e783b9ff2d4f46781a3d7a5ca">&#9670;&nbsp;</a></span>PS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;PInternalState_t&gt; PS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="p_a_p_i_context_8h_source.html">pAPIContext.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
