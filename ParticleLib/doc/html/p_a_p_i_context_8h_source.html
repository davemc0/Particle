<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParticleAPI: pAPIContext.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ParticleAPI<span id="projectnumber">&#160;3.00</span>
   </div>
   <div id="projectbrief">Performant particle system API in C++ for interactive graphics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4e1baebecbf169d84bf63cb3cdc6641f.html">Particle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">pAPIContext.h</div></div>
</div><!--header-->
<div class="contents">
<a href="p_a_p_i_context_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><span class="lineno">    1</span><span class="comment">/// PAPIClasses.h</span></div>
<div class="line"><span class="lineno">    2</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">    3</span><span class="comment">/// Copyright 1997-2007, 2022 by David K. McAllister</span></div>
<div class="line"><span class="lineno">    4</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">    5</span><span class="comment">/// Include this file in all applications that use the Particle System API.</span></div>
<div class="line"><span class="lineno">    6</span> </div>
<div class="line"><span class="lineno">    7</span><span class="preprocessor">#</span><span class="preprocessor">ifndef</span> <span class="preprocessor">particle_api_classes_h</span></div>
<div class="line"><span class="lineno">    8</span><span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">particle_api_classes_h</span></div>
<div class="line"><span class="lineno">    9</span> </div>
<div class="line"><span class="lineno">   10</span><span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&quot;Particle/pDeclarations.h&quot;</span></div>
<div class="line"><span class="lineno">   11</span><span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&quot;Particle/pError.h&quot;</span></div>
<div class="line"><span class="lineno">   12</span><span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&quot;Particle/pInternalsIface.h&quot;</span></div>
<div class="line"><span class="lineno">   13</span><span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&quot;Particle/pParticle.h&quot;</span></div>
<div class="line"><span class="lineno">   14</span><span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&quot;Particle/pSourceState.h&quot;</span></div>
<div class="line"><span class="lineno">   15</span> </div>
<div class="line"><span class="lineno">   16</span><span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&lt;</span><span class="preprocessor">string</span><span class="preprocessor">&gt;</span></div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno"><a class="line" href="namespace_p_a_p_i.html">   18</a></span><span class="keyword">namespace</span> <a class="code hl_namespace" href="namespace_p_a_p_i.html">PAPI</a> {</div>
<div class="line"><span class="lineno">   19</span> </div>
<div class="line"><span class="lineno">   20</span><span class="keyword">class</span> PInternalState_t; <span class="comment">// The API-internal struct containing the context&#39;s state. Don&#39;t try to use it.</span></div>
<div class="line"><span class="lineno">   21</span><span class="keyword">struct</span> <a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a>;</div>
<div class="line"><span class="lineno">   22</span> </div>
<div class="line"><span class="lineno">   23</span><span class="comment">/// Action List Calls</span></div>
<div class="line"><span class="lineno">   24</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">   25</span><span class="comment">/// These calls create and operate on action lists, which are scripts of many actions</span></div>
<div class="line"><span class="lineno">   26</span><span class="comment">/// to be applied together as a block to the current particle group. An empty action</span></div>
<div class="line"><span class="lineno">   27</span><span class="comment">/// list is first created using GenActionLists(), and is then filled or compiled by calling</span></div>
<div class="line"><span class="lineno">   28</span><span class="comment">/// NewActionList(), then calling Actions, then calling EndActionList(). Once the action</span></div>
<div class="line"><span class="lineno">   29</span><span class="comment">/// list is filled, it is run via CallActionList(). Thus, an action list is sort of a</span></div>
<div class="line"><span class="lineno">   30</span><span class="comment">/// higher-level action. Complex behaviors can be stored in an action list and then</span></div>
<div class="line"><span class="lineno">   31</span><span class="comment">/// called later, even as part of another action list. Action lists cannot be edited.</span></div>
<div class="line"><span class="lineno">   32</span><span class="comment">/// They can only be created or destroyed. To destroy an action list, call DeleteActionLists().</span></div>
<div class="line"><span class="lineno">   33</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">   34</span><span class="comment">/// When in immediate mode (not creating or calling an action list), particles are created</span></div>
<div class="line"><span class="lineno">   35</span><span class="comment">/// with attributes from the current state. However, when particles are created within a</span></div>
<div class="line"><span class="lineno">   36</span><span class="comment">/// NewActionList() / EndActionList() block, they will receive attributes from the state that was</span></div>
<div class="line"><span class="lineno">   37</span><span class="comment">/// current when the action list was created (unlike OpenGL).</span></div>
<div class="line"><span class="lineno">   38</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">   39</span><span class="comment">/// The time step length, dt, uses the value that is current when CallActionList() is executed, not the</span></div>
<div class="line"><span class="lineno">   40</span><span class="comment">/// value of dt when the action list was created. This allows dt to be modified without recompiling action</span></div>
<div class="line"><span class="lineno">   41</span><span class="comment">/// lists. Maybe this isn&#39;t a good idea. If it should be the other way in the future, let me know.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html">   42</a></span><span class="keyword">class</span> <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_action_list__t.html">PContextActionList_t</a> {</div>
<div class="line"><span class="lineno">   43</span><span class="keyword">public</span>:</div>
<div class="line"><span class="lineno">   44</span>    <span class="comment">/// Set the random number seed.</span></div>
<div class="line"><span class="lineno">   45</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   46</span>    <span class="comment">/// The Particle API uses a pseudo-random number generator. The returned number is a function of the numbers already returned. If you start</span></div>
<div class="line"><span class="lineno">   47</span>    <span class="comment">/// two threads, each with a ParticleContext_t they will both generate the same particles if given the same commands. If this is not desired,</span></div>
<div class="line"><span class="lineno">   48</span>    <span class="comment">/// call Seed() on both of them with different seed values.</span></div>
<div class="line"><span class="lineno">   49</span>    <span class="comment">/// The API currently uses the C standard library random number generator, whose state is per-thread, so all contexts in the thread share</span></div>
<div class="line"><span class="lineno">   50</span>    <span class="comment">/// the same random number seed.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a7795db5cf91fd9fb837a83054cfe96c3">   51</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a7795db5cf91fd9fb837a83054cfe96c3">Seed</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seed);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    <span class="comment">/// Specify the time step length.</span></div>
<div class="line"><span class="lineno">   54</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   55</span>    <span class="comment">/// The Particle System API uses a discrete time approximation to all actions. This means that actions are applied to the particles at a</span></div>
<div class="line"><span class="lineno">   56</span>    <span class="comment">/// particular instant in time as if the action&#39;s effect accumulated over a small time interval, dt, with the world being constant over the</span></div>
<div class="line"><span class="lineno">   57</span>    <span class="comment">/// interval. The clock is then &quot;ticked&quot; by the length of the interval and the actions can then be reapplied with the particles having their</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="comment">/// updated values. This is the standard method of doing many time-varying simulations in computer science.</span></div>
<div class="line"><span class="lineno">   59</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   60</span>    <span class="comment">/// How does the time step, dt, relate to the application&#39;s frame rate? The easiest method is to apply the actions once per frame. If the</span></div>
<div class="line"><span class="lineno">   61</span>    <span class="comment">/// application prefers to keep time in terms of seconds, dt can be set to (1 / frames_per_second). But more often, it is easier for a time</span></div>
<div class="line"><span class="lineno">   62</span>    <span class="comment">/// unit to be one frame instead of one second. In this case, dt should be 1.0, which is the default.</span></div>
<div class="line"><span class="lineno">   63</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   64</span>    <span class="comment">/// For higher quality, the application can apply particle actions more than once per frame. This provides smoother, more realistic results</span></div>
<div class="line"><span class="lineno">   65</span>    <span class="comment">/// in many subtle ways. Suppose the application wanted to compute three animation steps for each rendered frame. Set dt to 1/3 its previous</span></div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">/// value using TimeStep(), then loop three times over all the action code that gets executed per frame, including the calls to Move. If using</span></div>
<div class="line"><span class="lineno">   67</span>    <span class="comment">/// action lists, this can be simply a loop over the CallActionList() call. The run-time results should be about the same, but with fewer</span></div>
<div class="line"><span class="lineno">   68</span>    <span class="comment">/// discrete approximation artifacts. Depending on how much non-particle work is done per frame, increasing the number of time steps per frame</span></div>
<div class="line"><span class="lineno">   69</span>    <span class="comment">/// may or may not affect the frame rate very much.</span></div>
<div class="line"><span class="lineno">   70</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   71</span>    <span class="comment">/// In terms of numerical integration, particle actions can be thought of as the first derivative of unknown functions dictating the particle</span></div>
<div class="line"><span class="lineno">   72</span>    <span class="comment">/// attributes (such as position) over time. In order to compute the particle attributes these derivative functions must be integrated. Since</span></div>
<div class="line"><span class="lineno">   73</span>    <span class="comment">/// closed form integration doesn&#39;t make sense for most actions, Euler&#39;s method is used instead. Euler&#39;s method is simply the method just</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">/// described - the evaluation of the derivative functions at a particular time and then incrementing the current particle values by these</span></div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">/// derivative results times dt. In Euler&#39;s method, the smaller the dt, the more accurate the results.</span></div>
<div class="line"><span class="lineno">   76</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">/// Unlike with other state setting calls, action lists execute using the current dt value set by TimeStep(), rather than the time step value</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">/// that was current when the action list was created. Making action lists independent of time step size allows the time step to be changed</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="comment">/// without recompiling the action list.</span></div>
<div class="line"><span class="lineno">   80</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">/// In general, it is folly to call TimeStep() in between other actions of a simulation frame. For example, calling Bounce(); TimeStep(); Move();</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">/// can cause particles to pass through the bounce domain instead of bouncing off it.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a0330f623cbd0686e4fd84abe6f2a3828">   83</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a0330f623cbd0686e4fd84abe6f2a3828">TimeStep</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> new_dt);</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">/// Return the current time step, as set with TimeStep()</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a777e90940cf960323ed04aace37315b8">   86</a></span>    <span class="keywordtype">float</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a777e90940cf960323ed04aace37315b8">GetTimeStep</a>() <span class="keyword">const</span>;</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    <span class="comment">/// Execute the specified action list on the current particle group.</span></div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="comment">/// Call the action functions as specified when this action list was created with NewActionList(). The actions are executed with the state</span></div>
<div class="line"><span class="lineno">   91</span>    <span class="comment">/// values in effect when the action list was created, except the context&#39;s current value of dt is used, not the value of dt when the list</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="comment">/// was created.</span></div>
<div class="line"><span class="lineno">   93</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="comment">/// CallActionList() is the only function other than actions that can be stored in an action list. This allows action lists to become atomic</span></div>
<div class="line"><span class="lineno">   95</span>    <span class="comment">/// operations in more complex action lists.</span></div>
<div class="line"><span class="lineno">   96</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">   97</span>    <span class="comment">/// When calling CallActionList() during the creation of a new action list, action_list_num does not need to indicate an existing action list.</span></div>
<div class="line"><span class="lineno">   98</span>    <span class="comment">/// At all other times it is an error for action_list_num to not indicate an existing (generated) action list.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a1fd276780b4ea073d187576f2459e1b4">   99</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a1fd276780b4ea073d187576f2459e1b4">CallActionList</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> action_list_num);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">/// Delete one or more consecutive action lists.</span></div>
<div class="line"><span class="lineno">  102</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  103</span>    <span class="comment">/// Deletes action_list_count action lists, with action_list_num being the list number of the first one. The lists must be numbered</span></div>
<div class="line"><span class="lineno">  104</span>    <span class="comment">/// sequentially, and must all exist. This removes the specified action lists from existence.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#abef97a9286180f1e53cb81a5c17e6205">  105</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#abef97a9286180f1e53cb81a5c17e6205">DeleteActionLists</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> action_list_num,      <span class="comment">///&lt; The handle of the first action list to delete</span></div>
<div class="line"><span class="lineno">  106</span>                           <span class="keyword">const</span> <span class="keywordtype">int</span> action_list_count = 1 <span class="comment">///&lt; How many action lists to delete</span></div>
<div class="line"><span class="lineno">  107</span>    );</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="comment">/// End the creation of a new action list.</span></div>
<div class="line"><span class="lineno">  110</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  111</span>    <span class="comment">/// Obviously, it is an error to call EndActionList() without a corresponding call to NewActionList().</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#af0ffaad952c3b2df8bc7161deb9f9127">  112</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#af0ffaad952c3b2df8bc7161deb9f9127">EndActionList</a>();</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    <span class="comment">/// Generate a block of empty action lists.</span></div>
<div class="line"><span class="lineno">  115</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  116</span>    <span class="comment">/// Returns the action list number of the first allocated list. All list numbers are in sequential order starting with the first list.</span></div>
<div class="line"><span class="lineno">  117</span>    <span class="comment">/// Valid action list numbers are non-negative.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a93f9538f37bfc3bba040d658fa2847a6">  118</a></span>    <span class="keywordtype">int</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#a93f9538f37bfc3bba040d658fa2847a6">GenActionLists</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> action_list_count = 1 <span class="comment">///&lt; How many action lists to create</span></div>
<div class="line"><span class="lineno">  119</span>    );</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="comment">/// Begin the creation of the specified action list.</span></div>
<div class="line"><span class="lineno">  122</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  123</span>    <span class="comment">/// The action_list_num must have already been generated using GenActionLists. Most calls other than actions and state setting calls</span></div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">/// cannot be made between a call to NewActionList() and the corresponding call to EndActionList().</span></div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">/// If called on an action list that has previously been defined, the previous contents of the action list are destroyed and the action</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="comment">/// list will be created anew. This is as with glNewActionList() in OpenGL.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#aec2d30f3336b2be2ab34ba3cccc55d53">  127</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#aec2d30f3336b2be2ab34ba3cccc55d53">NewActionList</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> action_list_num);</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span><span class="keyword">protected</span>:</div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">  130</a></span>    std::shared_ptr&lt;PInternalState_t&gt; <a class="code hl_variable" href="class_p_a_p_i_1_1_p_context_action_list__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">PS</a>;                     <span class="comment">// The internal API data for this context is stored here.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_action_list__t.html#aff0b6907e8741a16ef627f960272b342">  131</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_action_list__t.html#aff0b6907e8741a16ef627f960272b342">InternalSetup</a>(std::shared_ptr&lt;PInternalState_t&gt; Sr); <span class="comment">// Calls this after construction to set up the PS pointer</span></div>
<div class="line"><span class="lineno">  132</span>};</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span><span class="comment">/// This class contains the API calls that operate on particle groups.</span></div>
<div class="line"><span class="lineno">  135</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">  136</span><span class="comment">/// A particle group is first created using GenParticleGroups(), which will create a sequentially-numbered</span></div>
<div class="line"><span class="lineno">  137</span><span class="comment">/// set of particle groups and return the identifying number of the first generated</span></div>
<div class="line"><span class="lineno">  138</span><span class="comment">/// particle group. You specify which group is current using CurrentGroup(). Unless otherwise</span></div>
<div class="line"><span class="lineno">  139</span><span class="comment">/// stated, all other commands operate on the current particle group. The maximum number</span></div>
<div class="line"><span class="lineno">  140</span><span class="comment">/// of particles in the group is specified using SetMaxParticles(). The particle group</span></div>
<div class="line"><span class="lineno">  141</span><span class="comment">/// is then acted upon using the Actions.</span></div>
<div class="line"><span class="lineno">  142</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">  143</span><span class="comment">/// After the actions have been applied, the particles are rendered. This is done at</span></div>
<div class="line"><span class="lineno">  144</span><span class="comment">/// the same stage of the application&#39;s execution as drawing other geometry. To draw</span></div>
<div class="line"><span class="lineno">  145</span><span class="comment">/// a particle group in OpenGL, the application calls GetParticles() or GetParticlePointer()</span></div>
<div class="line"><span class="lineno">  146</span><span class="comment">/// functions to get the vertex data, then sends it to OpenGL. When a particle group</span></div>
<div class="line"><span class="lineno">  147</span><span class="comment">/// is no longer needed, it is deleted using DeleteParticleGroups().</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html">  148</a></span><span class="keyword">class</span> <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_particle_group__t.html">PContextParticleGroup_t</a> {</div>
<div class="line"><span class="lineno">  149</span><span class="keyword">public</span>:</div>
<div class="line"><span class="lineno">  150</span>    <span class="comment">/// Copy particles from the specified group into the current group.</span></div>
<div class="line"><span class="lineno">  151</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  152</span>    <span class="comment">/// Copy particles from the specified particle group, p_src_group_num, to the current particle group. Only copy_count particles, starting</span></div>
<div class="line"><span class="lineno">  153</span>    <span class="comment">/// with number index, are copied. Of course, the number of particles actually copied is bounded by the available space in the current</span></div>
<div class="line"><span class="lineno">  154</span>    <span class="comment">/// particle group, and the number of particles actually in the source particle group. The particles are added, in sequential order, to the</span></div>
<div class="line"><span class="lineno">  155</span>    <span class="comment">/// end of the current group. The current group&#39;s BirthCallback(), if any, is called for each particle added to the list.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a7c117f3b121b6709021ecf4036a3be53">  156</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a7c117f3b121b6709021ecf4036a3be53">CopyGroup</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> p_src_group_num, <span class="comment">///&lt; group number of the source particle group</span></div>
<div class="line"><span class="lineno">  157</span>                   <span class="keyword">const</span> size_t index,        <span class="comment">///&lt; index of the first particle in the source list to copy</span></div>
<div class="line"><span class="lineno">  158</span>                   <span class="keyword">const</span> size_t copy_count    <span class="comment">///&lt; copy at most this many particles</span></div>
<div class="line"><span class="lineno">  159</span>    );</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">/// Change which group is current.</span></div>
<div class="line"><span class="lineno">  162</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  163</span>    <span class="comment">/// Makes p_group_num be the current particle group to which all actions and commands apply.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af1ddcf82756a87ded68e545cad3e8d90">  164</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af1ddcf82756a87ded68e545cad3e8d90">CurrentGroup</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> p_group_num);</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="comment">/// Delete one or more consecutive particle groups.</span></div>
<div class="line"><span class="lineno">  167</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  168</span>    <span class="comment">/// Deletes p_group_count particle groups, with p_group_num being the particle group number of the first one. The groups must be numbered</span></div>
<div class="line"><span class="lineno">  169</span>    <span class="comment">/// sequentially, and must all exist. This removes the specified particle groups from existence (and all their particles). It does not merely</span></div>
<div class="line"><span class="lineno">  170</span>    <span class="comment">/// change the number of existing particles or the maximum size of the group.</span></div>
<div class="line"><span class="lineno">  171</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  172</span>    <span class="comment">/// The DeathCallback is NOT called for the particles in the deleted groups. Should I change this?</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a49aab2a3887103f5bbeccebef529a31b">  173</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a49aab2a3887103f5bbeccebef529a31b">DeleteParticleGroups</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> p_group_num,      <span class="comment">///&lt; handle of the first particle group to delete</span></div>
<div class="line"><span class="lineno">  174</span>                              <span class="keyword">const</span> <span class="keywordtype">int</span> p_group_count = 1 <span class="comment">///&lt; delete this many groups</span></div>
<div class="line"><span class="lineno">  175</span>    );</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>    <span class="comment">/// Create particle groups, each with a maximum of max_particles.</span></div>
<div class="line"><span class="lineno">  178</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  179</span>    <span class="comment">/// Generates p_group_count new particle groups and returns the particle group number of the first one. The groups are numbered sequentially,</span></div>
<div class="line"><span class="lineno">  180</span>    <span class="comment">/// beginning with the number returned. Each particle group is set to have at most max_particles particles. Call SetMaxParticles() to change this.</span></div>
<div class="line"><span class="lineno">  181</span>    <span class="comment">/// Particle group numbers of groups that have been deleted (using DeleteParticleGroups()) might be reused by GenParticleGroups().</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ad6b48bdc6e998672ff0df1c4f581230b">  182</a></span>    <span class="keywordtype">int</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ad6b48bdc6e998672ff0df1c4f581230b">GenParticleGroups</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> p_group_count = 1,   <span class="comment">///&lt; generate this many groups</span></div>
<div class="line"><span class="lineno">  183</span>                          <span class="keyword">const</span> size_t max_particles = 0 <span class="comment">///&lt; each created group can have this many particles</span></div>
<div class="line"><span class="lineno">  184</span>    );</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>    <span class="comment">/// Returns the number of particles existing in the current group.</span></div>
<div class="line"><span class="lineno">  187</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  188</span>    <span class="comment">/// The number returned is less than or equal to the group&#39;s max_particles.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#abbcc2cd2340624560e3b2cf6e9d5cb0c">  189</a></span>    size_t <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#abbcc2cd2340624560e3b2cf6e9d5cb0c">GetGroupCount</a>();</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="comment">/// Return the maximum number of particles allowed in the current group.</span></div>
<div class="line"><span class="lineno">  192</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  193</span>    <span class="comment">/// This can be changed with SetMaxParticles().</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab94327f011a4f3713cb0941abe0da63f">  194</a></span>    size_t <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab94327f011a4f3713cb0941abe0da63f">GetMaxParticles</a>();</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    <span class="comment">/// Copy particles from the current group to application memory.</span></div>
<div class="line"><span class="lineno">  197</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">/// Copies at most count particles beginning with the index-th particle in the current particle group into memory already allocated by the</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">/// application. Three floats are returned for the position of each particle, representing its x,y,z location. Four floats are returned for</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="comment">/// the color of each particle, representing its R,G,B,A color. Three floats are returned for the velocity of each particle, representing</span></div>
<div class="line"><span class="lineno">  201</span>    <span class="comment">/// its dx,dy,dz direction vector. Three floats are returned for the size of each particle, representing whatever the application wants them</span></div>
<div class="line"><span class="lineno">  202</span>    <span class="comment">/// to. One float is returned for the age of each particle.</span></div>
<div class="line"><span class="lineno">  203</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  204</span>    <span class="comment">/// GetParticles() returns the number of particles copied to application memory. Of course, the number of particles actually returned is</span></div>
<div class="line"><span class="lineno">  205</span>    <span class="comment">/// bounded by count and by the number of particles actually in the particle group minus index.</span></div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">/// If verts, color, vel, size or age is NULL then the respective field will not be returned. index and count must be at least 0 and less</span></div>
<div class="line"><span class="lineno">  207</span>    <span class="comment">/// than the number of particles. index + count must be less than the number of particles.</span></div>
<div class="line"><span class="lineno">  208</span>    <span class="comment">/// As with all arrays in C, the index of the first particle is zero.</span></div>
<div class="line"><span class="lineno">  209</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  210</span>    <span class="comment">/// The following code gets the position of all particles:</span></div>
<div class="line"><span class="lineno">  211</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  212</span>    <span class="comment">/// int cnt = GetGroupCount();</span></div>
<div class="line"><span class="lineno">  213</span>    <span class="comment">/// float *ppos = new float[cnt * 3];</span></div>
<div class="line"><span class="lineno">  214</span>    <span class="comment">/// int num_ret = GetParticles(0, cnt, ppos);</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af589e7bdf0c3280bce5442782563ae6b">  215</a></span>    size_t <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af589e7bdf0c3280bce5442782563ae6b">GetParticles</a>(<span class="keyword">const</span> size_t index,  <span class="comment">///&lt; index of the first particle to return</span></div>
<div class="line"><span class="lineno">  216</span>                        <span class="keyword">const</span> size_t count,  <span class="comment">///&lt; max number of particles to return</span></div>
<div class="line"><span class="lineno">  217</span>                        <span class="keywordtype">float</span>* position,     <span class="comment">///&lt; location to store 3 floats per particle for position</span></div>
<div class="line"><span class="lineno">  218</span>                        <span class="keyword">const</span> <span class="keywordtype">bool</span> getAlpha, <span class="comment">///&lt; true to get a float4 color with alpha; false to get a float3 color</span></div>
<div class="line"><span class="lineno">  219</span>                        <span class="keywordtype">float</span>* color = NULL, <span class="comment">///&lt; location to store 3 or 4 floats per particle for color and optionally alpha</span></div>
<div class="line"><span class="lineno">  220</span>                        <span class="keywordtype">float</span>* vel = NULL,   <span class="comment">///&lt; location to store 3 floats per particle for velocity</span></div>
<div class="line"><span class="lineno">  221</span>                        <span class="keywordtype">float</span>* size = NULL,  <span class="comment">///&lt; location to store 3 floats per particle for size</span></div>
<div class="line"><span class="lineno">  222</span>                        <span class="keywordtype">float</span>* age = NULL    <span class="comment">///&lt; location to store 1 float per particle for age</span></div>
<div class="line"><span class="lineno">  223</span>    );</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="comment">/// Return a pointer to particle data stored in API memory.</span></div>
<div class="line"><span class="lineno">  226</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  227</span>    <span class="comment">/// This function exposes the internal storage of the particle data to the application. It provides a much higher performance way to render</span></div>
<div class="line"><span class="lineno">  228</span>    <span class="comment">/// particles because it avoids copying. In fact, the returned pointers can typically be passed directly to OpenGL or D3D without the</span></div>
<div class="line"><span class="lineno">  229</span>    <span class="comment">/// application ever owning a copy of the data.</span></div>
<div class="line"><span class="lineno">  230</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  231</span>    <span class="comment">/// Writing to the returned memory is obviously unsafe. There may be auxiliary data that depend on the current values of the particle data.</span></div>
<div class="line"><span class="lineno">  232</span>    <span class="comment">/// You can try it if you want to, but your code may break against future API versions.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a75cdf009111297f02b803ac08d0a4213">  233</a></span>    size_t <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a75cdf009111297f02b803ac08d0a4213">GetParticlePointer</a>(<span class="keyword">const</span> <span class="keywordtype">float</span>*&amp; ptr, <span class="comment">///&lt; the returned pointer to the particle data</span></div>
<div class="line"><span class="lineno">  234</span>                              size_t&amp; stride,    <span class="comment">///&lt; the number of floats from one particle&#39;s value to the next particle&#39;s value</span></div>
<div class="line"><span class="lineno">  235</span>                              size_t&amp; pos3Ofs,   <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s position parameter</span></div>
<div class="line"><span class="lineno">  236</span>                              size_t&amp; posB3Ofs,  <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s positionB parameter</span></div>
<div class="line"><span class="lineno">  237</span>                              size_t&amp; size3Ofs,  <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s size parameter</span></div>
<div class="line"><span class="lineno">  238</span>                              size_t&amp; vel3Ofs,   <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s velocity parameter</span></div>
<div class="line"><span class="lineno">  239</span>                              size_t&amp; velB3Ofs,  <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s velocityB parameter</span></div>
<div class="line"><span class="lineno">  240</span>                              size_t&amp; color3Ofs, <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s color parameter</span></div>
<div class="line"><span class="lineno">  241</span>                              size_t&amp; alpha1Ofs, <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s alpha parameter</span></div>
<div class="line"><span class="lineno">  242</span>                              size_t&amp; age1Ofs,   <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s age parameter</span></div>
<div class="line"><span class="lineno">  243</span>                              size_t&amp; up3Ofs,    <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s up parameter</span></div>
<div class="line"><span class="lineno">  244</span>                              size_t&amp; rvel3Ofs,  <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s rvel parameter</span></div>
<div class="line"><span class="lineno">  245</span>                              size_t&amp; upB3Ofs,   <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s upB parameter</span></div>
<div class="line"><span class="lineno">  246</span>                              size_t&amp; mass1Ofs,  <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s mass parameter</span></div>
<div class="line"><span class="lineno">  247</span>                              size_t&amp; data1Ofs   <span class="comment">///&lt; the number of floats from returned ptr to the first particle&#39;s data parameter, which is a 32-bit integer</span></div>
<div class="line"><span class="lineno">  248</span>    );</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <span class="comment">/// Change the maximum number of particles in the current group.</span></div>
<div class="line"><span class="lineno">  251</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  252</span>    <span class="comment">/// If necessary, this will delete particles from the end of the particle group, but no other particles will be deleted.</span></div>
<div class="line"><span class="lineno">  253</span>    <span class="comment">/// The DeathCallback() of deleted particles WILL be called.</span></div>
<div class="line"><span class="lineno">  254</span>    <span class="comment">/// Call SetMaxParticles(0) to empty the group.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ac89a60f3740531bba39533bf75d3e990">  255</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ac89a60f3740531bba39533bf75d3e990">SetMaxParticles</a>(<span class="keyword">const</span> size_t max_count);</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">/// Specify a particle creation callback.</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  259</span>    <span class="comment">/// Specify a callback function within your code that should be called every time a particle is created. The callback is associated only</span></div>
<div class="line"><span class="lineno">  260</span>    <span class="comment">/// with the particle group that is current at the time you make the BirthCallback() call. You can optionally pass a 32-bit value</span></div>
<div class="line"><span class="lineno">  261</span>    <span class="comment">/// that could be a handle to arbitrary data of your own, which is returned to your callback.</span></div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  263</span>    <span class="comment">/// The API&#39;s internal Particle_t struct is passed back to your callback function, so your application will have to include &quot;Particle/Particle.h&quot;.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a2875a5464c1810fa11a88e057b56cd84">  264</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a2875a5464c1810fa11a88e057b56cd84">BirthCallback</a>(P_PARTICLE_CALLBACK callback, <span class="comment">///&lt; Pointer to function of yours to call</span></div>
<div class="line"><span class="lineno">  265</span>                       <a class="code hl_typedef" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a> group_data = 0        <span class="comment">///&lt; Arbitrary per-group data of yours to pass into your function</span></div>
<div class="line"><span class="lineno">  266</span>    );</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    <span class="comment">/// Specify a particle death callback.</span></div>
<div class="line"><span class="lineno">  269</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  270</span>    <span class="comment">/// Specify a callback function within your code that should be called every time a particle is killed. The callback is associated only</span></div>
<div class="line"><span class="lineno">  271</span>    <span class="comment">/// with the particle group that is current at the time you make the DeathCallback() call. You can optionally pass a pointer to arbitrary</span></div>
<div class="line"><span class="lineno">  272</span>    <span class="comment">/// data of your own, which is returned to your callback.</span></div>
<div class="line"><span class="lineno">  273</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  274</span>    <span class="comment">/// The API&#39;s internal Particle_t struct is passed back to your callback function, so your application will have to include &quot;Particle/Particle.h&quot;.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a0c0eaac8b9d6b1e5d2520173ee936522">  275</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a0c0eaac8b9d6b1e5d2520173ee936522">DeathCallback</a>(P_PARTICLE_CALLBACK callback, <span class="comment">///&lt; Pointer to function of yours to call</span></div>
<div class="line"><span class="lineno">  276</span>                       <a class="code hl_typedef" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a> group_data = 0        <span class="comment">///&lt; Arbitrary per-group data of yours to pass into your function</span></div>
<div class="line"><span class="lineno">  277</span>    );</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    <span class="comment">/// Set the number of particles that fit in the CPU&#39;s cache</span></div>
<div class="line"><span class="lineno">  280</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="comment">/// You probably don&#39;t need to call this function. It is the number of bytes in the working set. Most action lists apply several actions to</span></div>
<div class="line"><span class="lineno">  282</span>    <span class="comment">/// the working set of particles, then load the next working set of particles and apply the same actions to them. This allows particles to</span></div>
<div class="line"><span class="lineno">  283</span>    <span class="comment">/// stay resident in the CPU&#39;s cache for a longer period of time, potentially increasing performance dramatically.</span></div>
<div class="line"><span class="lineno">  284</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  285</span>    <span class="comment">/// You specify the working set size in bytes.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a1112f0655c7c1b62f870511b8afef9d7">  286</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a1112f0655c7c1b62f870511b8afef9d7">SetWorkingSetSize</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> set_size_bytes);</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span><span class="keyword">protected</span>:</div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">  289</a></span>    std::shared_ptr&lt;PInternalState_t&gt; <a class="code hl_variable" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">PS</a>;                     <span class="comment">// The internal API data for this context is stored here.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#aff0b6907e8741a16ef627f960272b342">  290</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_particle_group__t.html#aff0b6907e8741a16ef627f960272b342">InternalSetup</a>(std::shared_ptr&lt;PInternalState_t&gt; Sr); <span class="comment">// Calls this after construction to set up the PS pointer</span></div>
<div class="line"><span class="lineno">  291</span>};</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span><span class="comment">/// This class contains the Action API. It includes the legacy, less performant, but perhaps more elegant Action API.</span></div>
<div class="line"><span class="lineno">  294</span><span class="comment">/// It also includes the inline actions API. This allows an action to be applied to a particle using a function call that will be inlined.</span></div>
<div class="line"><span class="lineno">  295</span><span class="comment">/// This enables a new programming model with a normally parallel for_each loop around a per-particle list of actions.</span></div>
<div class="line"><span class="lineno">  296</span><span class="comment">/// It also enables the inline actions functions to be called from CUDA threads, or equivalent, allowing GPU acceleration.</span></div>
<div class="line"><span class="lineno">  297</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">  298</span><span class="comment">/// Actions modify the position, color, velocity, size, age, and other attributes of</span></div>
<div class="line"><span class="lineno">  299</span><span class="comment">/// particles. All actions apply to the current particle group, as set by CurrentGroup().</span></div>
<div class="line"><span class="lineno">  300</span><span class="comment">/// Some actions will add particles to or delete them from the particle group, and others</span></div>
<div class="line"><span class="lineno">  301</span><span class="comment">/// will modify the particles in other ways. Typically, a series of actions will be</span></div>
<div class="line"><span class="lineno">  302</span><span class="comment">/// applied to each particle group once (or more) per rendered frame.</span></div>
<div class="line"><span class="lineno">  303</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">  304</span><span class="comment">/// Remember that the amount of effect of an action call depends on the time step size,</span></div>
<div class="line"><span class="lineno">  305</span><span class="comment">/// dt, as set by TimeStep. See TimeStep() for an explanation of time steps.</span></div>
<div class="line"><span class="lineno">  306</span><span class="comment">///</span></div>
<div class="line"><span class="lineno">  307</span><span class="comment">/// Some functions have parameters with a default value of the constant P_EPS. P_EPS is a very small</span></div>
<div class="line"><span class="lineno">  308</span><span class="comment">/// floating point constant that is most often used as the default value of the epsilon</span></div>
<div class="line"><span class="lineno">  309</span><span class="comment">/// parameter to actions whose influence on a particle is relative to the inverse square</span></div>
<div class="line"><span class="lineno">  310</span><span class="comment">/// of its distance from something. If that distance is very small, the amount of influence</span></div>
<div class="line"><span class="lineno">  311</span><span class="comment">/// approaches infinity. Since all actions are computed using Euler&#39;s method, this can</span></div>
<div class="line"><span class="lineno">  312</span><span class="comment">/// cause unsatisfying results in which particles are accelerated way too much. So this</span></div>
<div class="line"><span class="lineno">  313</span><span class="comment">/// epsilon parameter is added to the distance before taking its inverse square, thus</span></div>
<div class="line"><span class="lineno">  314</span><span class="comment">/// keeping the acceleration within reasonable limits. By varying epsilon, you specify</span></div>
<div class="line"><span class="lineno">  315</span><span class="comment">/// what is reasonable. Larger epsilon make particles accelerate less.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html">  316</a></span><span class="keyword">class</span> <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PContextActions_t</a> {</div>
<div class="line"><span class="lineno">  317</span><span class="keyword">public</span>:</div>
<div class="line"><span class="lineno">  318</span>    <span class="comment">/// The inline actions API calls take a Particle_t as the first argument. Otherwise the call signatures match those of the legacy API.</span></div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="comment">/// Steer particles away from a domain of space.</span></div>
<div class="line"><span class="lineno">  321</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  322</span>    <span class="comment">/// Particles are tested to see whether they will pass from being outside the specified domain to being inside it within look_ahead time</span></div>
<div class="line"><span class="lineno">  323</span>    <span class="comment">/// units from now if the next Move() action were to occur now. The specific direction and amount of turn is dependent on the kind of</span></div>
<div class="line"><span class="lineno">  324</span>    <span class="comment">/// domain being avoided.</span></div>
<div class="line"><span class="lineno">  325</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  326</span>    <span class="comment">/// At present the only domains for which Avoid() is implemented are PDSphere, PDRectangle, PDTriangle, PDDisc and PDPlane.</span></div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#aa16ae63dc83e382151aaf825401a55e7">Avoid</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keywordtype">float</span> magnitude,   <span class="comment">///&lt; how drastically the particle velocities are modified to avoid the obstacle at each time step.</span></div>
<div class="line"><span class="lineno">  328</span>               <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon,    <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  329</span>               <span class="keyword">const</span> <span class="keywordtype">float</span> look_ahead, <span class="comment">///&lt; how far forward along the velocity vector to look for the obstacle</span></div>
<div class="line"><span class="lineno">  330</span>               <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom      <span class="comment">///&lt; the space to avoid</span></div>
<div class="line"><span class="lineno">  331</span>    );</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="comment">/// Bounce particles off an object defined by a domain.</span></div>
<div class="line"><span class="lineno">  334</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  335</span>    <span class="comment">/// Particles are tested to see whether they will pass from being outside the specified domain to being inside it if the next Move()</span></div>
<div class="line"><span class="lineno">  336</span>    <span class="comment">/// action were to occur now. If they would pass through the surface of the domain, they are instead bounced off it. That is, their</span></div>
<div class="line"><span class="lineno">  337</span>    <span class="comment">/// velocity vector is decomposed into components normal to the surface and tangent to the surface. The direction of the normal component</span></div>
<div class="line"><span class="lineno">  338</span>    <span class="comment">/// is reversed, and friction, resilience and fric_min_vel are applied to the components. They are then recomposed into a new velocity heading</span></div>
<div class="line"><span class="lineno">  339</span>    <span class="comment">/// away from the surface.</span></div>
<div class="line"><span class="lineno">  340</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  341</span>    <span class="comment">/// Since particles are tested to see whether they would pass through the domain if Move() were called now, it is best to have Bounce()</span></div>
<div class="line"><span class="lineno">  342</span>    <span class="comment">/// be the last action that modifies a particle&#39;s velocity before calling Move().</span></div>
<div class="line"><span class="lineno">  343</span>    <span class="comment">/// Also, actions such as RandomDisplace() that modify a particle&#39;s position directly, rather than modifying its velocity vector, may yield</span></div>
<div class="line"><span class="lineno">  344</span>    <span class="comment">/// unsatisfying results when used with Bounce().</span></div>
<div class="line"><span class="lineno">  345</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  346</span>    <span class="comment">/// At present Bounce() is not implemented for all domains. Feel free to implement others. For spheres, the particle bounces off either the inside or the</span></div>
<div class="line"><span class="lineno">  347</span>    <span class="comment">/// outside of the sphere. For planes, triangles and discs, the particles bounce off either side of the surface. For rectangles, particles bounce off either</span></div>
<div class="line"><span class="lineno">  348</span>    <span class="comment">/// side of the diamond-shaped patch whose corners are o, o+u, o+u+v, and o+v. See the documentation on domains for further explanation.</span></div>
<div class="line"><span class="lineno">  349</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  350</span>    <span class="comment">/// Bounce() doesn&#39;t work correctly with small time step sizes for particles sliding along a surface, despite fric_min_vel. The friction and resilience</span></div>
<div class="line"><span class="lineno">  351</span>    <span class="comment">/// parameters should not be scaled by dt, since a bounce happens instantaneously. On the other hand, they should be scaled by dt because particles sliding</span></div>
<div class="line"><span class="lineno">  352</span>    <span class="comment">/// along a surface will hit more often if dt is smaller. Adjust these parameters manually when you change dt.</span></div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ace4e779b823ee91f955a2739069da2c8">Bounce</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keywordtype">float</span> friction,      <span class="comment">///&lt; tangential component of the outgoing velocity vector is scaled by (1 - friction)</span></div>
<div class="line"><span class="lineno">  354</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> resilience,   <span class="comment">///&lt; normal component of the outgoing velocity vector is scaled by resilience</span></div>
<div class="line"><span class="lineno">  355</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> fric_min_vel, <span class="comment">///&lt; only apply friction if tangential velocity is greater than fric_min_vel so particles can glide smoothly</span></div>
<div class="line"><span class="lineno">  356</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom        <span class="comment">///&lt; bounce off the surface of this domain</span></div>
<div class="line"><span class="lineno">  357</span>    );</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>    <span class="comment">/// Set the secondary position and velocity from current.</span></div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ac84a59919e1951dfb5b123bb7021a40d">CopyVertexB</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">bool</span> copy_pos = <span class="keyword">true</span>, <span class="comment">///&lt; If true, sets particle&#39;s PositionB to the current position of that particle. This makes each</span></div>
<div class="line"><span class="lineno">  361</span>                                                      <span class="comment">///&lt; particle remember this position so it can later return to it using the Restore() action.</span></div>
<div class="line"><span class="lineno">  362</span>                     <span class="keyword">const</span> <span class="keywordtype">bool</span> copy_vel = <span class="keyword">false</span> <span class="comment">///&lt; If true, sets particle&#39;s velocityB to the current velocity of that particle. Compute particle orientation</span></div>
<div class="line"><span class="lineno">  363</span>                                                 <span class="comment">///&lt; by copying velocity before other actions. Then velocity X velocityB yields a tangent vector.</span></div>
<div class="line"><span class="lineno">  364</span>    );</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    <span class="comment">/// Simulate air by dampening particle velocities.</span></div>
<div class="line"><span class="lineno">  367</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  368</span>    <span class="comment">/// If a particle&#39;s velocity magnitude is within min_vel and max_vel, then multiply each component of the velocity by the respective damping constant.</span></div>
<div class="line"><span class="lineno">  369</span>    <span class="comment">/// Typically, the three components of damping will have the same value.</span></div>
<div class="line"><span class="lineno">  370</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  371</span>    <span class="comment">/// There are no bounds on the damping constants. Thus, by giving values greater than 1.0 they may be used to speed up particles instead of slow them down.</span></div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a6cc1b4af4c0b2e473a53c20eb8d0e938">Damping</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; damping,        <span class="comment">///&lt; component-wise multiply this vector by the velocity vector</span></div>
<div class="line"><span class="lineno">  373</span>                 <span class="keyword">const</span> <span class="keywordtype">float</span> min_vel = 0.0f,      <span class="comment">///&lt; only dampen if velocity magnitude is greater than min_vel</span></div>
<div class="line"><span class="lineno">  374</span>                 <span class="keyword">const</span> <span class="keywordtype">float</span> max_vel = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; only dampen if velocity magnitude is less than max_vel</span></div>
<div class="line"><span class="lineno">  375</span>    );</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="comment">/// Simulate air by dampening rotational velocities.</span></div>
<div class="line"><span class="lineno">  378</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  379</span>    <span class="comment">/// If a particle&#39;s rotational velocity magnitude is within min_vel and max_vel, then multiply each component of the rotational velocity by</span></div>
<div class="line"><span class="lineno">  380</span>    <span class="comment">/// the respective damping constant. Typically, the three components of damping will have the same value.</span></div>
<div class="line"><span class="lineno">  381</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  382</span>    <span class="comment">/// There are no bounds on the damping constants. Thus, by giving values greater than 1.0 they may be used to speed up particles instead of slow them down.</span></div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ae4c5c867725fe40de3c444e5841165be">RotDamping</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; damping,        <span class="comment">///&lt; component-wise multiply this vector by the rotational velocity vector</span></div>
<div class="line"><span class="lineno">  384</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> min_vel = 0.0f,      <span class="comment">///&lt; only dampen if velocity magnitude is greater than min_vel</span></div>
<div class="line"><span class="lineno">  385</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> max_vel = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; only dampen if velocity magnitude is less than max_vel</span></div>
<div class="line"><span class="lineno">  386</span>    );</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    <span class="comment">/// Exert force on each particle away from explosion center.</span></div>
<div class="line"><span class="lineno">  389</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  390</span>    <span class="comment">/// Causes an explosion by accelerating all particles away from the center. Particles are accelerated away from the center by an amount proportional to</span></div>
<div class="line"><span class="lineno">  391</span>    <span class="comment">/// magnitude. The shock wave of the explosion has a gaussian magnitude. The peak of the wave front travels spherically outward from the center at the</span></div>
<div class="line"><span class="lineno">  392</span>    <span class="comment">/// specified velocity. So at a given time step, particles at a distance (velocity * age) from center will receive the most acceleration, and particles not</span></div>
<div class="line"><span class="lineno">  393</span>    <span class="comment">/// at the peak of the shock wave will receive a lesser outward acceleration.</span></div>
<div class="line"><span class="lineno">  394</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  395</span>    <span class="comment">/// radius is the current radius of the explosion wave&#39;s peak. It is up to the application to increment the radius for each call to</span></div>
<div class="line"><span class="lineno">  396</span>    <span class="comment">/// Explosion(). For Explosion() calls in action lists, this means you will need to recreate the action list each time step.</span></div>
<div class="line"><span class="lineno">  397</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  398</span>    <span class="comment">/// You can set up a standing wave by not incrementing the radius.</span></div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a86da1a6e94fc8461bec7457c31c75aa5">Explosion</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; center,    <span class="comment">///&lt; center point of shock wave</span></div>
<div class="line"><span class="lineno">  400</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> radius,         <span class="comment">///&lt; current radius of wave peak</span></div>
<div class="line"><span class="lineno">  401</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude,      <span class="comment">///&lt; scales the acceleration applied to particles</span></div>
<div class="line"><span class="lineno">  402</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> sigma,          <span class="comment">///&lt; standard deviation of the gaussian; the sharpness or broadness of the strength of the wave.</span></div>
<div class="line"><span class="lineno">  403</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a> <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  404</span>    );</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    <span class="comment">/// Accelerate particles in the given direction.</span></div>
<div class="line"><span class="lineno">  407</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  408</span>    <span class="comment">/// The gravity acceleration vector is simply added to the velocity vector of each particle at each time step. The magnitude of the</span></div>
<div class="line"><span class="lineno">  409</span>    <span class="comment">/// gravity vector is the acceleration due to gravity.</span></div>
<div class="line"><span class="lineno">  410</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a8c43d58ba73f2d90ea896e5f360283aa">Gravity</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; dir <span class="comment">///&lt; acceleration vector</span></div>
<div class="line"><span class="lineno">  411</span>    );</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="comment">/// For particles in the domain of influence, accelerate them with a domain.</span></div>
<div class="line"><span class="lineno">  414</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  415</span>    <span class="comment">/// For each particle within the jet&#39;s domain of influence, dom, Jet() chooses an acceleration vector from the domain acc and applies</span></div>
<div class="line"><span class="lineno">  416</span>    <span class="comment">/// it to the particle&#39;s velocity.</span></div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a3c5c50eae28c371dc0df1fe77558b480">Jet</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom, <span class="comment">///&lt; apply jet to particles in this domain</span></div>
<div class="line"><span class="lineno">  418</span>             <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; acc);     <span class="comment">///&lt; acceleration vector comes from this domain</span></div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>    <span class="comment">/// Apply the particles&#39; velocities to their positions, and age the particles.</span></div>
<div class="line"><span class="lineno">  421</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="comment">/// This action actually updates the particle positions by adding the current velocity to the current position and the current rotational</span></div>
<div class="line"><span class="lineno">  423</span>    <span class="comment">/// velocity to the current up vector. This is typically the last particle action performed in an iteration of a particle simulation, and</span></div>
<div class="line"><span class="lineno">  424</span>    <span class="comment">/// typically only occurs once per iteration.</span></div>
<div class="line"><span class="lineno">  425</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  426</span>    <span class="comment">/// The velocity is multiplied by the time step length, dt, before being added to the position. This implements Euler&#39;s method of numerical</span></div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">/// integration with a constant but specifiable step size. See TimeStep() for more on varying the time step size.</span></div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a3a5c6b977f44d48ae69ef988e38010b8">Move</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">bool</span> move_velocity = <span class="keyword">true</span>,      <span class="comment">///&lt; apply velocity to position.</span></div>
<div class="line"><span class="lineno">  429</span>              <span class="keyword">const</span> <span class="keywordtype">bool</span> move_rotational_velocity = <span class="keyword">true</span> <span class="comment">///&lt; apply rotational velocity to Up vector. This is an optimization.</span></div>
<div class="line"><span class="lineno">  430</span>    );</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="comment">/// Accelerate particles toward the closest point on the given line.</span></div>
<div class="line"><span class="lineno">  433</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  434</span>    <span class="comment">/// For each particle, this action computes the vector to the closest point on the line, and accelerates the particle in that direction.</span></div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a43938615298de20013c393c422707523">OrbitLine</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; p,                 <span class="comment">///&lt; a point on the line</span></div>
<div class="line"><span class="lineno">  436</span>                   <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; axis,                   <span class="comment">///&lt; any vector parallel to the line</span></div>
<div class="line"><span class="lineno">  437</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,       <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  438</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  439</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from the line is affected</span></div>
<div class="line"><span class="lineno">  440</span>    );</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="comment">/// Accelerate particles toward the given center point.</span></div>
<div class="line"><span class="lineno">  443</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  444</span>    <span class="comment">/// For each particle, this action computes the vector to the center point, and accelerates the particle in the vector direction.</span></div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#aa19d888611038fdc1c20860be8ca5449">OrbitPoint</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; center,            <span class="comment">///&lt; accelerate toward this point</span></div>
<div class="line"><span class="lineno">  446</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,       <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  447</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  448</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from the center is affected</span></div>
<div class="line"><span class="lineno">  449</span>    );</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="comment">/// Accelerate particles in random directions.</span></div>
<div class="line"><span class="lineno">  452</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  453</span>    <span class="comment">/// For each particle, chooses an acceleration vector from the specified domain and adds it to the particle&#39;s velocity.</span></div>
<div class="line"><span class="lineno">  454</span>    <span class="comment">/// Reducing the time step, dt, will make a higher probability of being near the original velocity after unit time. Smaller dt approach</span></div>
<div class="line"><span class="lineno">  455</span>    <span class="comment">/// a normal distribution of velocity vectors instead of a square wave distribution.</span></div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a138cc2920c8214662c66b681187c44a3">RandomAccel</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom <span class="comment">///&lt; choose acceleration from this domain</span></div>
<div class="line"><span class="lineno">  457</span>    );</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <span class="comment">/// Immediately displace position by a random amount.</span></div>
<div class="line"><span class="lineno">  460</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  461</span>    <span class="comment">/// Chooses a displacement vector from the specified domain and adds it to the particle&#39;s position.</span></div>
<div class="line"><span class="lineno">  462</span>    <span class="comment">/// Reducing the time step, dt, will make a higher probability of being near the original position after unit time. Smaller dt approach a</span></div>
<div class="line"><span class="lineno">  463</span>    <span class="comment">/// normal distribution of particle positions instead of a square wave distribution.</span></div>
<div class="line"><span class="lineno">  464</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  465</span>    <span class="comment">/// Since this action changes particle positions, rather than changing their velocities and depending on the Move() action to change the</span></div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">/// positions, unsatisfying results may occur when used with the Avoid() or Bounce() actions.</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="comment">/// In particular, particles may be displaced to the opposite side of the surface without bouncing off it.</span></div>
<div class="line"><span class="lineno">  468</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a04845de1a769badc0f7af0a38f4fe70c">RandomDisplace</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom <span class="comment">///&lt; choose position offset from this domain</span></div>
<div class="line"><span class="lineno">  469</span>    );</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="comment">/// Replace particle velocity with a random velocity.</span></div>
<div class="line"><span class="lineno">  472</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  473</span>    <span class="comment">/// Sets each particle&#39;s velocity vector to a random vector in the specified domain.</span></div>
<div class="line"><span class="lineno">  474</span>    <span class="comment">/// This function is not affected by dt.</span></div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#af3339a51712fd2d8c894e6d8e8f333b8">RandomVelocity</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom <span class="comment">///&lt; choose velocity from this domain</span></div>
<div class="line"><span class="lineno">  476</span>    );</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <span class="comment">/// Immediately assign a random rotational velocity.</span></div>
<div class="line"><span class="lineno">  479</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  480</span>    <span class="comment">/// Sets each particle&#39;s rotational velocity vector to a random vector in the specified domain.</span></div>
<div class="line"><span class="lineno">  481</span>    <span class="comment">/// This function is not affected by dt.</span></div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ae6b690fb389ca5d433e732a5fc0b8600">RandomRotVelocity</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom <span class="comment">///&lt; choose rotational velocity from this domain</span></div>
<div class="line"><span class="lineno">  483</span>    );</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    <span class="comment">/// Over time, restore particles to their target positionB and upB.</span></div>
<div class="line"><span class="lineno">  486</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  487</span>    <span class="comment">/// If vel is true, computes a new velocity for each particle that will make the particle arrive at its positionB at the specified amount</span></div>
<div class="line"><span class="lineno">  488</span>    <span class="comment">/// of time in the future. If rvel is true, computes a new rotational velocity that moves up toward upB.</span></div>
<div class="line"><span class="lineno">  489</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  490</span>    <span class="comment">/// The curved path that the particles take is a parametric quadratic. Once the specified amount of time has passed, Restore() instead sets</span></div>
<div class="line"><span class="lineno">  491</span>    <span class="comment">/// position and Up to equal positionB and upB and sets velocity and rotational velocity to 0 to freeze them in place.</span></div>
<div class="line"><span class="lineno">  492</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  493</span>    <span class="comment">/// It is the application&#39;s responsibility to decrease time_left by dt on each call. When in an action list, this means you need to</span></div>
<div class="line"><span class="lineno">  494</span>    <span class="comment">/// recreate the action list each time step.</span></div>
<div class="line"><span class="lineno">  495</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  496</span>    <span class="comment">/// The positionB attribute of each particle is typically the particle&#39;s position when it was created, or it can be specified within a</span></div>
<div class="line"><span class="lineno">  497</span>    <span class="comment">/// domain. This is controlled by VertexBTracks(), and VertexB(). The positionB can be set at any time to the particle&#39;s current position</span></div>
<div class="line"><span class="lineno">  498</span>    <span class="comment">/// using the CopyVertexB() action.</span></div>
<div class="line"><span class="lineno">  499</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  500</span>    <span class="comment">/// Restore(0) is the opposite of CopyVertexB(); it sets each particle&#39;s position to be equal to its positionB. However, this has the side</span></div>
<div class="line"><span class="lineno">  501</span>    <span class="comment">/// effect of setting each particle&#39;s velocity to 0.</span></div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a28d18b058543458feb888446e43ee0c8">Restore</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">float</span> time, <span class="comment">///&lt; how long more until particles should arrive at target position and orientation</span></div>
<div class="line"><span class="lineno">  503</span>                 <span class="keyword">const</span> <span class="keywordtype">bool</span> vel = <span class="keyword">true</span>, <span class="comment">///&lt; restore positions</span></div>
<div class="line"><span class="lineno">  504</span>                 <span class="keyword">const</span> <span class="keywordtype">bool</span> rvel = <span class="keyword">true</span> <span class="comment">///&lt; restore up vectors</span></div>
<div class="line"><span class="lineno">  505</span>    );</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="comment">/// Clamp particle velocities to the given range.</span></div>
<div class="line"><span class="lineno">  508</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  509</span>    <span class="comment">/// Computes each particle&#39;s speed (the magnitude of its velocity vector) and if it is less than min_speed or greater than max_speed the</span></div>
<div class="line"><span class="lineno">  510</span>    <span class="comment">/// velocity is scaled to within those bounds, while preserving the velocity vector&#39;s direction.</span></div>
<div class="line"><span class="lineno">  511</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  512</span>    <span class="comment">/// The vector [0,0,0] is an exception because it has no direction. Such vectors are not modified by SpeedClamp().</span></div>
<div class="line"><span class="lineno">  513</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#aadac5399a08ff5ec4756eaaac8d5683b">SpeedClamp</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">float</span> min_speed, <span class="comment">///&lt; set velocity vectors below min_speed to min_speed</span></div>
<div class="line"><span class="lineno">  514</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> max_speed       <span class="comment">///&lt; set velocity vectors above max_speed to max_speed</span></div>
<div class="line"><span class="lineno">  515</span>    );</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>    <span class="comment">/// Change color of all particles toward the specified color.</span></div>
<div class="line"><span class="lineno">  518</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">/// Modifies the color and alpha of each particle to be scale percent of the way closer to the specified color and alpha. scale is</span></div>
<div class="line"><span class="lineno">  520</span>    <span class="comment">/// multiplied by dt before scaling the sizes. Thus, using smaller dt causes a slightly faster approach to the target color.</span></div>
<div class="line"><span class="lineno">  521</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  522</span>    <span class="comment">/// This action makes all colors tend toward the specified, uniform color.</span></div>
<div class="line"><span class="lineno">  523</span>    <span class="comment">/// The value of scale will usually be very small (less than 0.01) to yield a gradual transition.</span></div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#afadae6e4934feecff9fe72b2e49da9b3">TargetColor</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; color, <span class="comment">///&lt; target color</span></div>
<div class="line"><span class="lineno">  525</span>                     <span class="keyword">const</span> <span class="keywordtype">float</span> alpha,      <span class="comment">///&lt; target alpha value</span></div>
<div class="line"><span class="lineno">  526</span>                     <span class="keyword">const</span> <span class="keywordtype">float</span> scale       <span class="comment">///&lt; what percent of the way from the current color to the target color to transition in unit time</span></div>
<div class="line"><span class="lineno">  527</span>    );</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>    <span class="comment">/// Change sizes of all particles toward the specified size.</span></div>
<div class="line"><span class="lineno">  530</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  531</span>    <span class="comment">/// Modifies the size of each particle to be scale percent of the way closer to the specified size triple. This makes sizes grow</span></div>
<div class="line"><span class="lineno">  532</span>    <span class="comment">/// asymptotically closer to the given size. scale is multiplied by dt before scaling the sizes. Thus, using smaller dt causes a slightly</span></div>
<div class="line"><span class="lineno">  533</span>    <span class="comment">/// faster approach to the target size. The separate scales for each component allow only selected components to be scaled.</span></div>
<div class="line"><span class="lineno">  534</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  535</span>    <span class="comment">/// This action makes all sizes tend toward the specified, uniform size. Future versions will have more actions that modify size.</span></div>
<div class="line"><span class="lineno">  536</span>    <span class="comment">/// Please send me suggestions (perhaps with sample implementations).</span></div>
<div class="line"><span class="lineno">  537</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  538</span>    <span class="comment">/// The value of scale will usually be very small (less than 0.01) to yield a gradual transition.</span></div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ac8592cb5633cf521ba2cab6f959a9762">TargetSize</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; size, <span class="comment">///&lt; target size</span></div>
<div class="line"><span class="lineno">  540</span>                    <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; scale      <span class="comment">///&lt; what percent of the way from the current size to the target size to transition in unit time</span></div>
<div class="line"><span class="lineno">  541</span>    );</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>    <span class="comment">/// Change velocity of all particles toward the specified velocity.</span></div>
<div class="line"><span class="lineno">  544</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  545</span>    <span class="comment">/// Modifies the velocity of each particle to be scale percent of the way closer to the specified velocity. This makes velocities</span></div>
<div class="line"><span class="lineno">  546</span>    <span class="comment">/// grow asymptotically closer to the given velocity. scale is multiplied by dt before scaling the velocities. Thus, using smaller</span></div>
<div class="line"><span class="lineno">  547</span>    <span class="comment">/// dt causes a slightly faster approach to the target velocity.</span></div>
<div class="line"><span class="lineno">  548</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  549</span>    <span class="comment">/// This action makes all velocities tend toward the specified, uniform velocity.</span></div>
<div class="line"><span class="lineno">  550</span>    <span class="comment">/// The value of scale will usually be very small (less than 0.01) to yield a gradual transition.</span></div>
<div class="line"><span class="lineno">  551</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a7a47df76272237ff42ff3a716aac9df4">TargetVelocity</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; vel, <span class="comment">///&lt; target velocity</span></div>
<div class="line"><span class="lineno">  552</span>                        <span class="keyword">const</span> <span class="keywordtype">float</span> scale     <span class="comment">///&lt; percent of the way from the current velocity to the target velocity to transition in unit time</span></div>
<div class="line"><span class="lineno">  553</span>    );</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    <span class="comment">/// Change rotational velocity of all particles toward the specified rotational velocity.</span></div>
<div class="line"><span class="lineno">  556</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  557</span>    <span class="comment">/// Modifies the rotational velocity of each particle to be scale percent of the way closer to the specified rotational velocity.</span></div>
<div class="line"><span class="lineno">  558</span>    <span class="comment">/// This makes rotational velocities grow asymptotically closer to the given rotational velocity. scale is multiplied by dt before</span></div>
<div class="line"><span class="lineno">  559</span>    <span class="comment">/// scaling the velocities. Thus, using smaller dt causes a slightly faster approach to the target rotational velocity.</span></div>
<div class="line"><span class="lineno">  560</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  561</span>    <span class="comment">/// This action makes all rotational velocities tend toward the specified, uniform rotational velocity.</span></div>
<div class="line"><span class="lineno">  562</span>    <span class="comment">/// The value of scale will usually be very small (less than 0.01) to yield a gradual transition.</span></div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a12ddcee8c2f54399645b57223e73e4c0">TargetRotVelocity</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; rvel, <span class="comment">///&lt; rotational velocity</span></div>
<div class="line"><span class="lineno">  564</span>                           <span class="keyword">const</span> <span class="keywordtype">float</span> scale      <span class="comment">///&lt; percent of the way from the current to the target rotational velocity to transition in unit time</span></div>
<div class="line"><span class="lineno">  565</span>    );</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="comment">/// Accelerate particles in a vortex-like way.</span></div>
<div class="line"><span class="lineno">  568</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  569</span>    <span class="comment">/// The vortex is a complicated action to use, but when done correctly it makes particles fly around like in a tornado.</span></div>
<div class="line"><span class="lineno">  570</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#aa0c2af23e1306533124098454a5a7af4">Vortex</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; tip,          <span class="comment">///&lt; tip of the vortex</span></div>
<div class="line"><span class="lineno">  571</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; axis,              <span class="comment">///&lt; the ray along the center of the vortex</span></div>
<div class="line"><span class="lineno">  572</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> tightnessExponent, <span class="comment">///&lt; exponent that curves the vortex silhouette; 1.0 is a cone; greater curves inward</span></div>
<div class="line"><span class="lineno">  573</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius,        <span class="comment">///&lt; no particle further than max_radius from the axis is affected</span></div>
<div class="line"><span class="lineno">  574</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> inSpeed,           <span class="comment">///&lt; inward acceleration of particles OUTSIDE the vortex</span></div>
<div class="line"><span class="lineno">  575</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> upSpeed,           <span class="comment">///&lt; vertical acceleration of particles INSIDE the vortex. Can be negative to apply gravity.</span></div>
<div class="line"><span class="lineno">  576</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> aroundSpeed        <span class="comment">///&lt; acceleration around vortex of particles INSIDE the vortex.</span></div>
<div class="line"><span class="lineno">  577</span>    );</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    <span class="comment">//////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="lineno">  580</span>    <span class="comment">// Inter-particle actions</span></div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>    <span class="comment">/// Accelerate toward the next particle in the list.</span></div>
<div class="line"><span class="lineno">  583</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  584</span>    <span class="comment">/// This allows snaky effects where the particles follow each other. Each particle is accelerated toward the next particle in the group.</span></div>
<div class="line"><span class="lineno">  585</span>    <span class="comment">/// The Follow() action does not affect the last particle in the group. This allows controlled effects where the last particle in the group</span></div>
<div class="line"><span class="lineno">  586</span>    <span class="comment">/// is killed after each time step and replaced by a new particle at a slightly different position. See KillOld() to learn how to kill</span></div>
<div class="line"><span class="lineno">  587</span>    <span class="comment">/// the last particle in the group after each step.</span></div>
<div class="line"><span class="lineno">  588</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a0c2aa62caaea308eb5f125c34d0175c2">Follow</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keywordtype">float</span> magnitude = 1.0f,        <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  589</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  590</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from its predecessor is affected</span></div>
<div class="line"><span class="lineno">  591</span>    );</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>    <span class="comment">/// Accelerate each particle toward each other particle.</span></div>
<div class="line"><span class="lineno">  594</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  595</span>    <span class="comment">/// Each particle is accelerated toward each other particle.</span></div>
<div class="line"><span class="lineno">  596</span>    <span class="comment">/// This action is more computationally intensive than the others are because each particle is affected by each other particle.</span></div>
<div class="line"><span class="lineno">  597</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a8d430f578ef3e36db807984e7eac2255">Gravitate</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,  <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  598</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  599</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from another particle is affected</span></div>
<div class="line"><span class="lineno">  600</span>    );</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    <span class="comment">/// Modify each particle&#39;s velocity to be similar to that of its neighbors.</span></div>
<div class="line"><span class="lineno">  603</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  604</span>    <span class="comment">/// Each particle is accelerated toward the weighted mean of the velocities of the other particles in the group.</span></div>
<div class="line"><span class="lineno">  605</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  606</span>    <span class="comment">/// Using an epsilon similar in size to magnitude can increase the range of influence of nearby particles on this particle.</span></div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a1ec0e4f88defc8fee43f7bc3f7203c3c">MatchVelocity</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,  <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  608</span>                       <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  609</span>                       <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from another particle is affected</span></div>
<div class="line"><span class="lineno">  610</span>    );</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>    <span class="comment">/// Modify each particle&#39;s rotational velocity to be similar to that of its neighbors.</span></div>
<div class="line"><span class="lineno">  613</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  614</span>    <span class="comment">/// Each particle is accelerated toward the weighted mean of the rotational velocities of the other particles in the group.</span></div>
<div class="line"><span class="lineno">  615</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  616</span>    <span class="comment">/// Using an epsilon similar in size to magnitude can increase the range of influence of nearby particles on this particle.</span></div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ac72b4d95aa54e0d5981ba471ab207697">MatchRotVelocity</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,  <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  618</span>                          <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  619</span>                          <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from another particle is affected</span></div>
<div class="line"><span class="lineno">  620</span>    );</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    <span class="comment">//////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="lineno">  623</span>    <span class="comment">// Other exceptional actions</span></div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>    <span class="comment">/// Call an arbitrary user-provided function on each particle in the group.</span></div>
<div class="line"><span class="lineno">  626</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  627</span>    <span class="comment">/// The function will receive both your call data and the full Particle_t struct, which contains per-particle user data.</span></div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a29d5313d41325a72dc7e9a53a0e332aa">Callback</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <a class="code hl_typedef" href="namespace_p_a_p_i.html#a71e479d5c40fee5d4c49a194002a9c38">P_PARTICLE_CALLBACK_ACTION</a> callbackFunc, <span class="comment">///&lt; Pointer to function of yours to call.</span></div>
<div class="line"><span class="lineno">  629</span>                  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a> call_data = 0                   <span class="comment">///&lt; Arbitrary data of yours to pass into your function</span></div>
<div class="line"><span class="lineno">  630</span>    );</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>    <span class="comment">/// Get rid of older particles.</span></div>
<div class="line"><span class="lineno">  633</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  634</span>    <span class="comment">/// Removes all particles older than age_limit. But if kill_less_than is true, it instead removes all particles newer than age_limit.</span></div>
<div class="line"><span class="lineno">  635</span>    <span class="comment">/// age_limit is not clamped, so negative values are ok. This can be used in conjunction with StartingAge(-n) to create and then kill a particular set of</span></div>
<div class="line"><span class="lineno">  636</span>    <span class="comment">/// particles.</span></div>
<div class="line"><span class="lineno">  637</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  638</span>    <span class="comment">/// In order to kill a particular particle, set StartingAge() to a number that will never be a typical age for any other particle in the</span></div>
<div class="line"><span class="lineno">  639</span>    <span class="comment">/// group, for example -1.0. Then emit the particle using Source() or Vertex(). Then do the rest of the particle actions and finally call</span></div>
<div class="line"><span class="lineno">  640</span>    <span class="comment">/// KillOld(-0.9, true) to kill the special particle because it is the only one with an age less than -0.9.</span></div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a4aa0eaae98dbc2230b81101ed1f2f826">KillOld</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">float</span> age_limit,</div>
<div class="line"><span class="lineno">  642</span>                 <span class="keyword">const</span> <span class="keywordtype">bool</span> kill_less_than = <span class="keyword">false</span> <span class="comment">///&lt; true to kill particles younger than age_limit instead of older</span></div>
<div class="line"><span class="lineno">  643</span>    );</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <span class="comment">/// Kill particles that have positions on wrong side of the specified domain.</span></div>
<div class="line"><span class="lineno">  646</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  647</span>    <span class="comment">/// If kill_inside is true, deletes all particles inside the given domain. If kill_inside is false, deletes all particles outside the given domain.</span></div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#aa9a3ce9c749fd9d4a8a430674e7fd4c9">Sink</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">bool</span> kill_inside, <span class="comment">///&lt; true to kill particles inside the domain</span></div>
<div class="line"><span class="lineno">  649</span>              <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; kill_pos_dom  <span class="comment">///&lt; kill particles in this domain</span></div>
<div class="line"><span class="lineno">  650</span>    );</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="comment">/// Kill particles that have velocities on wrong side of the specified domain.</span></div>
<div class="line"><span class="lineno">  653</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  654</span>    <span class="comment">/// If kill_inside is true, deletes all particles whose velocity vectors are inside the given domain. If kill_inside is false, deletes all</span></div>
<div class="line"><span class="lineno">  655</span>    <span class="comment">/// particles whose velocity vectors are outside the given domain.</span></div>
<div class="line"><span class="lineno">  656</span>    <span class="comment">/// This allows particles to die when they turn around, get too fast or too slow, etc. For example, use a sphere domain centered at the</span></div>
<div class="line"><span class="lineno">  657</span>    <span class="comment">/// origin with a radius equal to the minimum velocity to kill particles that are too slow.</span></div>
<div class="line"><span class="lineno">  658</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a14f5a66320ae856e901d84dd4865ce6f">SinkVelocity</a>(<a class="code hl_struct" href="struct_p_a_p_i_1_1_particle__t.html">Particle_t</a> &amp;m, <span class="keyword">const</span> <span class="keywordtype">bool</span> kill_inside, <span class="comment">///&lt; true to kill particles with velocities inside the domain</span></div>
<div class="line"><span class="lineno">  659</span>                      <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; kill_vel_dom  <span class="comment">///&lt; kill particles with velocities in this domain</span></div>
<div class="line"><span class="lineno">  660</span>    );</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="comment">/// Steer particles away from a domain of space.</span></div>
<div class="line"><span class="lineno">  663</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  664</span>    <span class="comment">/// Particles are tested to see whether they will pass from being outside the specified domain to being inside it within look_ahead time</span></div>
<div class="line"><span class="lineno">  665</span>    <span class="comment">/// units from now if the next Move() action were to occur now. The specific direction and amount of turn is dependent on the kind of</span></div>
<div class="line"><span class="lineno">  666</span>    <span class="comment">/// domain being avoided.</span></div>
<div class="line"><span class="lineno">  667</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  668</span>    <span class="comment">/// At present the only domains for which Avoid() is implemented are PDSphere, PDRectangle, PDTriangle, PDDisc and PDPlane.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a2787653ada08d92a3c7fc7c86f44ff3f">  669</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a2787653ada08d92a3c7fc7c86f44ff3f">Avoid</a>(<span class="keywordtype">float</span> magnitude,   <span class="comment">///&lt; how drastically the particle velocities are modified to avoid the obstacle at each time step.</span></div>
<div class="line"><span class="lineno">  670</span>               <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon,    <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  671</span>               <span class="keyword">const</span> <span class="keywordtype">float</span> look_ahead, <span class="comment">///&lt; how far forward along the velocity vector to look for the obstacle</span></div>
<div class="line"><span class="lineno">  672</span>               <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom      <span class="comment">///&lt; the space to avoid</span></div>
<div class="line"><span class="lineno">  673</span>    );</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    <span class="comment">/// Bounce particles off an object defined by a domain.</span></div>
<div class="line"><span class="lineno">  676</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  677</span>    <span class="comment">/// Particles are tested to see whether they will pass from being outside the specified domain to being inside it if the next Move()</span></div>
<div class="line"><span class="lineno">  678</span>    <span class="comment">/// action were to occur now. If they would pass through the surface of the domain, they are instead bounced off it. That is, their</span></div>
<div class="line"><span class="lineno">  679</span>    <span class="comment">/// velocity vector is decomposed into components normal to the surface and tangent to the surface. The direction of the normal component</span></div>
<div class="line"><span class="lineno">  680</span>    <span class="comment">/// is reversed, and friction, resilience and fric_min_vel are applied to the components. They are then recomposed into a new velocity heading</span></div>
<div class="line"><span class="lineno">  681</span>    <span class="comment">/// away from the surface.</span></div>
<div class="line"><span class="lineno">  682</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  683</span>    <span class="comment">/// Since particles are tested to see whether they would pass through the domain if Move() were called now, it is best to have Bounce()</span></div>
<div class="line"><span class="lineno">  684</span>    <span class="comment">/// be the last action that modifies a particle&#39;s velocity before calling Move().</span></div>
<div class="line"><span class="lineno">  685</span>    <span class="comment">/// Also, actions such as RandomDisplace() that modify a particle&#39;s position directly, rather than modifying its velocity vector, may yield</span></div>
<div class="line"><span class="lineno">  686</span>    <span class="comment">/// unsatisfying results when used with Bounce().</span></div>
<div class="line"><span class="lineno">  687</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  688</span>    <span class="comment">/// At present Bounce() is not implemented for all domains. Feel free to implement others. For spheres, the particle bounces off either the inside or the</span></div>
<div class="line"><span class="lineno">  689</span>    <span class="comment">/// outside of the sphere. For planes, triangles and discs, the particles bounce off either side of the surface. For rectangles, particles bounce off either</span></div>
<div class="line"><span class="lineno">  690</span>    <span class="comment">/// side of the diamond-shaped patch whose corners are o, o+u, o+u+v, and o+v. See the documentation on domains for further explanation.</span></div>
<div class="line"><span class="lineno">  691</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  692</span>    <span class="comment">/// Bounce() doesn&#39;t work correctly with small time step sizes for particles sliding along a surface, despite fric_min_vel. The friction and resilience</span></div>
<div class="line"><span class="lineno">  693</span>    <span class="comment">/// parameters should not be scaled by dt, since a bounce happens instantaneously. On the other hand, they should be scaled by dt because particles sliding</span></div>
<div class="line"><span class="lineno">  694</span>    <span class="comment">/// along a surface will hit more often if dt is smaller. Adjust these parameters manually when you change dt.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a7a74d47bced1f9880ea6d0199ad6c230">  695</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a7a74d47bced1f9880ea6d0199ad6c230">Bounce</a>(<span class="keywordtype">float</span> friction,      <span class="comment">///&lt; tangential component of the outgoing velocity vector is scaled by (1 - friction)</span></div>
<div class="line"><span class="lineno">  696</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> resilience,   <span class="comment">///&lt; normal component of the outgoing velocity vector is scaled by resilience</span></div>
<div class="line"><span class="lineno">  697</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> fric_min_vel, <span class="comment">///&lt; only apply friction if tangential velocity is greater than fric_min_vel so particles can glide smoothly</span></div>
<div class="line"><span class="lineno">  698</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom        <span class="comment">///&lt; bounce off the surface of this domain</span></div>
<div class="line"><span class="lineno">  699</span>    );</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>    <span class="comment">/// Set the secondary position and velocity from current.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a1a1a93d1de65368340495256eac06309">  702</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a1a1a93d1de65368340495256eac06309">CopyVertexB</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> copy_pos = <span class="keyword">true</span>, <span class="comment">///&lt; If true, sets particle&#39;s PositionB to the current position of that particle. This makes each</span></div>
<div class="line"><span class="lineno">  703</span>                                                      <span class="comment">///&lt; particle remember this position so it can later return to it using the Restore() action.</span></div>
<div class="line"><span class="lineno">  704</span>                     <span class="keyword">const</span> <span class="keywordtype">bool</span> copy_vel = <span class="keyword">false</span> <span class="comment">///&lt; If true, sets particle&#39;s velocityB to the current velocity of that particle. Compute particle orientation</span></div>
<div class="line"><span class="lineno">  705</span>                                                 <span class="comment">///&lt; by copying velocity before other actions. Then velocity X velocityB yields a tangent vector.</span></div>
<div class="line"><span class="lineno">  706</span>    );</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>    <span class="comment">/// Simulate air by dampening particle velocities.</span></div>
<div class="line"><span class="lineno">  709</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  710</span>    <span class="comment">/// If a particle&#39;s velocity magnitude is within min_vel and max_vel, then multiply each component of the velocity by the respective damping constant.</span></div>
<div class="line"><span class="lineno">  711</span>    <span class="comment">/// Typically, the three components of damping will have the same value.</span></div>
<div class="line"><span class="lineno">  712</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  713</span>    <span class="comment">/// There are no bounds on the damping constants. Thus, by giving values greater than 1.0 they may be used to speed up particles instead of slow them down.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ad6a5d5f5d51adc04ff1a0319462edc52">  714</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ad6a5d5f5d51adc04ff1a0319462edc52">Damping</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; damping,        <span class="comment">///&lt; component-wise multiply this vector by the velocity vector</span></div>
<div class="line"><span class="lineno">  715</span>                 <span class="keyword">const</span> <span class="keywordtype">float</span> min_vel = 0.0f,      <span class="comment">///&lt; only dampen if velocity magnitude is greater than min_vel</span></div>
<div class="line"><span class="lineno">  716</span>                 <span class="keyword">const</span> <span class="keywordtype">float</span> max_vel = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; only dampen if velocity magnitude is less than max_vel</span></div>
<div class="line"><span class="lineno">  717</span>    );</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    <span class="comment">/// Simulate air by dampening rotational velocities.</span></div>
<div class="line"><span class="lineno">  720</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  721</span>    <span class="comment">/// If a particle&#39;s rotational velocity magnitude is within min_vel and max_vel, then multiply each component of the rotational velocity by</span></div>
<div class="line"><span class="lineno">  722</span>    <span class="comment">/// the respective damping constant. Typically, the three components of damping will have the same value.</span></div>
<div class="line"><span class="lineno">  723</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  724</span>    <span class="comment">/// There are no bounds on the damping constants. Thus, by giving values greater than 1.0 they may be used to speed up particles instead of slow them down.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ac1cf5c3c96e62e78d15523bb016a83dc">  725</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ac1cf5c3c96e62e78d15523bb016a83dc">RotDamping</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; damping,        <span class="comment">///&lt; component-wise multiply this vector by the rotational velocity vector</span></div>
<div class="line"><span class="lineno">  726</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> min_vel = 0.0f,      <span class="comment">///&lt; only dampen if velocity magnitude is greater than min_vel</span></div>
<div class="line"><span class="lineno">  727</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> max_vel = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; only dampen if velocity magnitude is less than max_vel</span></div>
<div class="line"><span class="lineno">  728</span>    );</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>    <span class="comment">/// Exert force on each particle away from explosion center.</span></div>
<div class="line"><span class="lineno">  731</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  732</span>    <span class="comment">/// Causes an explosion by accelerating all particles away from the center. Particles are accelerated away from the center by an amount proportional to</span></div>
<div class="line"><span class="lineno">  733</span>    <span class="comment">/// magnitude. The shock wave of the explosion has a gaussian magnitude. The peak of the wave front travels spherically outward from the center at the</span></div>
<div class="line"><span class="lineno">  734</span>    <span class="comment">/// specified velocity. So at a given time step, particles at a distance (velocity * age) from center will receive the most acceleration, and particles not</span></div>
<div class="line"><span class="lineno">  735</span>    <span class="comment">/// at the peak of the shock wave will receive a lesser outward acceleration.</span></div>
<div class="line"><span class="lineno">  736</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  737</span>    <span class="comment">/// radius is the current radius of the explosion wave&#39;s peak. It is up to the application to increment the radius for each call to</span></div>
<div class="line"><span class="lineno">  738</span>    <span class="comment">/// Explosion(). For Explosion() calls in action lists, this means you will need to recreate the action list each time step.</span></div>
<div class="line"><span class="lineno">  739</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  740</span>    <span class="comment">/// You can set up a standing wave by not incrementing the radius.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#aa38e3c026791173cb8542eed1b2dea7d">  741</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#aa38e3c026791173cb8542eed1b2dea7d">Explosion</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; center,    <span class="comment">///&lt; center point of shock wave</span></div>
<div class="line"><span class="lineno">  742</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> radius,         <span class="comment">///&lt; current radius of wave peak</span></div>
<div class="line"><span class="lineno">  743</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude,      <span class="comment">///&lt; scales the acceleration applied to particles</span></div>
<div class="line"><span class="lineno">  744</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> sigma,          <span class="comment">///&lt; standard deviation of the gaussian; the sharpness or broadness of the strength of the wave.</span></div>
<div class="line"><span class="lineno">  745</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a> <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  746</span>    );</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    <span class="comment">/// Accelerate particles in the given direction.</span></div>
<div class="line"><span class="lineno">  749</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  750</span>    <span class="comment">/// The gravity acceleration vector is simply added to the velocity vector of each particle at each time step. The magnitude of the</span></div>
<div class="line"><span class="lineno">  751</span>    <span class="comment">/// gravity vector is the acceleration due to gravity.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#afd33f95bbc38e128ccae51a658321be3">  752</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#afd33f95bbc38e128ccae51a658321be3">Gravity</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; dir <span class="comment">///&lt; acceleration vector</span></div>
<div class="line"><span class="lineno">  753</span>    );</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    <span class="comment">/// For particles in the domain of influence, accelerate them with a domain.</span></div>
<div class="line"><span class="lineno">  756</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  757</span>    <span class="comment">/// For each particle within the jet&#39;s domain of influence, dom, Jet() chooses an acceleration vector from the domain acc and applies</span></div>
<div class="line"><span class="lineno">  758</span>    <span class="comment">/// it to the particle&#39;s velocity.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#abb0713d6237d773f42318465997d9bfe">  759</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#abb0713d6237d773f42318465997d9bfe">Jet</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom, <span class="comment">///&lt; apply jet to particles in this domain</span></div>
<div class="line"><span class="lineno">  760</span>             <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; acc);     <span class="comment">///&lt; acceleration vector comes from this domain</span></div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>    <span class="comment">/// Apply the particles&#39; velocities to their positions, and age the particles.</span></div>
<div class="line"><span class="lineno">  763</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  764</span>    <span class="comment">/// This action actually updates the particle positions by adding the current velocity to the current position and the current rotational</span></div>
<div class="line"><span class="lineno">  765</span>    <span class="comment">/// velocity to the current up vector. This is typically the last particle action performed in an iteration of a particle simulation, and</span></div>
<div class="line"><span class="lineno">  766</span>    <span class="comment">/// typically only occurs once per iteration.</span></div>
<div class="line"><span class="lineno">  767</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  768</span>    <span class="comment">/// The velocity is multiplied by the time step length, dt, before being added to the position. This implements Euler&#39;s method of numerical</span></div>
<div class="line"><span class="lineno">  769</span>    <span class="comment">/// integration with a constant but specifiable step size. See TimeStep() for more on varying the time step size.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a7de312bfa9e8404014ff99f15170a5f1">  770</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a7de312bfa9e8404014ff99f15170a5f1">Move</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> move_velocity = <span class="keyword">true</span>,      <span class="comment">///&lt; apply velocity to position.</span></div>
<div class="line"><span class="lineno">  771</span>              <span class="keyword">const</span> <span class="keywordtype">bool</span> move_rotational_velocity = <span class="keyword">true</span> <span class="comment">///&lt; apply rotational velocity to Up vector. This is an optimization.</span></div>
<div class="line"><span class="lineno">  772</span>    );</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    <span class="comment">/// Accelerate particles toward the closest point on the given line.</span></div>
<div class="line"><span class="lineno">  775</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  776</span>    <span class="comment">/// For each particle, this action computes the vector to the closest point on the line, and accelerates the particle in that direction.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a6df7e64a6d81a95605727fc5e3f04683">  777</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a6df7e64a6d81a95605727fc5e3f04683">OrbitLine</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; p,                 <span class="comment">///&lt; a point on the line</span></div>
<div class="line"><span class="lineno">  778</span>                   <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; axis,                   <span class="comment">///&lt; any vector parallel to the line</span></div>
<div class="line"><span class="lineno">  779</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,       <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  780</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  781</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from the line is affected</span></div>
<div class="line"><span class="lineno">  782</span>    );</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>    <span class="comment">/// Accelerate particles toward the given center point.</span></div>
<div class="line"><span class="lineno">  785</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  786</span>    <span class="comment">/// For each particle, this action computes the vector to the center point, and accelerates the particle in the vector direction.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a69d4c0b9891b63db44fe94afc7fd7da8">  787</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a69d4c0b9891b63db44fe94afc7fd7da8">OrbitPoint</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; center,            <span class="comment">///&lt; accelerate toward this point</span></div>
<div class="line"><span class="lineno">  788</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,       <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  789</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  790</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from the center is affected</span></div>
<div class="line"><span class="lineno">  791</span>    );</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>    <span class="comment">/// Accelerate particles in random directions.</span></div>
<div class="line"><span class="lineno">  794</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  795</span>    <span class="comment">/// For each particle, chooses an acceleration vector from the specified domain and adds it to the particle&#39;s velocity.</span></div>
<div class="line"><span class="lineno">  796</span>    <span class="comment">/// Reducing the time step, dt, will make a higher probability of being near the original velocity after unit time. Smaller dt approach</span></div>
<div class="line"><span class="lineno">  797</span>    <span class="comment">/// a normal distribution of velocity vectors instead of a square wave distribution.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a16e76da8909decb2dc4f5c1f860844bb">  798</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a16e76da8909decb2dc4f5c1f860844bb">RandomAccel</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom <span class="comment">///&lt; choose acceleration from this domain</span></div>
<div class="line"><span class="lineno">  799</span>    );</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>    <span class="comment">/// Immediately displace position by a random amount.</span></div>
<div class="line"><span class="lineno">  802</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  803</span>    <span class="comment">/// Chooses a displacement vector from the specified domain and adds it to the particle&#39;s position.</span></div>
<div class="line"><span class="lineno">  804</span>    <span class="comment">/// Reducing the time step, dt, will make a higher probability of being near the original position after unit time. Smaller dt approach a</span></div>
<div class="line"><span class="lineno">  805</span>    <span class="comment">/// normal distribution of particle positions instead of a square wave distribution.</span></div>
<div class="line"><span class="lineno">  806</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  807</span>    <span class="comment">/// Since this action changes particle positions, rather than changing their velocities and depending on the Move() action to change the</span></div>
<div class="line"><span class="lineno">  808</span>    <span class="comment">/// positions, unsatisfying results may occur when used with the Avoid() or Bounce() actions.</span></div>
<div class="line"><span class="lineno">  809</span>    <span class="comment">/// In particular, particles may be displaced to the opposite side of the surface without bouncing off it.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a021a9a09a3c97943d52b78b77218037f">  810</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a021a9a09a3c97943d52b78b77218037f">RandomDisplace</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom <span class="comment">///&lt; choose position offset from this domain</span></div>
<div class="line"><span class="lineno">  811</span>    );</div>
<div class="line"><span class="lineno">  812</span> </div>
<div class="line"><span class="lineno">  813</span>    <span class="comment">/// Replace particle velocity with a random velocity.</span></div>
<div class="line"><span class="lineno">  814</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  815</span>    <span class="comment">/// Sets each particle&#39;s velocity vector to a random vector in the specified domain.</span></div>
<div class="line"><span class="lineno">  816</span>    <span class="comment">/// This function is not affected by dt.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ab921ac9014746b5ded21bdd6929f28cb">  817</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ab921ac9014746b5ded21bdd6929f28cb">RandomVelocity</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom <span class="comment">///&lt; choose velocity from this domain</span></div>
<div class="line"><span class="lineno">  818</span>    );</div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>    <span class="comment">/// Immediately assign a random rotational velocity.</span></div>
<div class="line"><span class="lineno">  821</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  822</span>    <span class="comment">/// Sets each particle&#39;s rotational velocity vector to a random vector in the specified domain.</span></div>
<div class="line"><span class="lineno">  823</span>    <span class="comment">/// This function is not affected by dt.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a3ca5a17b549add57f4159412509386ea">  824</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a3ca5a17b549add57f4159412509386ea">RandomRotVelocity</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom <span class="comment">///&lt; choose rotational velocity from this domain</span></div>
<div class="line"><span class="lineno">  825</span>    );</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>    <span class="comment">/// Over time, restore particles to their target positionB and upB.</span></div>
<div class="line"><span class="lineno">  828</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  829</span>    <span class="comment">/// If vel is true, computes a new velocity for each particle that will make the particle arrive at its positionB at the specified amount</span></div>
<div class="line"><span class="lineno">  830</span>    <span class="comment">/// of time in the future. If rvel is true, computes a new rotational velocity that moves up toward upB.</span></div>
<div class="line"><span class="lineno">  831</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  832</span>    <span class="comment">/// The curved path that the particles take is a parametric quadratic. Once the specified amount of time has passed, Restore() instead sets</span></div>
<div class="line"><span class="lineno">  833</span>    <span class="comment">/// position and Up to equal positionB and upB and sets velocity and rotational velocity to 0 to freeze them in place.</span></div>
<div class="line"><span class="lineno">  834</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  835</span>    <span class="comment">/// It is the application&#39;s responsibility to decrease time_left by dt on each call. When in an action list, this means you need to</span></div>
<div class="line"><span class="lineno">  836</span>    <span class="comment">/// recreate the action list each time step.</span></div>
<div class="line"><span class="lineno">  837</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  838</span>    <span class="comment">/// The positionB attribute of each particle is typically the particle&#39;s position when it was created, or it can be specified within a</span></div>
<div class="line"><span class="lineno">  839</span>    <span class="comment">/// domain. This is controlled by VertexBTracks(), and VertexB(). The positionB can be set at any time to the particle&#39;s current position</span></div>
<div class="line"><span class="lineno">  840</span>    <span class="comment">/// using the CopyVertexB() action.</span></div>
<div class="line"><span class="lineno">  841</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  842</span>    <span class="comment">/// Restore(0) is the opposite of CopyVertexB(); it sets each particle&#39;s position to be equal to its positionB. However, this has the side</span></div>
<div class="line"><span class="lineno">  843</span>    <span class="comment">/// effect of setting each particle&#39;s velocity to 0.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a3b7614b53704335235cbfca6e60d5d42">  844</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a3b7614b53704335235cbfca6e60d5d42">Restore</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> time, <span class="comment">///&lt; how long more until particles should arrive at target position and orientation</span></div>
<div class="line"><span class="lineno">  845</span>                 <span class="keyword">const</span> <span class="keywordtype">bool</span> vel = <span class="keyword">true</span>, <span class="comment">///&lt; restore positions</span></div>
<div class="line"><span class="lineno">  846</span>                 <span class="keyword">const</span> <span class="keywordtype">bool</span> rvel = <span class="keyword">true</span> <span class="comment">///&lt; restore up vectors</span></div>
<div class="line"><span class="lineno">  847</span>    );</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>    <span class="comment">/// Clamp particle velocities to the given range.</span></div>
<div class="line"><span class="lineno">  850</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  851</span>    <span class="comment">/// Computes each particle&#39;s speed (the magnitude of its velocity vector) and if it is less than min_speed or greater than max_speed the</span></div>
<div class="line"><span class="lineno">  852</span>    <span class="comment">/// velocity is scaled to within those bounds, while preserving the velocity vector&#39;s direction.</span></div>
<div class="line"><span class="lineno">  853</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  854</span>    <span class="comment">/// The vector [0,0,0] is an exception because it has no direction. Such vectors are not modified by SpeedClamp().</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a46a44cce6be31b73204cd59093c1cdb1">  855</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a46a44cce6be31b73204cd59093c1cdb1">SpeedClamp</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> min_speed, <span class="comment">///&lt; set velocity vectors below min_speed to min_speed</span></div>
<div class="line"><span class="lineno">  856</span>                    <span class="keyword">const</span> <span class="keywordtype">float</span> max_speed       <span class="comment">///&lt; set velocity vectors above max_speed to max_speed</span></div>
<div class="line"><span class="lineno">  857</span>    );</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>    <span class="comment">/// Change color of all particles toward the specified color.</span></div>
<div class="line"><span class="lineno">  860</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  861</span>    <span class="comment">/// Modifies the color and alpha of each particle to be scale percent of the way closer to the specified color and alpha. scale is</span></div>
<div class="line"><span class="lineno">  862</span>    <span class="comment">/// multiplied by dt before scaling the sizes. Thus, using smaller dt causes a slightly faster approach to the target color.</span></div>
<div class="line"><span class="lineno">  863</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  864</span>    <span class="comment">/// This action makes all colors tend toward the specified, uniform color.</span></div>
<div class="line"><span class="lineno">  865</span>    <span class="comment">/// The value of scale will usually be very small (less than 0.01) to yield a gradual transition.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a1e413fdc19c928d6ff41fb5a3a71b3bd">  866</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a1e413fdc19c928d6ff41fb5a3a71b3bd">TargetColor</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; color, <span class="comment">///&lt; target color</span></div>
<div class="line"><span class="lineno">  867</span>                     <span class="keyword">const</span> <span class="keywordtype">float</span> alpha,      <span class="comment">///&lt; target alpha value</span></div>
<div class="line"><span class="lineno">  868</span>                     <span class="keyword">const</span> <span class="keywordtype">float</span> scale       <span class="comment">///&lt; what percent of the way from the current color to the target color to transition in unit time</span></div>
<div class="line"><span class="lineno">  869</span>    );</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>    <span class="comment">/// Change sizes of all particles toward the specified size.</span></div>
<div class="line"><span class="lineno">  872</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  873</span>    <span class="comment">/// Modifies the size of each particle to be scale percent of the way closer to the specified size triple. This makes sizes grow</span></div>
<div class="line"><span class="lineno">  874</span>    <span class="comment">/// asymptotically closer to the given size. scale is multiplied by dt before scaling the sizes. Thus, using smaller dt causes a slightly</span></div>
<div class="line"><span class="lineno">  875</span>    <span class="comment">/// faster approach to the target size. The separate scales for each component allow only selected components to be scaled.</span></div>
<div class="line"><span class="lineno">  876</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  877</span>    <span class="comment">/// This action makes all sizes tend toward the specified, uniform size. Future versions will have more actions that modify size.</span></div>
<div class="line"><span class="lineno">  878</span>    <span class="comment">/// Please send me suggestions (perhaps with sample implementations).</span></div>
<div class="line"><span class="lineno">  879</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  880</span>    <span class="comment">/// The value of scale will usually be very small (less than 0.01) to yield a gradual transition.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#af98e7e68da84ef78e82343db8c7d6c54">  881</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#af98e7e68da84ef78e82343db8c7d6c54">TargetSize</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; size, <span class="comment">///&lt; target size</span></div>
<div class="line"><span class="lineno">  882</span>                    <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; scale      <span class="comment">///&lt; what percent of the way from the current size to the target size to transition in unit time</span></div>
<div class="line"><span class="lineno">  883</span>    );</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    <span class="comment">/// Change velocity of all particles toward the specified velocity.</span></div>
<div class="line"><span class="lineno">  886</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  887</span>    <span class="comment">/// Modifies the velocity of each particle to be scale percent of the way closer to the specified velocity. This makes velocities</span></div>
<div class="line"><span class="lineno">  888</span>    <span class="comment">/// grow asymptotically closer to the given velocity. scale is multiplied by dt before scaling the velocities. Thus, using smaller</span></div>
<div class="line"><span class="lineno">  889</span>    <span class="comment">/// dt causes a slightly faster approach to the target velocity.</span></div>
<div class="line"><span class="lineno">  890</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  891</span>    <span class="comment">/// This action makes all velocities tend toward the specified, uniform velocity.</span></div>
<div class="line"><span class="lineno">  892</span>    <span class="comment">/// The value of scale will usually be very small (less than 0.01) to yield a gradual transition.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a9b2d572a5da762693c7c55d051f77668">  893</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a9b2d572a5da762693c7c55d051f77668">TargetVelocity</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; vel, <span class="comment">///&lt; target velocity</span></div>
<div class="line"><span class="lineno">  894</span>                        <span class="keyword">const</span> <span class="keywordtype">float</span> scale     <span class="comment">///&lt; percent of the way from the current velocity to the target velocity to transition in unit time</span></div>
<div class="line"><span class="lineno">  895</span>    );</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span>    <span class="comment">/// Change rotational velocity of all particles toward the specified rotational velocity.</span></div>
<div class="line"><span class="lineno">  898</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  899</span>    <span class="comment">/// Modifies the rotational velocity of each particle to be scale percent of the way closer to the specified rotational velocity.</span></div>
<div class="line"><span class="lineno">  900</span>    <span class="comment">/// This makes rotational velocities grow asymptotically closer to the given rotational velocity. scale is multiplied by dt before</span></div>
<div class="line"><span class="lineno">  901</span>    <span class="comment">/// scaling the velocities. Thus, using smaller dt causes a slightly faster approach to the target rotational velocity.</span></div>
<div class="line"><span class="lineno">  902</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  903</span>    <span class="comment">/// This action makes all rotational velocities tend toward the specified, uniform rotational velocity.</span></div>
<div class="line"><span class="lineno">  904</span>    <span class="comment">/// The value of scale will usually be very small (less than 0.01) to yield a gradual transition.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ae7cd7f494f1d306d7660ba54f0cebec7">  905</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ae7cd7f494f1d306d7660ba54f0cebec7">TargetRotVelocity</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; rvel, <span class="comment">///&lt; rotational velocity</span></div>
<div class="line"><span class="lineno">  906</span>                           <span class="keyword">const</span> <span class="keywordtype">float</span> scale      <span class="comment">///&lt; percent of the way from the current to the target rotational velocity to transition in unit time</span></div>
<div class="line"><span class="lineno">  907</span>    );</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    <span class="comment">/// Accelerate particles in a vortex-like way.</span></div>
<div class="line"><span class="lineno">  910</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  911</span>    <span class="comment">/// The vortex is a complicated action to use, but when done correctly it makes particles fly around like in a tornado.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a6adf8fe3e2b93813d36d2c9859aecf0f">  912</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a6adf8fe3e2b93813d36d2c9859aecf0f">Vortex</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; tip,          <span class="comment">///&lt; tip of the vortex</span></div>
<div class="line"><span class="lineno">  913</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; axis,              <span class="comment">///&lt; the ray along the center of the vortex</span></div>
<div class="line"><span class="lineno">  914</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> tightnessExponent, <span class="comment">///&lt; exponent that curves the vortex silhouette; 1.0 is a cone; greater curves inward</span></div>
<div class="line"><span class="lineno">  915</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius,        <span class="comment">///&lt; no particle further than max_radius from the axis is affected</span></div>
<div class="line"><span class="lineno">  916</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> inSpeed,           <span class="comment">///&lt; inward acceleration of particles OUTSIDE the vortex</span></div>
<div class="line"><span class="lineno">  917</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> upSpeed,           <span class="comment">///&lt; vertical acceleration of particles INSIDE the vortex. Can be negative to apply gravity.</span></div>
<div class="line"><span class="lineno">  918</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> aroundSpeed        <span class="comment">///&lt; acceleration around vortex of particles INSIDE the vortex.</span></div>
<div class="line"><span class="lineno">  919</span>    );</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>    <span class="comment">//////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="lineno">  922</span>    <span class="comment">// Inter-particle actions</span></div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>    <span class="comment">/// Accelerate toward the next particle in the list.</span></div>
<div class="line"><span class="lineno">  925</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  926</span>    <span class="comment">/// This allows snaky effects where the particles follow each other. Each particle is accelerated toward the next particle in the group.</span></div>
<div class="line"><span class="lineno">  927</span>    <span class="comment">/// The Follow() action does not affect the last particle in the group. This allows controlled effects where the last particle in the group</span></div>
<div class="line"><span class="lineno">  928</span>    <span class="comment">/// is killed after each time step and replaced by a new particle at a slightly different position. See KillOld() to learn how to kill</span></div>
<div class="line"><span class="lineno">  929</span>    <span class="comment">/// the last particle in the group after each step.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ae1cb64b2a8d902681ffbe36c4fc98d27">  930</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ae1cb64b2a8d902681ffbe36c4fc98d27">Follow</a>(<span class="keywordtype">float</span> magnitude = 1.0f,        <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  931</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  932</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from its predecessor is affected</span></div>
<div class="line"><span class="lineno">  933</span>    );</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>    <span class="comment">/// Accelerate each particle toward each other particle.</span></div>
<div class="line"><span class="lineno">  936</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  937</span>    <span class="comment">/// Each particle is accelerated toward each other particle.</span></div>
<div class="line"><span class="lineno">  938</span>    <span class="comment">/// This action is more computationally intensive than the others are because each particle is affected by each other particle.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ad218927aef97bb32de9ad91b3b984670">  939</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ad218927aef97bb32de9ad91b3b984670">Gravitate</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,  <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  940</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  941</span>                   <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from another particle is affected</span></div>
<div class="line"><span class="lineno">  942</span>    );</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>    <span class="comment">/// Modify each particle&#39;s velocity to be similar to that of its neighbors.</span></div>
<div class="line"><span class="lineno">  945</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  946</span>    <span class="comment">/// Each particle is accelerated toward the weighted mean of the velocities of the other particles in the group.</span></div>
<div class="line"><span class="lineno">  947</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  948</span>    <span class="comment">/// Using an epsilon similar in size to magnitude can increase the range of influence of nearby particles on this particle.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#addc3f942411f85b8b6863598fd0c5b9a">  949</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#addc3f942411f85b8b6863598fd0c5b9a">MatchVelocity</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,  <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  950</span>                       <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  951</span>                       <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from another particle is affected</span></div>
<div class="line"><span class="lineno">  952</span>    );</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span>    <span class="comment">/// Modify each particle&#39;s rotational velocity to be similar to that of its neighbors.</span></div>
<div class="line"><span class="lineno">  955</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  956</span>    <span class="comment">/// Each particle is accelerated toward the weighted mean of the rotational velocities of the other particles in the group.</span></div>
<div class="line"><span class="lineno">  957</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  958</span>    <span class="comment">/// Using an epsilon similar in size to magnitude can increase the range of influence of nearby particles on this particle.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ac5b174c7690e240927449881ac8f91b9">  959</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ac5b174c7690e240927449881ac8f91b9">MatchRotVelocity</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> magnitude = 1.0f,  <span class="comment">///&lt; scales each particle&#39;s acceleration</span></div>
<div class="line"><span class="lineno">  960</span>                          <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = <a class="code hl_variable" href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">P_EPS</a>,        <span class="comment">///&lt; added to distance to dampen acceleration</span></div>
<div class="line"><span class="lineno">  961</span>                          <span class="keyword">const</span> <span class="keywordtype">float</span> max_radius = <a class="code hl_variable" href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">P_MAXFLOAT</a> <span class="comment">///&lt; no particle further than max_radius from another particle is affected</span></div>
<div class="line"><span class="lineno">  962</span>    );</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    <span class="comment">//////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="lineno">  965</span>    <span class="comment">// Other exceptional actions</span></div>
<div class="line"><span class="lineno">  966</span> </div>
<div class="line"><span class="lineno">  967</span>    <span class="comment">/// Call an arbitrary user-provided function on each particle in the group.</span></div>
<div class="line"><span class="lineno">  968</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  969</span>    <span class="comment">/// The function will receive both your call data and the full Particle_t struct, which contains per-particle user data.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ab3e8aa03d1da61ae9f50a24a3f5daead">  970</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#ab3e8aa03d1da61ae9f50a24a3f5daead">Callback</a>(<a class="code hl_typedef" href="namespace_p_a_p_i.html#a71e479d5c40fee5d4c49a194002a9c38">P_PARTICLE_CALLBACK_ACTION</a> callbackFunc, <span class="comment">///&lt; Pointer to function of yours to call.</span></div>
<div class="line"><span class="lineno">  971</span>                  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a> call_data = 0                   <span class="comment">///&lt; Arbitrary data of yours to pass into your function</span></div>
<div class="line"><span class="lineno">  972</span>    );</div>
<div class="line"><span class="lineno">  973</span> </div>
<div class="line"><span class="lineno">  974</span>    <span class="comment">/// Get rid of older particles.</span></div>
<div class="line"><span class="lineno">  975</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  976</span>    <span class="comment">/// Removes all particles older than age_limit. But if kill_less_than is true, it instead removes all particles newer than age_limit.</span></div>
<div class="line"><span class="lineno">  977</span>    <span class="comment">/// age_limit is not clamped, so negative values are ok. This can be used in conjunction with StartingAge(-n) to create and then kill a particular set of</span></div>
<div class="line"><span class="lineno">  978</span>    <span class="comment">/// particles.</span></div>
<div class="line"><span class="lineno">  979</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  980</span>    <span class="comment">/// In order to kill a particular particle, set StartingAge() to a number that will never be a typical age for any other particle in the</span></div>
<div class="line"><span class="lineno">  981</span>    <span class="comment">/// group, for example -1.0. Then emit the particle using Source() or Vertex(). Then do the rest of the particle actions and finally call</span></div>
<div class="line"><span class="lineno">  982</span>    <span class="comment">/// KillOld(-0.9, true) to kill the special particle because it is the only one with an age less than -0.9.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a0f8cb1fad158acfe72d21f1f1a89f133">  983</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a0f8cb1fad158acfe72d21f1f1a89f133">KillOld</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> age_limit,</div>
<div class="line"><span class="lineno">  984</span>                 <span class="keyword">const</span> <span class="keywordtype">bool</span> kill_less_than = <span class="keyword">false</span> <span class="comment">///&lt; true to kill particles younger than age_limit instead of older</span></div>
<div class="line"><span class="lineno">  985</span>    );</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>    <span class="comment">/// Kill particles that have positions on wrong side of the specified domain.</span></div>
<div class="line"><span class="lineno">  988</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  989</span>    <span class="comment">/// If kill_inside is true, deletes all particles inside the given domain. If kill_inside is false, deletes all particles outside the given domain.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#abb94f9574644ff524ceb3e31080fe395">  990</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#abb94f9574644ff524ceb3e31080fe395">Sink</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> kill_inside, <span class="comment">///&lt; true to kill particles inside the domain</span></div>
<div class="line"><span class="lineno">  991</span>              <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; kill_pos_dom  <span class="comment">///&lt; kill particles in this domain</span></div>
<div class="line"><span class="lineno">  992</span>    );</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>    <span class="comment">/// Kill particles that have velocities on wrong side of the specified domain.</span></div>
<div class="line"><span class="lineno">  995</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno">  996</span>    <span class="comment">/// If kill_inside is true, deletes all particles whose velocity vectors are inside the given domain. If kill_inside is false, deletes all</span></div>
<div class="line"><span class="lineno">  997</span>    <span class="comment">/// particles whose velocity vectors are outside the given domain.</span></div>
<div class="line"><span class="lineno">  998</span>    <span class="comment">/// This allows particles to die when they turn around, get too fast or too slow, etc. For example, use a sphere domain centered at the</span></div>
<div class="line"><span class="lineno">  999</span>    <span class="comment">/// origin with a radius equal to the minimum velocity to kill particles that are too slow.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#acf5f4d7dbcc3b9b1bcaf8fc6fa30fcf4"> 1000</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#acf5f4d7dbcc3b9b1bcaf8fc6fa30fcf4">SinkVelocity</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> kill_inside, <span class="comment">///&lt; true to kill particles with velocities inside the domain</span></div>
<div class="line"><span class="lineno"> 1001</span>                      <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; kill_vel_dom  <span class="comment">///&lt; kill particles with velocities in this domain</span></div>
<div class="line"><span class="lineno"> 1002</span>    );</div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>    <span class="comment">/// Delete particles tagged to be killed by inline P.I.KillOld(), P.I.Sink(), and P.I.SinkVelocity()</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a13aacda27ea8731db4e9fdbcf9a65687"> 1005</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a13aacda27ea8731db4e9fdbcf9a65687">CommitKills</a>();</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>    <span class="comment">/// Sort the particles by their projection onto the look vector.</span></div>
<div class="line"><span class="lineno"> 1008</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1009</span>    <span class="comment">/// Many rendering systems require rendering transparent particles in back-to-front order. The ordering is defined by the eye point and the</span></div>
<div class="line"><span class="lineno"> 1010</span>    <span class="comment">/// look vector. These are the same vectors you pass into gluLookAt(), for example. The vector from the eye point to each particle&#39;s</span></div>
<div class="line"><span class="lineno"> 1011</span>    <span class="comment">/// position is computed, then projected onto the look vector. Particles are sorted back-to-front by the result of this dot product.</span></div>
<div class="line"><span class="lineno"> 1012</span>    <span class="comment">/// Setting clamp_negative to true speeds up sorting time. Particles behind the viewer won&#39;t be visible so their relative order doesn&#39;t matter.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a640597dc6376e993409b6cb331b219b0"> 1013</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a640597dc6376e993409b6cb331b219b0">Sort</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; eye,                  <span class="comment">///&lt; eye point is a point on the line the particles project onto</span></div>
<div class="line"><span class="lineno"> 1014</span>              <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; look_dir,             <span class="comment">///&lt; direction vector of projection line; does not need to be normalized</span></div>
<div class="line"><span class="lineno"> 1015</span>              <span class="keyword">const</span> <span class="keywordtype">bool</span> front_to_back = <span class="keyword">false</span>, <span class="comment">///&lt; true to sort in front-to-back order instead of back-to-front</span></div>
<div class="line"><span class="lineno"> 1016</span>              <span class="keyword">const</span> <span class="keywordtype">bool</span> clamp_negative = <span class="keyword">false</span> <span class="comment">///&lt; true to set negative dot product values to zero before sorting</span></div>
<div class="line"><span class="lineno"> 1017</span>    );</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span>    <span class="comment">/// Add particles with positions in the specified domain.</span></div>
<div class="line"><span class="lineno"> 1020</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1021</span>    <span class="comment">/// Adds new particles to the current particle group. The particle positions are chosen from the given domain. All the other particle</span></div>
<div class="line"><span class="lineno"> 1022</span>    <span class="comment">/// attributes such as color and velocity are chosen according to their current domains.</span></div>
<div class="line"><span class="lineno"> 1023</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1024</span>    <span class="comment">/// When the Source action is called within an action list, the particle attribute domains used are those that were current when the Source</span></div>
<div class="line"><span class="lineno"> 1025</span>    <span class="comment">/// command was called within the NewActionList() / EndActionList() block instead of when CallActionList() was called. Note that this is unlike OpenGL</span></div>
<div class="line"><span class="lineno"> 1026</span>    <span class="comment">/// display lists.</span></div>
<div class="line"><span class="lineno"> 1027</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1028</span>    <span class="comment">/// If particle_rate / dt is not an integer then Source() adjusts the number of particles to add during this time step so that the average</span></div>
<div class="line"><span class="lineno"> 1029</span>    <span class="comment">/// number added per unit time is particle_rate.</span></div>
<div class="line"><span class="lineno"> 1030</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1031</span>    <span class="comment">/// If too few particles seem to be added each frame, it is probably because the particle group is already full. If this is bad, you can</span></div>
<div class="line"><span class="lineno"> 1032</span>    <span class="comment">/// grow the group using SetMaxParticles().</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a1c29fe77db016b32899474911e9c6c60"> 1033</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a1c29fe77db016b32899474911e9c6c60">Source</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> particle_rate, <span class="comment">///&lt; how many particles to add per unit time</span></div>
<div class="line"><span class="lineno"> 1034</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_domain.html">pDomain</a>&amp; dom,        <span class="comment">///&lt; particle positions are chosen from this domain</span></div>
<div class="line"><span class="lineno"> 1035</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_source_state.html">pSourceState</a>&amp; SrcSt  <span class="comment">///&lt; all other particle attributes are chosen from this source state</span></div>
<div class="line"><span class="lineno"> 1036</span>    );</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>    <span class="comment">/// Add a single particle at the specified location.</span></div>
<div class="line"><span class="lineno"> 1039</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1040</span>    <span class="comment">/// This action mostly is a shorthand for Source(1, PDPoint(x, y, z)) but allows different callback data per particle.</span></div>
<div class="line"><span class="lineno"> 1041</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1042</span>    <span class="comment">/// When called in immediate mode, this action uses a slightly faster method to add a single particle to the current particle group.</span></div>
<div class="line"><span class="lineno"> 1043</span>    <span class="comment">/// Also when in immediate mode, exactly one particle will be added per call, instead of an average of 1 / dt particles being added.</span></div>
<div class="line"><span class="lineno"> 1044</span>    <span class="comment">/// Particle attributes are chosen according to their current domains, as with Source.</span></div>
<div class="line"><span class="lineno"> 1045</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1046</span>    <span class="comment">/// The user data attribute is an exception. It always takes the attribute from the optional data parameter to Vertex(), overriding the source state value.</span></div>
<div class="line"><span class="lineno"> 1047</span>    <span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1048</span>    <span class="comment">/// This call is patterned after the glVertex() calls. It is useful for creating a particle group with exactly specified initial positions.</span></div>
<div class="line"><span class="lineno"> 1049</span>    <span class="comment">/// For example, you can specify a geometrical model using Vertex calls, and then explode or deform it.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a24c3e50da39c97b441a85806128e9065"> 1050</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a24c3e50da39c97b441a85806128e9065">Vertex</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_vec.html">pVec</a>&amp; v,             <span class="comment">///&lt; position of particle to create</span></div>
<div class="line"><span class="lineno"> 1051</span>                <span class="keyword">const</span> <a class="code hl_class" href="class_p_a_p_i_1_1p_source_state.html">pSourceState</a>&amp; SrcSt, <span class="comment">///&lt; all other particle attributes are chosen from this source state</span></div>
<div class="line"><span class="lineno"> 1052</span>                <a class="code hl_typedef" href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">pdata_t</a> data = 0           <span class="comment">///&lt; application data to be passed to the birth and death callbacks</span></div>
<div class="line"><span class="lineno"> 1053</span>    );</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a6595c824cac3dddc9f5d2a92dbf244e3"> 1055</a></span>    <span class="keyword">template</span> &lt;<span class="keyword">class</span> UnaryFunction&gt; <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a6595c824cac3dddc9f5d2a92dbf244e3">ParticleLoop</a>(UnaryFunction f)</div>
<div class="line"><span class="lineno"> 1056</span>    {</div>
<div class="line"><span class="lineno"> 1057</span>        <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">StartParticleLoop</a>(<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PS</a>, <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PSh</a>);</div>
<div class="line"><span class="lineno"> 1058</span>        <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">std</a>::<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">for_each</a>(<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PSh</a>.<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">get_pgroup_begin</a>(), <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PSh</a>.<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">get_pgroup_end</a>(), <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">f</a>);</div>
<div class="line"><span class="lineno"> 1059</span>        <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">EndParticleLoop</a>(<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PS</a>, <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PSh</a>);</div>
<div class="line"><span class="lineno"> 1060</span>    }</div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a5696a31d3ad5f8ce1863b7b3467980dc"> 1061</a></span>    <span class="keyword">template</span> &lt;<span class="keyword">class</span> ExPol, <span class="keyword">class</span> UnaryFunction&gt; <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#a5696a31d3ad5f8ce1863b7b3467980dc">ParticleLoop</a>(ExPol&amp;&amp; policy, UnaryFunction f)</div>
<div class="line"><span class="lineno"> 1062</span>    {</div>
<div class="line"><span class="lineno"> 1063</span>        <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">StartParticleLoop</a>(<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PS</a>, <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PSh</a>);</div>
<div class="line"><span class="lineno"> 1064</span>        <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">std</a>::<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">for_each</a>(<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">policy</a>, <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PSh</a>.<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">get_pgroup_begin</a>(), <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PSh</a>.<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">get_pgroup_end</a>(), <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">f</a>);</div>
<div class="line"><span class="lineno"> 1065</span>        <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">EndParticleLoop</a>(<a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PS</a>, <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PSh</a>);</div>
<div class="line"><span class="lineno"> 1066</span>    }</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span><span class="keyword">protected</span>:</div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#a92db77fce6d085d02d46a8c262b0dec7"> 1069</a></span>    PInternalShadow_t <a class="code hl_variable" href="class_p_a_p_i_1_1_p_context_actions__t.html#a92db77fce6d085d02d46a8c262b0dec7">PSh</a>;                                    <span class="comment">// Shadow copy of some information from PInternalState_t that is used by the inline actions API</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca"> 1070</a></span>    std::shared_ptr&lt;PInternalState_t&gt; <a class="code hl_variable" href="class_p_a_p_i_1_1_p_context_actions__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">PS</a>;                     <span class="comment">// The internal API data for this context is stored here.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_p_context_actions__t.html#aff0b6907e8741a16ef627f960272b342"> 1071</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_p_a_p_i_1_1_p_context_actions__t.html#aff0b6907e8741a16ef627f960272b342">InternalSetup</a>(std::shared_ptr&lt;PInternalState_t&gt; Sr); <span class="comment">// Calls this after construction to set up the PS pointer</span></div>
<div class="line"><span class="lineno"> 1072</span>};</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span><span class="comment">/// The Particle System API Context - Your app should have one of these per host thread that will do particle systems concurrently.</span></div>
<div class="line"><span class="lineno"> 1075</span><span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1076</span><span class="comment">/// This is a complete instance of the Particle API. All API state is stored in the context.</span></div>
<div class="line"><span class="lineno"> 1077</span><span class="comment">///</span></div>
<div class="line"><span class="lineno"> 1078</span><span class="comment">/// See the documentation of the base classes for the description of all the API entry points.</span></div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_particle_context__t.html"> 1079</a></span><span class="keyword">class</span> <a class="code hl_class" href="class_p_a_p_i_1_1_particle_context__t.html">ParticleContext_t</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_particle_group__t.html">PContextParticleGroup_t</a>, <span class="keyword">public</span> <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_action_list__t.html">PContextActionList_t</a>, <span class="keyword">public</span> <a class="code hl_class" href="class_p_a_p_i_1_1_p_context_actions__t.html">PContextActions_t</a> {</div>
<div class="line"><span class="lineno"> 1080</span><span class="keyword">public</span>:</div>
<div class="line"><span class="lineno"><a class="line" href="class_p_a_p_i_1_1_particle_context__t.html#acbc0cae769760f4ac4af871761aae98f"> 1081</a></span>    <a class="code hl_function" href="class_p_a_p_i_1_1_particle_context__t.html#acbc0cae769760f4ac4af871761aae98f">ParticleContext_t</a>(); <span class="comment">/// The context&#39;s default constructor</span></div>
<div class="line"><span class="lineno"> 1082</span>};</div>
<div class="line"><span class="lineno"> 1083</span>}; <span class="comment">// namespace PAPI</span></div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span><span class="preprocessor">#</span><span class="preprocessor">endif</span></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html">PAPI::PContextActionList_t</a></div><div class="ttdoc">Action List Calls.</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:42</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_a0330f623cbd0686e4fd84abe6f2a3828"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#a0330f623cbd0686e4fd84abe6f2a3828">PAPI::PContextActionList_t::TimeStep</a></div><div class="ttdeci">void TimeStep(const float new_dt)</div><div class="ttdoc">Specify the time step length.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_a1fd276780b4ea073d187576f2459e1b4"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#a1fd276780b4ea073d187576f2459e1b4">PAPI::PContextActionList_t::CallActionList</a></div><div class="ttdeci">void CallActionList(const int action_list_num)</div><div class="ttdoc">Execute the specified action list on the current particle group.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_a777e90940cf960323ed04aace37315b8"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#a777e90940cf960323ed04aace37315b8">PAPI::PContextActionList_t::GetTimeStep</a></div><div class="ttdeci">float GetTimeStep() const</div><div class="ttdoc">Return the current time step, as set with TimeStep()</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_a7795db5cf91fd9fb837a83054cfe96c3"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#a7795db5cf91fd9fb837a83054cfe96c3">PAPI::PContextActionList_t::Seed</a></div><div class="ttdeci">void Seed(const unsigned int seed)</div><div class="ttdoc">Set the random number seed.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_a93f9538f37bfc3bba040d658fa2847a6"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#a93f9538f37bfc3bba040d658fa2847a6">PAPI::PContextActionList_t::GenActionLists</a></div><div class="ttdeci">int GenActionLists(const int action_list_count=1)</div><div class="ttdoc">Generate a block of empty action lists.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_ab4b17d4e783b9ff2d4f46781a3d7a5ca"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">PAPI::PContextActionList_t::PS</a></div><div class="ttdeci">std::shared_ptr&lt; PInternalState_t &gt; PS</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:130</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_abef97a9286180f1e53cb81a5c17e6205"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#abef97a9286180f1e53cb81a5c17e6205">PAPI::PContextActionList_t::DeleteActionLists</a></div><div class="ttdeci">void DeleteActionLists(const int action_list_num, const int action_list_count=1)</div><div class="ttdoc">Delete one or more consecutive action lists.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_aec2d30f3336b2be2ab34ba3cccc55d53"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#aec2d30f3336b2be2ab34ba3cccc55d53">PAPI::PContextActionList_t::NewActionList</a></div><div class="ttdeci">void NewActionList(const int action_list_num)</div><div class="ttdoc">Begin the creation of the specified action list.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_af0ffaad952c3b2df8bc7161deb9f9127"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#af0ffaad952c3b2df8bc7161deb9f9127">PAPI::PContextActionList_t::EndActionList</a></div><div class="ttdeci">void EndActionList()</div><div class="ttdoc">End the creation of a new action list.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_action_list__t_html_aff0b6907e8741a16ef627f960272b342"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_action_list__t.html#aff0b6907e8741a16ef627f960272b342">PAPI::PContextActionList_t::InternalSetup</a></div><div class="ttdeci">void InternalSetup(std::shared_ptr&lt; PInternalState_t &gt; Sr)</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html">PAPI::PContextActions_t</a></div><div class="ttdoc">This class contains the Action API.</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:316</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a021a9a09a3c97943d52b78b77218037f"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a021a9a09a3c97943d52b78b77218037f">PAPI::PContextActions_t::RandomDisplace</a></div><div class="ttdeci">void RandomDisplace(const pDomain &amp;dom)</div><div class="ttdoc">Immediately displace position by a random amount.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a04845de1a769badc0f7af0a38f4fe70c"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a04845de1a769badc0f7af0a38f4fe70c">PAPI::PContextActions_t::RandomDisplace</a></div><div class="ttdeci">void RandomDisplace(Particle_t &amp;m, const pDomain &amp;dom)</div><div class="ttdoc">Immediately displace position by a random amount.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:118</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a0c2aa62caaea308eb5f125c34d0175c2"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a0c2aa62caaea308eb5f125c34d0175c2">PAPI::PContextActions_t::Follow</a></div><div class="ttdeci">void Follow(Particle_t &amp;m, float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Accelerate toward the next particle in the list.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:182</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a0f8cb1fad158acfe72d21f1f1a89f133"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a0f8cb1fad158acfe72d21f1f1a89f133">PAPI::PContextActions_t::KillOld</a></div><div class="ttdeci">void KillOld(const float age_limit, const bool kill_less_than=false)</div><div class="ttdoc">Get rid of older particles.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a12ddcee8c2f54399645b57223e73e4c0"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a12ddcee8c2f54399645b57223e73e4c0">PAPI::PContextActions_t::TargetRotVelocity</a></div><div class="ttdeci">void TargetRotVelocity(Particle_t &amp;m, const pVec &amp;rvel, const float scale)</div><div class="ttdoc">Change rotational velocity of all particles toward the specified rotational velocity.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:166</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a138cc2920c8214662c66b681187c44a3"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a138cc2920c8214662c66b681187c44a3">PAPI::PContextActions_t::RandomAccel</a></div><div class="ttdeci">void RandomAccel(Particle_t &amp;m, const pDomain &amp;dom)</div><div class="ttdoc">Accelerate particles in random directions.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:112</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a13aacda27ea8731db4e9fdbcf9a65687"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a13aacda27ea8731db4e9fdbcf9a65687">PAPI::PContextActions_t::CommitKills</a></div><div class="ttdeci">void CommitKills()</div><div class="ttdoc">Delete particles tagged to be killed by inline P.I.KillOld(), P.I.Sink(), and P.I....</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a14f5a66320ae856e901d84dd4865ce6f"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a14f5a66320ae856e901d84dd4865ce6f">PAPI::PContextActions_t::SinkVelocity</a></div><div class="ttdeci">void SinkVelocity(Particle_t &amp;m, const bool kill_inside, const pDomain &amp;kill_vel_dom)</div><div class="ttdoc">Kill particles that have velocities on wrong side of the specified domain.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:227</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a16e76da8909decb2dc4f5c1f860844bb"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a16e76da8909decb2dc4f5c1f860844bb">PAPI::PContextActions_t::RandomAccel</a></div><div class="ttdeci">void RandomAccel(const pDomain &amp;dom)</div><div class="ttdoc">Accelerate particles in random directions.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a1a1a93d1de65368340495256eac06309"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a1a1a93d1de65368340495256eac06309">PAPI::PContextActions_t::CopyVertexB</a></div><div class="ttdeci">void CopyVertexB(const bool copy_pos=true, const bool copy_vel=false)</div><div class="ttdoc">Set the secondary position and velocity from current.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a1c29fe77db016b32899474911e9c6c60"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a1c29fe77db016b32899474911e9c6c60">PAPI::PContextActions_t::Source</a></div><div class="ttdeci">void Source(const float particle_rate, const pDomain &amp;dom, const pSourceState &amp;SrcSt)</div><div class="ttdoc">Add particles with positions in the specified domain.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a1e413fdc19c928d6ff41fb5a3a71b3bd"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a1e413fdc19c928d6ff41fb5a3a71b3bd">PAPI::PContextActions_t::TargetColor</a></div><div class="ttdeci">void TargetColor(const pVec &amp;color, const float alpha, const float scale)</div><div class="ttdoc">Change color of all particles toward the specified color.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a1ec0e4f88defc8fee43f7bc3f7203c3c"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a1ec0e4f88defc8fee43f7bc3f7203c3c">PAPI::PContextActions_t::MatchVelocity</a></div><div class="ttdeci">void MatchVelocity(Particle_t &amp;m, const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Modify each particle's velocity to be similar to that of its neighbors.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:194</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a24c3e50da39c97b441a85806128e9065"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a24c3e50da39c97b441a85806128e9065">PAPI::PContextActions_t::Vertex</a></div><div class="ttdeci">void Vertex(const pVec &amp;v, const pSourceState &amp;SrcSt, pdata_t data=0)</div><div class="ttdoc">Add a single particle at the specified location.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a2787653ada08d92a3c7fc7c86f44ff3f"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a2787653ada08d92a3c7fc7c86f44ff3f">PAPI::PContextActions_t::Avoid</a></div><div class="ttdeci">void Avoid(float magnitude, const float epsilon, const float look_ahead, const pDomain &amp;dom)</div><div class="ttdoc">Steer particles away from a domain of space.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a28d18b058543458feb888446e43ee0c8"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a28d18b058543458feb888446e43ee0c8">PAPI::PContextActions_t::Restore</a></div><div class="ttdeci">void Restore(Particle_t &amp;m, const float time, const bool vel=true, const bool rvel=true)</div><div class="ttdoc">Over time, restore particles to their target positionB and upB.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:136</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a29d5313d41325a72dc7e9a53a0e332aa"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a29d5313d41325a72dc7e9a53a0e332aa">PAPI::PContextActions_t::Callback</a></div><div class="ttdeci">void Callback(Particle_t &amp;m, P_PARTICLE_CALLBACK_ACTION callbackFunc, const pdata_t call_data=0)</div><div class="ttdoc">Call an arbitrary user-provided function on each particle in the group.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:209</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a3a5c6b977f44d48ae69ef988e38010b8"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a3a5c6b977f44d48ae69ef988e38010b8">PAPI::PContextActions_t::Move</a></div><div class="ttdeci">void Move(Particle_t &amp;m, const bool move_velocity=true, const bool move_rotational_velocity=true)</div><div class="ttdoc">Apply the particles' velocities to their positions, and age the particles.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:94</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a3b7614b53704335235cbfca6e60d5d42"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a3b7614b53704335235cbfca6e60d5d42">PAPI::PContextActions_t::Restore</a></div><div class="ttdeci">void Restore(const float time, const bool vel=true, const bool rvel=true)</div><div class="ttdoc">Over time, restore particles to their target positionB and upB.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a3c5c50eae28c371dc0df1fe77558b480"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a3c5c50eae28c371dc0df1fe77558b480">PAPI::PContextActions_t::Jet</a></div><div class="ttdeci">void Jet(Particle_t &amp;m, const pDomain &amp;dom, const pDomain &amp;acc)</div><div class="ttdoc">For particles in the domain of influence, accelerate them with a domain.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:88</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a3ca5a17b549add57f4159412509386ea"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a3ca5a17b549add57f4159412509386ea">PAPI::PContextActions_t::RandomRotVelocity</a></div><div class="ttdeci">void RandomRotVelocity(const pDomain &amp;dom)</div><div class="ttdoc">Immediately assign a random rotational velocity.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a43938615298de20013c393c422707523"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a43938615298de20013c393c422707523">PAPI::PContextActions_t::OrbitLine</a></div><div class="ttdeci">void OrbitLine(Particle_t &amp;m, const pVec &amp;p, const pVec &amp;axis, const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Accelerate particles toward the closest point on the given line.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:100</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a46a44cce6be31b73204cd59093c1cdb1"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a46a44cce6be31b73204cd59093c1cdb1">PAPI::PContextActions_t::SpeedClamp</a></div><div class="ttdeci">void SpeedClamp(const float min_speed, const float max_speed)</div><div class="ttdoc">Clamp particle velocities to the given range.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a4aa0eaae98dbc2230b81101ed1f2f826"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a4aa0eaae98dbc2230b81101ed1f2f826">PAPI::PContextActions_t::KillOld</a></div><div class="ttdeci">void KillOld(Particle_t &amp;m, const float age_limit, const bool kill_less_than=false)</div><div class="ttdoc">Get rid of older particles.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:215</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a5696a31d3ad5f8ce1863b7b3467980dc"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a5696a31d3ad5f8ce1863b7b3467980dc">PAPI::PContextActions_t::ParticleLoop</a></div><div class="ttdeci">void ParticleLoop(ExPol &amp;&amp;policy, UnaryFunction f)</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:1061</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a640597dc6376e993409b6cb331b219b0"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a640597dc6376e993409b6cb331b219b0">PAPI::PContextActions_t::Sort</a></div><div class="ttdeci">void Sort(const pVec &amp;eye, const pVec &amp;look_dir, const bool front_to_back=false, const bool clamp_negative=false)</div><div class="ttdoc">Sort the particles by their projection onto the look vector.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a6595c824cac3dddc9f5d2a92dbf244e3"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a6595c824cac3dddc9f5d2a92dbf244e3">PAPI::PContextActions_t::ParticleLoop</a></div><div class="ttdeci">void ParticleLoop(UnaryFunction f)</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:1055</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a69d4c0b9891b63db44fe94afc7fd7da8"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a69d4c0b9891b63db44fe94afc7fd7da8">PAPI::PContextActions_t::OrbitPoint</a></div><div class="ttdeci">void OrbitPoint(const pVec &amp;center, const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Accelerate particles toward the given center point.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a6adf8fe3e2b93813d36d2c9859aecf0f"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a6adf8fe3e2b93813d36d2c9859aecf0f">PAPI::PContextActions_t::Vortex</a></div><div class="ttdeci">void Vortex(const pVec &amp;tip, const pVec &amp;axis, const float tightnessExponent, const float max_radius, const float inSpeed, const float upSpeed, const float aroundSpeed)</div><div class="ttdoc">Accelerate particles in a vortex-like way.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a6cc1b4af4c0b2e473a53c20eb8d0e938"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a6cc1b4af4c0b2e473a53c20eb8d0e938">PAPI::PContextActions_t::Damping</a></div><div class="ttdeci">void Damping(Particle_t &amp;m, const pVec &amp;damping, const float min_vel=0.0f, const float max_vel=P_MAXFLOAT)</div><div class="ttdoc">Simulate air by dampening particle velocities.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:64</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a6df7e64a6d81a95605727fc5e3f04683"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a6df7e64a6d81a95605727fc5e3f04683">PAPI::PContextActions_t::OrbitLine</a></div><div class="ttdeci">void OrbitLine(const pVec &amp;p, const pVec &amp;axis, const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Accelerate particles toward the closest point on the given line.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a7a47df76272237ff42ff3a716aac9df4"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a7a47df76272237ff42ff3a716aac9df4">PAPI::PContextActions_t::TargetVelocity</a></div><div class="ttdeci">void TargetVelocity(Particle_t &amp;m, const pVec &amp;vel, const float scale)</div><div class="ttdoc">Change velocity of all particles toward the specified velocity.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:160</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a7a74d47bced1f9880ea6d0199ad6c230"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a7a74d47bced1f9880ea6d0199ad6c230">PAPI::PContextActions_t::Bounce</a></div><div class="ttdeci">void Bounce(float friction, const float resilience, const float fric_min_vel, const pDomain &amp;dom)</div><div class="ttdoc">Bounce particles off an object defined by a domain.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a7de312bfa9e8404014ff99f15170a5f1"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a7de312bfa9e8404014ff99f15170a5f1">PAPI::PContextActions_t::Move</a></div><div class="ttdeci">void Move(const bool move_velocity=true, const bool move_rotational_velocity=true)</div><div class="ttdoc">Apply the particles' velocities to their positions, and age the particles.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a86da1a6e94fc8461bec7457c31c75aa5"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a86da1a6e94fc8461bec7457c31c75aa5">PAPI::PContextActions_t::Explosion</a></div><div class="ttdeci">void Explosion(Particle_t &amp;m, const pVec &amp;center, const float radius, const float magnitude, const float sigma, const float epsilon=P_EPS)</div><div class="ttdoc">Exert force on each particle away from explosion center.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:76</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a8c43d58ba73f2d90ea896e5f360283aa"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a8c43d58ba73f2d90ea896e5f360283aa">PAPI::PContextActions_t::Gravity</a></div><div class="ttdeci">void Gravity(Particle_t &amp;m, const pVec &amp;dir)</div><div class="ttdoc">Accelerate particles in the given direction.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:82</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a8d430f578ef3e36db807984e7eac2255"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a8d430f578ef3e36db807984e7eac2255">PAPI::PContextActions_t::Gravitate</a></div><div class="ttdeci">void Gravitate(Particle_t &amp;m, const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Accelerate each particle toward each other particle.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:188</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a92db77fce6d085d02d46a8c262b0dec7"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a92db77fce6d085d02d46a8c262b0dec7">PAPI::PContextActions_t::PSh</a></div><div class="ttdeci">PInternalShadow_t PSh</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:1069</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_a9b2d572a5da762693c7c55d051f77668"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#a9b2d572a5da762693c7c55d051f77668">PAPI::PContextActions_t::TargetVelocity</a></div><div class="ttdeci">void TargetVelocity(const pVec &amp;vel, const float scale)</div><div class="ttdoc">Change velocity of all particles toward the specified velocity.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_aa0c2af23e1306533124098454a5a7af4"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#aa0c2af23e1306533124098454a5a7af4">PAPI::PContextActions_t::Vortex</a></div><div class="ttdeci">void Vortex(Particle_t &amp;m, const pVec &amp;tip, const pVec &amp;axis, const float tightnessExponent, const float max_radius, const float inSpeed, const float upSpeed, const float aroundSpeed)</div><div class="ttdoc">Accelerate particles in a vortex-like way.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:172</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_aa16ae63dc83e382151aaf825401a55e7"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#aa16ae63dc83e382151aaf825401a55e7">PAPI::PContextActions_t::Avoid</a></div><div class="ttdeci">void Avoid(Particle_t &amp;m, float magnitude, const float epsilon, const float look_ahead, const pDomain &amp;dom)</div><div class="ttdoc">The inline actions API calls take a Particle_t as the first argument. Otherwise the call signatures m...</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:31</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_aa19d888611038fdc1c20860be8ca5449"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#aa19d888611038fdc1c20860be8ca5449">PAPI::PContextActions_t::OrbitPoint</a></div><div class="ttdeci">void OrbitPoint(Particle_t &amp;m, const pVec &amp;center, const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Accelerate particles toward the given center point.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:106</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_aa38e3c026791173cb8542eed1b2dea7d"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#aa38e3c026791173cb8542eed1b2dea7d">PAPI::PContextActions_t::Explosion</a></div><div class="ttdeci">void Explosion(const pVec &amp;center, const float radius, const float magnitude, const float sigma, const float epsilon=P_EPS)</div><div class="ttdoc">Exert force on each particle away from explosion center.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_aa9a3ce9c749fd9d4a8a430674e7fd4c9"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#aa9a3ce9c749fd9d4a8a430674e7fd4c9">PAPI::PContextActions_t::Sink</a></div><div class="ttdeci">void Sink(Particle_t &amp;m, const bool kill_inside, const pDomain &amp;kill_pos_dom)</div><div class="ttdoc">Kill particles that have positions on wrong side of the specified domain.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:221</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_aadac5399a08ff5ec4756eaaac8d5683b"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#aadac5399a08ff5ec4756eaaac8d5683b">PAPI::PContextActions_t::SpeedClamp</a></div><div class="ttdeci">void SpeedClamp(Particle_t &amp;m, const float min_speed, const float max_speed)</div><div class="ttdoc">Clamp particle velocities to the given range.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:142</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ab3e8aa03d1da61ae9f50a24a3f5daead"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ab3e8aa03d1da61ae9f50a24a3f5daead">PAPI::PContextActions_t::Callback</a></div><div class="ttdeci">void Callback(P_PARTICLE_CALLBACK_ACTION callbackFunc, const pdata_t call_data=0)</div><div class="ttdoc">Call an arbitrary user-provided function on each particle in the group.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ab4b17d4e783b9ff2d4f46781a3d7a5ca"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">PAPI::PContextActions_t::PS</a></div><div class="ttdeci">std::shared_ptr&lt; PInternalState_t &gt; PS</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:1070</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ab921ac9014746b5ded21bdd6929f28cb"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ab921ac9014746b5ded21bdd6929f28cb">PAPI::PContextActions_t::RandomVelocity</a></div><div class="ttdeci">void RandomVelocity(const pDomain &amp;dom)</div><div class="ttdoc">Replace particle velocity with a random velocity.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_abb0713d6237d773f42318465997d9bfe"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#abb0713d6237d773f42318465997d9bfe">PAPI::PContextActions_t::Jet</a></div><div class="ttdeci">void Jet(const pDomain &amp;dom, const pDomain &amp;acc)</div><div class="ttdoc">For particles in the domain of influence, accelerate them with a domain.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_abb94f9574644ff524ceb3e31080fe395"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#abb94f9574644ff524ceb3e31080fe395">PAPI::PContextActions_t::Sink</a></div><div class="ttdeci">void Sink(const bool kill_inside, const pDomain &amp;kill_pos_dom)</div><div class="ttdoc">Kill particles that have positions on wrong side of the specified domain.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ac1cf5c3c96e62e78d15523bb016a83dc"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ac1cf5c3c96e62e78d15523bb016a83dc">PAPI::PContextActions_t::RotDamping</a></div><div class="ttdeci">void RotDamping(const pVec &amp;damping, const float min_vel=0.0f, const float max_vel=P_MAXFLOAT)</div><div class="ttdoc">Simulate air by dampening rotational velocities.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ac5b174c7690e240927449881ac8f91b9"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ac5b174c7690e240927449881ac8f91b9">PAPI::PContextActions_t::MatchRotVelocity</a></div><div class="ttdeci">void MatchRotVelocity(const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Modify each particle's rotational velocity to be similar to that of its neighbors.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ac72b4d95aa54e0d5981ba471ab207697"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ac72b4d95aa54e0d5981ba471ab207697">PAPI::PContextActions_t::MatchRotVelocity</a></div><div class="ttdeci">void MatchRotVelocity(Particle_t &amp;m, const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Modify each particle's rotational velocity to be similar to that of its neighbors.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:200</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ac84a59919e1951dfb5b123bb7021a40d"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ac84a59919e1951dfb5b123bb7021a40d">PAPI::PContextActions_t::CopyVertexB</a></div><div class="ttdeci">void CopyVertexB(Particle_t &amp;m, const bool copy_pos=true, const bool copy_vel=false)</div><div class="ttdoc">Set the secondary position and velocity from current.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:58</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ac8592cb5633cf521ba2cab6f959a9762"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ac8592cb5633cf521ba2cab6f959a9762">PAPI::PContextActions_t::TargetSize</a></div><div class="ttdeci">void TargetSize(Particle_t &amp;m, const pVec &amp;size, const pVec &amp;scale)</div><div class="ttdoc">Change sizes of all particles toward the specified size.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:154</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ace4e779b823ee91f955a2739069da2c8"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ace4e779b823ee91f955a2739069da2c8">PAPI::PContextActions_t::Bounce</a></div><div class="ttdeci">void Bounce(Particle_t &amp;m, float friction, const float resilience, const float fric_min_vel, const pDomain &amp;dom)</div><div class="ttdoc">Bounce particles off an object defined by a domain.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:44</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_acf5f4d7dbcc3b9b1bcaf8fc6fa30fcf4"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#acf5f4d7dbcc3b9b1bcaf8fc6fa30fcf4">PAPI::PContextActions_t::SinkVelocity</a></div><div class="ttdeci">void SinkVelocity(const bool kill_inside, const pDomain &amp;kill_vel_dom)</div><div class="ttdoc">Kill particles that have velocities on wrong side of the specified domain.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ad218927aef97bb32de9ad91b3b984670"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ad218927aef97bb32de9ad91b3b984670">PAPI::PContextActions_t::Gravitate</a></div><div class="ttdeci">void Gravitate(const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Accelerate each particle toward each other particle.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ad6a5d5f5d51adc04ff1a0319462edc52"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ad6a5d5f5d51adc04ff1a0319462edc52">PAPI::PContextActions_t::Damping</a></div><div class="ttdeci">void Damping(const pVec &amp;damping, const float min_vel=0.0f, const float max_vel=P_MAXFLOAT)</div><div class="ttdoc">Simulate air by dampening particle velocities.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_addc3f942411f85b8b6863598fd0c5b9a"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#addc3f942411f85b8b6863598fd0c5b9a">PAPI::PContextActions_t::MatchVelocity</a></div><div class="ttdeci">void MatchVelocity(const float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Modify each particle's velocity to be similar to that of its neighbors.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ae1cb64b2a8d902681ffbe36c4fc98d27"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ae1cb64b2a8d902681ffbe36c4fc98d27">PAPI::PContextActions_t::Follow</a></div><div class="ttdeci">void Follow(float magnitude=1.0f, const float epsilon=P_EPS, const float max_radius=P_MAXFLOAT)</div><div class="ttdoc">Accelerate toward the next particle in the list.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ae4c5c867725fe40de3c444e5841165be"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ae4c5c867725fe40de3c444e5841165be">PAPI::PContextActions_t::RotDamping</a></div><div class="ttdeci">void RotDamping(Particle_t &amp;m, const pVec &amp;damping, const float min_vel=0.0f, const float max_vel=P_MAXFLOAT)</div><div class="ttdoc">Simulate air by dampening rotational velocities.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:70</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ae6b690fb389ca5d433e732a5fc0b8600"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ae6b690fb389ca5d433e732a5fc0b8600">PAPI::PContextActions_t::RandomRotVelocity</a></div><div class="ttdeci">void RandomRotVelocity(Particle_t &amp;m, const pDomain &amp;dom)</div><div class="ttdoc">Immediately assign a random rotational velocity.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:130</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_ae7cd7f494f1d306d7660ba54f0cebec7"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#ae7cd7f494f1d306d7660ba54f0cebec7">PAPI::PContextActions_t::TargetRotVelocity</a></div><div class="ttdeci">void TargetRotVelocity(const pVec &amp;rvel, const float scale)</div><div class="ttdoc">Change rotational velocity of all particles toward the specified rotational velocity.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_af3339a51712fd2d8c894e6d8e8f333b8"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#af3339a51712fd2d8c894e6d8e8f333b8">PAPI::PContextActions_t::RandomVelocity</a></div><div class="ttdeci">void RandomVelocity(Particle_t &amp;m, const pDomain &amp;dom)</div><div class="ttdoc">Replace particle velocity with a random velocity.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:124</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_af98e7e68da84ef78e82343db8c7d6c54"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#af98e7e68da84ef78e82343db8c7d6c54">PAPI::PContextActions_t::TargetSize</a></div><div class="ttdeci">void TargetSize(const pVec &amp;size, const pVec &amp;scale)</div><div class="ttdoc">Change sizes of all particles toward the specified size.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_afadae6e4934feecff9fe72b2e49da9b3"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#afadae6e4934feecff9fe72b2e49da9b3">PAPI::PContextActions_t::TargetColor</a></div><div class="ttdeci">void TargetColor(Particle_t &amp;m, const pVec &amp;color, const float alpha, const float scale)</div><div class="ttdoc">Change color of all particles toward the specified color.</div><div class="ttdef"><b>Definition:</b> pInlineActionsAPI.h:148</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_afd33f95bbc38e128ccae51a658321be3"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#afd33f95bbc38e128ccae51a658321be3">PAPI::PContextActions_t::Gravity</a></div><div class="ttdeci">void Gravity(const pVec &amp;dir)</div><div class="ttdoc">Accelerate particles in the given direction.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_actions__t_html_aff0b6907e8741a16ef627f960272b342"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_actions__t.html#aff0b6907e8741a16ef627f960272b342">PAPI::PContextActions_t::InternalSetup</a></div><div class="ttdeci">void InternalSetup(std::shared_ptr&lt; PInternalState_t &gt; Sr)</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html">PAPI::PContextParticleGroup_t</a></div><div class="ttdoc">This class contains the API calls that operate on particle groups.</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:148</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_a0c0eaac8b9d6b1e5d2520173ee936522"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a0c0eaac8b9d6b1e5d2520173ee936522">PAPI::PContextParticleGroup_t::DeathCallback</a></div><div class="ttdeci">void DeathCallback(P_PARTICLE_CALLBACK callback, pdata_t group_data=0)</div><div class="ttdoc">Specify a particle death callback.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_a1112f0655c7c1b62f870511b8afef9d7"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a1112f0655c7c1b62f870511b8afef9d7">PAPI::PContextParticleGroup_t::SetWorkingSetSize</a></div><div class="ttdeci">void SetWorkingSetSize(const int set_size_bytes)</div><div class="ttdoc">Set the number of particles that fit in the CPU's cache.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_a2875a5464c1810fa11a88e057b56cd84"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a2875a5464c1810fa11a88e057b56cd84">PAPI::PContextParticleGroup_t::BirthCallback</a></div><div class="ttdeci">void BirthCallback(P_PARTICLE_CALLBACK callback, pdata_t group_data=0)</div><div class="ttdoc">Specify a particle creation callback.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_a49aab2a3887103f5bbeccebef529a31b"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a49aab2a3887103f5bbeccebef529a31b">PAPI::PContextParticleGroup_t::DeleteParticleGroups</a></div><div class="ttdeci">void DeleteParticleGroups(const int p_group_num, const int p_group_count=1)</div><div class="ttdoc">Delete one or more consecutive particle groups.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_a75cdf009111297f02b803ac08d0a4213"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a75cdf009111297f02b803ac08d0a4213">PAPI::PContextParticleGroup_t::GetParticlePointer</a></div><div class="ttdeci">size_t GetParticlePointer(const float *&amp;ptr, size_t &amp;stride, size_t &amp;pos3Ofs, size_t &amp;posB3Ofs, size_t &amp;size3Ofs, size_t &amp;vel3Ofs, size_t &amp;velB3Ofs, size_t &amp;color3Ofs, size_t &amp;alpha1Ofs, size_t &amp;age1Ofs, size_t &amp;up3Ofs, size_t &amp;rvel3Ofs, size_t &amp;upB3Ofs, size_t &amp;mass1Ofs, size_t &amp;data1Ofs)</div><div class="ttdoc">Return a pointer to particle data stored in API memory.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_a7c117f3b121b6709021ecf4036a3be53"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#a7c117f3b121b6709021ecf4036a3be53">PAPI::PContextParticleGroup_t::CopyGroup</a></div><div class="ttdeci">void CopyGroup(const int p_src_group_num, const size_t index, const size_t copy_count)</div><div class="ttdoc">Copy particles from the specified group into the current group.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_ab4b17d4e783b9ff2d4f46781a3d7a5ca"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab4b17d4e783b9ff2d4f46781a3d7a5ca">PAPI::PContextParticleGroup_t::PS</a></div><div class="ttdeci">std::shared_ptr&lt; PInternalState_t &gt; PS</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:289</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_ab94327f011a4f3713cb0941abe0da63f"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ab94327f011a4f3713cb0941abe0da63f">PAPI::PContextParticleGroup_t::GetMaxParticles</a></div><div class="ttdeci">size_t GetMaxParticles()</div><div class="ttdoc">Return the maximum number of particles allowed in the current group.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_abbcc2cd2340624560e3b2cf6e9d5cb0c"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#abbcc2cd2340624560e3b2cf6e9d5cb0c">PAPI::PContextParticleGroup_t::GetGroupCount</a></div><div class="ttdeci">size_t GetGroupCount()</div><div class="ttdoc">Returns the number of particles existing in the current group.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_ac89a60f3740531bba39533bf75d3e990"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ac89a60f3740531bba39533bf75d3e990">PAPI::PContextParticleGroup_t::SetMaxParticles</a></div><div class="ttdeci">void SetMaxParticles(const size_t max_count)</div><div class="ttdoc">Change the maximum number of particles in the current group.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_ad6b48bdc6e998672ff0df1c4f581230b"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#ad6b48bdc6e998672ff0df1c4f581230b">PAPI::PContextParticleGroup_t::GenParticleGroups</a></div><div class="ttdeci">int GenParticleGroups(const int p_group_count=1, const size_t max_particles=0)</div><div class="ttdoc">Create particle groups, each with a maximum of max_particles.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_af1ddcf82756a87ded68e545cad3e8d90"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af1ddcf82756a87ded68e545cad3e8d90">PAPI::PContextParticleGroup_t::CurrentGroup</a></div><div class="ttdeci">void CurrentGroup(const int p_group_num)</div><div class="ttdoc">Change which group is current.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_af589e7bdf0c3280bce5442782563ae6b"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#af589e7bdf0c3280bce5442782563ae6b">PAPI::PContextParticleGroup_t::GetParticles</a></div><div class="ttdeci">size_t GetParticles(const size_t index, const size_t count, float *position, const bool getAlpha, float *color=NULL, float *vel=NULL, float *size=NULL, float *age=NULL)</div><div class="ttdoc">Copy particles from the current group to application memory.</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_p_context_particle_group__t_html_aff0b6907e8741a16ef627f960272b342"><div class="ttname"><a href="class_p_a_p_i_1_1_p_context_particle_group__t.html#aff0b6907e8741a16ef627f960272b342">PAPI::PContextParticleGroup_t::InternalSetup</a></div><div class="ttdeci">void InternalSetup(std::shared_ptr&lt; PInternalState_t &gt; Sr)</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_particle_context__t_html"><div class="ttname"><a href="class_p_a_p_i_1_1_particle_context__t.html">PAPI::ParticleContext_t</a></div><div class="ttdoc">The Particle System API Context - Your app should have one of these per host thread that will do part...</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:1079</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1_particle_context__t_html_acbc0cae769760f4ac4af871761aae98f"><div class="ttname"><a href="class_p_a_p_i_1_1_particle_context__t.html#acbc0cae769760f4ac4af871761aae98f">PAPI::ParticleContext_t::ParticleContext_t</a></div><div class="ttdeci">ParticleContext_t()</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1p_domain_html"><div class="ttname"><a href="class_p_a_p_i_1_1p_domain.html">PAPI::pDomain</a></div><div class="ttdoc">A representation of a region of space.</div><div class="ttdef"><b>Definition:</b> pDomain.h:55</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1p_source_state_html"><div class="ttname"><a href="class_p_a_p_i_1_1p_source_state.html">PAPI::pSourceState</a></div><div class="ttdoc">These functions set the current state needed by Source() and Vertex() actions.</div><div class="ttdef"><b>Definition:</b> pSourceState.h:21</div></div>
<div class="ttc" id="aclass_p_a_p_i_1_1p_vec_html"><div class="ttname"><a href="class_p_a_p_i_1_1p_vec.html">PAPI::pVec</a></div><div class="ttdoc">A single-precision floating point three-vector.</div><div class="ttdef"><b>Definition:</b> pVec.h:63</div></div>
<div class="ttc" id="anamespace_p_a_p_i_html"><div class="ttname"><a href="namespace_p_a_p_i.html">PAPI</a></div><div class="ttdoc">PAPIClasses.h.</div><div class="ttdef"><b>Definition:</b> pAPIContext.h:18</div></div>
<div class="ttc" id="anamespace_p_a_p_i_html_a37212c76051870544901840b9a94a0c8"><div class="ttname"><a href="namespace_p_a_p_i.html#a37212c76051870544901840b9a94a0c8">PAPI::P_MAXFLOAT</a></div><div class="ttdeci">const float P_MAXFLOAT</div><div class="ttdoc">A very large float value used as a default arg passed into functions.</div><div class="ttdef"><b>Definition:</b> pDeclarations.h:19</div></div>
<div class="ttc" id="anamespace_p_a_p_i_html_a71e479d5c40fee5d4c49a194002a9c38"><div class="ttname"><a href="namespace_p_a_p_i.html#a71e479d5c40fee5d4c49a194002a9c38">PAPI::P_PARTICLE_CALLBACK_ACTION</a></div><div class="ttdeci">void(* P_PARTICLE_CALLBACK_ACTION)(struct Particle_t &amp;particle, const pdata_t data, const float dt)</div><div class="ttdoc">This is the type of the callback functions that you can register for the Callback() action.</div><div class="ttdef"><b>Definition:</b> pDeclarations.h:28</div></div>
<div class="ttc" id="anamespace_p_a_p_i_html_a8f210e08b253efc043296efeaf9ddda3"><div class="ttname"><a href="namespace_p_a_p_i.html#a8f210e08b253efc043296efeaf9ddda3">PAPI::pdata_t</a></div><div class="ttdeci">unsigned int pdata_t</div><div class="ttdef"><b>Definition:</b> pDeclarations.h:16</div></div>
<div class="ttc" id="anamespace_p_a_p_i_html_acdfcf7e535bc26fd322ed304b82d7242"><div class="ttname"><a href="namespace_p_a_p_i.html#acdfcf7e535bc26fd322ed304b82d7242">PAPI::P_EPS</a></div><div class="ttdeci">const float P_EPS</div><div class="ttdoc">A very small float value added to some physical calculations to dampen them and improve stability.</div><div class="ttdef"><b>Definition:</b> pDeclarations.h:22</div></div>
<div class="ttc" id="astruct_p_a_p_i_1_1_particle__t_html"><div class="ttname"><a href="struct_p_a_p_i_1_1_particle__t.html">PAPI::Particle_t</a></div><div class="ttdef"><b>Definition:</b> pParticle.h:18</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
